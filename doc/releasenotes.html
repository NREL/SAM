<!DOCTYPE html>

<html lang="en" dir="ltr">
<head>
<meta http-equiv="Content-Type">
<meta content="text/html>
<meta charset=UTF-8">
<title>System Advisor Model (SAM) Release Notes</title>
<style>
 h1 
 {background-color: #0072C6;
 color: white;
 font-family: Segoe UI,sans-serif;
 font-weight: normal;
 font-size: 16pt;
 padding: 10px;}
 h2 
 {font-family: Segoe UI,sans-serif;
 background-color: #B8CCE4;
 color: #0072C6;
 font-weight: normal;
 font-size: 14pt;
 padding: 5px;}
 p,li 
 {font-family: Segoe UI,sans-serif;
 font-size: 11pt;}
 table 
 {font-family: Segoe UI,sans-serif;
 border-collapse: collapse;
 width: 90%;
 margin-left:auto;
 margin-right:auto;}
 td, th 
 {border: 1px solid #dddddd;
 padding: 8px;
 text-align:center;}
 tr:nth-child(even) 
 {background-color: #dddddd;}
</style>
</head>
	
 <body>
       <p style="font-family:Segoe UI,sans-serif;font-size:20pt;text-align:center;color:#0072C6;">System Advisor Model (SAM) Release Notes</p>

<!-- TEMPLATE

<h1>Version yyyy.m.d, [Revision n], SSC Version nnn: Month d, yyyy</h1>

<p>Summary: **BRIEF PARAGRAPH DESCRIBING MAJOR CHANGES IN THIS VERSION **</p>

<h2>**CATEGORY: General, Solar, Detailed Photovoltaic, Wind Power, CSP Physical Trough, PPA Single Owner, etc.**</h2>

<ul>
<li>**ITEM 1 DESCRIPTION: Sentence in describing change, and if relevent, impact on results.**
<li>**ITEM 2 DESCRIPTION**
<li>...
</ul>


-->

<h1 id="2021-12-02-r2">Version 2021.12.02 Revision 2: June 2, 2022</h1>

<p>This is a maintenance update to <a href="#2021-12-02">SAM 2021.12.02 Revision 1</a>.</p>

<ul>
<li>Fix Send to Excel with Equations for all financial models so that Excel results more closely match SAM results. (<a href="https://github.com/NREL/SAM/pull/1044">1044</a>)</li>
<li>Fix NSRDB weather data queries from Advanced NSRDB window to return correct time zone. (<a href="https://github.com/NREL/SAM/pull/1023">1023</a>)</li>
<li>Improve messages when NSRDB API returns an error message instead of weather data. (<a href="https://github.com/NREL/SAM/pull/1018">1018</a>)</li>
<li>Update CEC module and inverter libraries to May 2022 CEC database versions. (<a href="https://github.com/NREL/SAM/pull/1057">1057</a>)</li>
<li>Improve feeback for parametric simulation graphs when they cannot be displayed. (<a href="https://github.com/NREL/SAM/pull/1051">1051</a>)</li>
<li>Change labels on Results page Metrics table and graphs to be more consistent with output variable labels. (<a href="https://github.com/NREL/SAM/pull/1045">1045</a>)</li>
<li>Fix PVWatts land area value shown on cost input pages for PVWatts Battery configurations. (<a href="https://github.com/NREL/SAM/pull/1037">1037</a>)</li>
<li>Update Solar Resource File Converter macro to better handle subhourly SolarAnywhere data. (<a href="https://github.com/NREL/SAM/pull/1019">1019</a>)</li>
<li>Fix issue with Data Tables tab on Results page to correctly group variables by number of rows. (<a href="https://github.com/NREL/SAM/pull/1001">1001</a>)</li>
<li>Detailed PV
<ul>
<li>Add button to Inverter page Inverter Datasheet option to import library parameters to datasheet inputs. (<a href="https://github.com/NREL/SAM/pull/1053">1053</a>)</li>
<li>Fix inverter temperature derate table issue to provide feedback instead of generating an error when table has wrong number of columns. (<a href="https://github.com/NREL/SAM/pull/1027">1027</a>)</li>
<li>Fix PVsyst shade data import for Version 7. (<a href="https://github.com/NREL/SAM/pull/1054">1054</a>)</li>
<li>Fix PVsyst PAN to SAM macro to bettery handle module technology parameter. (<a href="https://github.com/NREL/SAM/pull/1047">1047</a>)</li>
</ul>
</li>
<li>Battery Storage
<ul>
<li>Add metric for capacity factor based on AC power to Standalone Battery configurations. (<a href="https://github.com/NREL/SAM/pull/1050">1050</a>)</li>
<li>Fix Standalone Battery nameplate capacity value used for capacity-based incentive and capacity revenue calculations. (<a href="https://github.com/NREL/SAM/pull/1040">1040</a>)</li>
<li>Add a new LK sample script to replicate battery computed properties calculations from SAM's user interface.(<a href="https://github.com/NREL/SAM/pull/1002">1002</a>)</li>
</ul>
</li>
<li>Concentrating Solar Power (CSP)
<ul>
<li>Fix physical trough bug when number of SCAs in loop is changed. (<a href="https://github.com/NREL/SAM/pull/1014">1014</a>)</li>
<li>Fix issues with custom HTF. (<a href="https://github.com/NREL/SAM/pull/1007">1007</a>, <a href="https://github.com/NREL/SAM/pull/1006">1006</a>)</li>

</ul>
</li>
<li>Marine Energy
<ul>
<li>For Wave Energy model, improve layout and text on Wave Resource input page. (<a href="https://github.com/NREL/SAM/pull/1025">1025</a>)</li>
</ul>
</li>
</ul>


<h1 id="2021-12-02-r1">Version 2021.12.02 Revision 1: February 21, 2022</h1>

<p>This is a maintenance update to <a href="#2021-12-02">SAM 2021.12.02</a>.</p>

<ul>
<li>Update CEC module and inverter libraries to December 2021 and February 2022 CEC database versions, respectively. (<a href="https://github.com/NREL/SAM/pull/946">946</a>)</li>
<li>Change default sales tax value to same value for all configurations. (<a href="https://github.com/NREL/SAM/pull/844">844</a>)</li>
<li>Fix issues with Solar Resource location name parsing of latitude/longitude pairs, addresses, and location names. (<a href="https://github.com/NREL/SAM/pull/929">929</a>)</li>
<li>Allow PVLIB labels as solar resource data columns in SAM CSV weather file format. (<a href="https://github.com/NREL/ssc/pull/754">SSC 754</a>)</li>
<li>Fix land area calculations for PVWatts and Detailed Photovoltaic models. (<a href="https://github.com/NREL/SAM/pull/928">928</a>, <a href="https://github.com/NREL/ssc/pull/761">SSC 761</a>)</li>
<li>Revise Help topics and fix issues with context-sensitive ETES Help topics not displaying properly. (<a href="https://github.com/NREL/SAM/pull/938">938</a>)</li>
<li>Fix marine energy labels in user interface. (<a href="https://github.com/NREL/SAM/pull/916">916</a>)</li>
<li>New marine wave energy option to convert time series wave resource data file to joint probability distribution data file. (<a href="https://github.com/NREL/SAM/pull/892">892</a>)</li>
<li>Update geothermal drilling cost curves. (<a href="https://github.com/NREL/SAM/pull/910">910</a>)</li>
<li>Fix geothermal issue with time stamps for hourly simulation option. (<a href="https://github.com/NREL/ssc/pull/690">SSC 690</a></li>
<li>Update electric thermal energy storage (ETES) default tax incentives and debt mode. (<a href="https://github.com/NREL/SAM/pull/900">900</a>)</li>
<li>Fix issue with wind turbine characteristics equations. (<a href="https://github.com/NREL/SAM/pull/897">894</a>, <a href="https://github.com/NREL/ssc/pull/730">SSC 730</a>)</li>
<li>Allow wind resource files with "srw" and "csv" extension. (<a href="https://github.com/NREL/SAM/pull/929">929</a>)</li>	
<li>Update SAM sample files to work with SAM 2021.12.01. (<a href="https://github.com/NREL/SAM/pull/895">895</a>)</li>
<li>Cash Flow
<ul>
    <li>Fix Cash Flow Send to Excel with Equations for Single Owner financial model. This feature will be fixed for other financial models for SAM 2021.12.02 Revision 2. (<a href="https://github.com/NREL/SAM/pull/936">936</a>)</li>
    <li>Add operation and maintenance costs for battery, fuel cell, and fuel as appropriate to cash flow operating costs line itames. (<a href="https://github.com/NREL/SAM/pull/927">927</a>, <a href="https://github.com/NREL/SAM/pull/909">909</a>, <a href="https://github.com/NREL/ssc/pull/762">SSC 762</a>, <a href="https://github.com/NREL/ssc/pull/753">SSC 753</a>)</li>
    <li>Fix annual electricity values for cash flow output. (<a href="https://github.com/NREL/SAM/pull/919">919</a>, <a href="https://github.com/NREL/ssc/pull/756">SSC 756</a>, <a href="https://github.com/NREL/ssc/pull/750">SSC 750</a>)</li>
</ul>
</li>
<li>Battery
<ul>
    <li>Fix issue with battery environment temperature input. (<a href="https://github.com/NREL/SAM/pull/920">920</a>, <a href="https://github.com/NREL/ssc/pull/751">SSC 751</a>)</li>
    <li>Fix issues with battery dispatch inputs including enabling/disabling options, and grid power target array length. (<a href="https://github.com/NREL/SAM/pull/860">860</a>, <a href="https://github.com/NREL/SAM/pull/855">855</a>, <a href="https://github.com/NREL/SAM/pull/858">858</a>)</li>
    <li>Fix battery life model for Li-ion NMC/Graphite battery type. (<a href="https://github.com/NREL/ssc/pull/763">SSC 763</a>, <a href="https://github.com/NREL/ssc/pull/748">748</a>)</li>
    <li>Fix battery dispatch PV smoothing algorithm to make battery state of charge value for dispatch consistent with value for simulation. (<a href="https://github.com/NREL/ssc/pull/758">SSC 758</a>)</li>
    <li>Fix issue with battery merchant plant dispatch to power price and check that generation exceeds cleared capacity. (<a href="https://github.com/NREL/ssc/pull/729">SSC 729</a>)</li>
    <li>Change "Market sell rate" label to "Power price for battery dispatch" to make it clear variable is for battery dispatch calculations. (<a href="https://github.com/NREL/ssc/pull/706">SSC 706</a>)</li>
</ul>
</li>
<li>Grid Outage and Critical Load
<ul>
    <li>Consolidate inputs for behind-the-meter grid outage inputs on new Grid Outage page. (<a href="https://github.com/NREL/SAM/pull/902">902</a>, <a href="https://github.com/NREL/SAM/pull/842">842</a>)</li>
    <li>Remove grid outage feature from PVWatts - battery configuration. (<a href="https://github.com/NREL/SAM/pull/884">884</a>, <a href="https://github.com/NREL/SAM/pull/945">945</a>, <a href="https://github.com/NREL/ssc/pull/767">SSC 767</a>)</li>
    <li>Add grid outage inputs to standalone battery behind-the-meter configurations. (<a href="https://github.com/NREL/SAM/pull/873">873</a>)</li>
    <li>Fix grid outage issue to prevent load during outage being used for electricity bill calculation. (<a href="https://github.com/NREL/ssc/pull/741">SSC 741</a>)</li>
    <li>Improve behavior of DC-connected battery during outage to allow charging during outage. (<a href="https://github.com/NREL/ssc/pull/738">SSC 738</a>, <a href="https://github.com/NREL/ssc/pull/728">SSC 728</a>, <a href="https://github.com/NREL/ssc/pull/725">SSC 725</a>)</li>
    <li>Fix problem with scaling of critical load. (<a href="https://github.com/NREL/SAM/pull/842">842</a>)</li>
</ul>
</li>
<li>Concentraing Solar Power (CSP)
<ul>
    <li>Fix CSP molten salt linear Fresnel thermal efficiency calculation in user interface. (<a href="https://github.com/NREL/SAM/pull/939">939</a>)</li>
    <li>Fix CSP molten salt linear Fresnel sequential defocus bug. (<a href="https://github.com/NREL/ssc/pull/760">SSC 760</a>)</li>
    <li>Fix CSP user-defined power cycle equation for HTF mass flow rate. When applied to the default molten salt power tower case where the cycle model is changed to the default UDPC inputs, the annual energy increase 0.1%. The effect may be more significant if 1) your UDPC data includes more variation relative to the default data at m_dot_HTF > 1 or 2) your case increases the maximum HTF over-design above the default 1.05 value. (<a href="https://github.com/NREL/ssc/pull/695">SSC 695</a>)</li>
    <li>Update default financial assumptions for concentrating solar power (CSP) configurations. (<a href="https://github.com/NREL/SAM/pull/904">904</a>)</li>
</ul>
</li>
<li>Electricity Bill and Purchases
<ul>
<li>Fix issue with front-of-meter electricity purchases when non-zero sell rate input value was hidden. (<a href="https://github.com/NREL/SAM/pull/908">908</a>)</li>
<li>Fix issues with billing demand periods table. (<a href="https://github.com/NREL/SAM/pull/889">889</a>)</li>
<li>Fix issues with billing demand calculations with only kWh/kW energy charge units. (<a href="https://github.com/NREL/ssc/pull/723">SSC 723</a>)
<li>Fix issue with reporting of time series demand charge and electricity peak values. (<a href="https://github.com/NREL/ssc/pull/733">SSC 733</a>)</li>
</ul>
</ul>


<h1 id="2021-12-02">Version 2021.12.02, SSC Version 267: December 2, 2021</h1>

<p>This new version consists of several improvements and updates. Highlights include:</p>

<ul>
<li>Community Solar financial model</li>
<li>PVWatts update from V7 to V8</li>
<li>Standalone Battery and Standalone Electric Thermal Energy Storage models</li>
<li>Cavity receiver model for power towers</li>
<li>PV smoothing battery dispatch option and multiple improvements to battery dispatch and degradation models</li>
<li>Levelized cost of storage (LCOS) metric for battery storage configurations</li>
<li>Grid outage for systems with battery storage</li>
<li>Billing demand with lookback period for kWh/kW energy rates and ratcheting demand rates</li>
</ul>

<h2>General</h2>

<ul>
<li>Fix issues with PDF report templates for battery storage configurations, PPA financial models, and marine energy configurations. (<a href="https://github.com/NREL/SAM/pull/822">822</a>)</li>
<li>Update default assumptions to match <a href="https://atb.nrel.gov/">NREL Annual Technology Baseline</a>. (<a href="https://github.com/NREL/SAM/pull/833">833</a>, <a href="https://github.com/NREL/SAM/issues/827">827</a>, <a href="https://github.com/NREL/SAM/pull/823">823</a>, <a href="https://github.com/NREL/SAM/pull/812">812</a>, <a href="https://github.com/NREL/SAM/pull/793">793</a>, <a href="https://github.com/NREL/SAM/pull/786">786</a>, <a href="https://github.com/NREL/SAM/pull/783">783</a>)</li>
<li>Fix issue with yellow page notes disappearing when opening files created with older versions of SAM. (<a href="https://github.com/NREL/SAM/pull/809">809</a>)</li>
<li>Replace Combine Cases macro with option on Generic System model Power Plant input age. (<a href="https://github.com/NREL/SAM/pull/706">706</a>, <a href="https://github.com/NREL/SAM/pull/765">765</a>)</li>
</ul>

<h2>PVWatts (2021.12.02)</h2>

<p>With this release, we have updated SAM's implementation to PVWatts V8 (pvwattsv8 in SSC) with new features listed below. The online PVWatts&#174; Calculator continues to use pvwattsv5 and will be updated later. All versions of PVWatts are available via the SAM Software Development Kit and PySAM. (<a href="https://github.com/NREL/SAM/pull/729">729</a>)</p>

<ul>
<li>Reorganize user interface to group advanced inputs into a collapsible panel.</li>
<li>Add snow loss model when weather file includes snow depth data in cm.</li>
<li>Support for bifacial modules.</li>
<li>Internal module and module thermal models based on same model as Detailed PV model.</li>
<li>Internal inverter model based on same model as Detailed PV model.</li>
<li>Inputs for monthly soiling as DC loss.</li>
</ul>

<h2>Detailed Photovoltaic (2021.12.02)</h2>

<ul>
<li>Modify default inverter temperature derate curve to work over the full range of inverter sizes in the CEC inverter library. (<a href=" (<a href="https://github.com/NREL/SAM/pull/729">729</a>)</li>
<li>Fix Shade Calculator crashing on MacOS. (<a href="https://github.com/NREL/SAM/pull/775">775</a>)</li>
<li>Add terrain slope inputs for one-axis trackers to improve backtracking and linear self-shading calculations for large arrays on sloped land. (<a href="https://github.com/NREL/SAM/pull/742">742</a>)</li>
<li>Model PV degradation as linear instead of compounded annually to better reflect recent research on module degradation. (<a href="https://github.com/NREL/SAM/pull/756">756</a>)</li>
<li>For weather files that generate simulation messages about abnormal irradiance values, change messages from warnings to notices to avoid long list of messages after simulation. (<a href="https://github.com/NREL/ssc/pull/658">658</a>)</li>
<li>Update the CEC module model to assume anti-reflective coatings for all PV modules (<a href="https://github.com/NREL/ssc/pull/662">662</a>)</li>
</ul>

<h2>Battery Storage (2021.12.02)</h2>

<ul>
<li>Redesigned user interface for battery dispatch choices for PV Battery, Generic Battery, Fuel Cell, and new Standalone Battery configurations. (<a href="https://github.com/NREL/SAM/pull/819">819</a>, <a href="https://github.com/NREL/SAM/pull/834">834</a>, <a href="https://github.com/NREL/SAM/pull/830">830</a>, <a href="https://github.com/NREL/SAM/pull/821">821</a>, <a href="https://github.com/NREL/SAM/pull/819">819</a>, <a href="https://github.com/NREL/SAM/pull/806">806</a>, <a href="https://github.com/NREL/SAM/pull/805">805</a>, <a href="https://github.com/NREL/SAM/pull/712">712</a>, <a href="https://github.com/NREL/SAM/pull/690">690</a>, <a href="https://github.com/NREL/SAM/pull/656">656</a>, <a href="https://github.com/NREL/SAM/pull/644">644</a>)</li>
<li>Add option to specify surface area of single battery to improve battery temperature calculations for large batteries.(<a href="https://github.com/NREL/SAM/pull/789">789</a>)</li>
<li>New levelized cost of storage (LCOS) metric. (<a href="https://github.com/NREL/ssc/pull/679">679</a>, <a href="https://github.com/NREL/SAM/pull/529">529</a>)</li>
<li>Better battery degradation modeling for Li-ion NMC/Graphite and Li-ion LMO/LTO battery types, and improve cycle counting algorithm for battery degradation model to better handle situations with high-frequency low-DOD discharges. (<a href="https://github.com/NREL/ssc/pull/677">677</a>, <a href="https://github.com/NREL/SAM/pull/707">707</a>)</li>
<li>New Standalone Battery configuration based on Generic Battery configuration. (<a href="https://github.com/NREL/SAM/pull/766">766</a>, <a href="https://github.com/NREL/ssc/pull/659">659</a>)</li>
<li>Add options for AC-connected behind-the-meter batteries to charge when system output is less than load, and discharge when load is less than system output to be consistent with REopt dispatch. (<a href="https://github.com/NREL/SAM/pull/692">692</a>)</li>
<li>Add dispatch options for behind-the-meter batteries to forecast to custom time series data for weather and load. (<a href="https://github.com/NREL/SAM/pull/688">688</a>, <a href="https://github.com/NREL/SAM/pull/681">681</a>)</li>
<li>Allow behind-the-meter batteries to be charged from clipped photovoltaic power, and to discharge to the grid. (<a href="https://github.com/NREL/SAM/pull/754">754</a>, <a href="https://github.com/NREL/ssc/pull/653">653</a>)</li>
<li>Remove option to use ambient temperature data from weather file as battery environment temperature for battery temperature calculations because Generic Battery and Standalone Battery configurations do not have a weather file. SAM automatically applies weather file ambient temperature to battery environment time series input when opening older files as appropriate. (<a href="https://github.com/NREL/SAM/pull/679">679</a>)
<li>Add grid outage dispatch capability for behind-the-meter batteries. (<a href="https://github.com/NREL/SAM/pull/722">722</a>, <a href="https://github.com/NREL/SAM/pull/721">721</a>, <a href="https://github.com/NREL/SAM/pull/707">707</a>)</li>
<li>Ensure correct battery capacity values are read into new variables when opening a file or case created by an older version of SAM. (<a href="https://github.com/NREL/SAM/pull/781">781</a>)</li>
<li>Ensure correct values passed to model when switching between kWh and h option for specifying battery capacity. (<a href="https://github.com/NREL/SAM/pull/720">720</a>)</li>
<li>Disable option for charging from photovoltaic clipped power for Generic Battery configurations. (<a href="https://github.com/NREL/SAM/pull/677">677</a>)</li>
<li>New cutoff voltage input for battery voltage model. (<a href="https://github.com/NREL/SAM/pull/502">502</a>)</li>
<li>Fix issue with cycle degradation penalty value of zero or NaN ("not a number") calculation for price signal and automated economic dispatch options. (<a href="https://github.com/NREL/ssc/pull/627">627</a>)</li>
</ul>

<h2>Financial Models (2021.12.02)</h2>

<ul>
<li>Separate System Costs page into Installation Costs and Operating Costs pages to improve visbility of operating cost inputs and allow for more flexibilty in operating cost inputs for different technology types. (<a href="https://github.com/NREL/SAM/pull/653">653</a>)</li>
<li>Treat electricity purchases to charge batteries or meet night-time load as an operating cost in project cash flow regardless of whether power price for purchases is retail rate or PPA price. (<a href="https://github.com/NREL/SAM/pull/785">785</a>)</li>
<li>Add option to front-of-meter financial models to model land lease payments as an operating cost in project cash flow. (<a href="https://github.com/NREL/SAM/pull/779">779</a>)</li>
<li>Update electricity rate data download from NREL Utility Rate Database (URDB) to URDB Version 8 and correctly handle unsupported inputs and units. (<a href="https://github.com/NREL/SAM/pull/758">758</a>)</li>
<li>Calculate billing demand in kW for electricity bill energy charges with kWh/kW units. (<a href="https://github.com/NREL/SAM/pull/627">627</a>)</li>
<li>Ratcheting demand charges for electricity bill calculations. (<a href="https://github.com/NREL/ssc/pull/637">637</a>, <a href="https://github.com/NREL/SAM/pull/728">728</a>)</li>
<li>Modify levelized cost of energy (LCOE) to use energy exported to grid as energy term in denominator instead of energy generated by system to better represent value of energy for systems with storage. (<a href="https://github.com/NREL/SAM/pull/749">749</a>)</li>
<li>Fix units in variable labels for operation and maintenance (O&M) costs from $/kWh to $/MWh. (<a href="https://github.com/NREL/SAM/pull/667">667</a>)</li>
<li>For electricity bill calculations with tiered rates and buy all/sell all compensation, ensure usage for night-time consumption (e.g., inverter night-time consumption) is assigned to the highest tier rather than the lowest tier. (<a href="https://github.com/NREL/ssc/pull/673">673</a>)</li>
<li>Add Cambium forecast hourly price data download option to Merchant Plant model. (<a href="https://github.com/NREL/SAM/pull/669">0669</a>)</li>
</ul>

<h2>Concentrating Solar Power (2021.12.02)</h2>

<ul>
<li>New cavity receiver option for the Molten Salt Power Tower model. (<a href="https://github.com/NREL/ssc/issues/625">625</a>).
<li>Fix issue with tower Heliostat Availability inputs to make clearer distinction between the design parameter and heliostat availability loss applied during simulation. (<a href="https://github.com/NREL/SAM/pull/822">822</a>)</li>
<li>For the Molten Salt Power Tower model, change units of piping heat loss coefficient to W/m2-K from W/m. (<a href="https://github.com/NREL/SAM/issues/746">746</a>)</li>
<li>For the Physical Trough model, improve dispatch algorithm, including modifying sizing of indirect TES (TES fluid is different from the solar field HTF): In earlier versions, we used the receiver HTF hot-to-cold temperature difference to size TES. In our current convention, we size the TES using a temperature difference = (T_rec_hot – HX_delta_T) – (T_pc_cold + HX_delta_T). This reduces the design temperature difference by 2*HX_delta_T compared to the old convention, which in turn increases the physical size of TES for a given system design. As such, the latest release effectively has more TES capacity for a given system design than older versions of SAM. (<href="https://github.com/NREL/ssc/commit/ffbccc3be09279fa60f52a2df6d7c0f2ee39c163">(Fix Trough Dispatch)</a>).</li>
</ul>

<h2>Marine Energy (2021.12.02)</h2>

<ul>
<li>For Wave model, add wave resource data download from NREL Wave Hindcast Data with library to store wave resource files. (<a href="https://github.com/NREL/SAM/pull/725">725</a>)</li>
<li>New macros for Wave model to generate a report and compare cases. (<a href="https://github.com/NREL/SAM/pull/704">704</a>)</li>
<li>For Wave model, add support for time series wave resource data. (<a href="https://github.com/NREL/SAM/pull/645">645</a>, <a href="https://github.com/NREL/SAM/pull/643">643</a>)</li>
<li>Add option to import device power curve data from CSV or clipboard. (<a href="https://github.com/NREL/SAM/pull/740">740</a>)</li>
<li>Fix issues with PDF report template, metrics table outputs, and update cost structure options. (<a href="https://github.com/NREL/SAM/pull/682">682</a>)</li>
</ul>

<h2>Wind (2021.12.02)</h2>

<ul>
<li>Fix issue with integration of Python LandBOSSE wind cost model that caused SAM to crash. (<a href="https://github.com/NREL/SAM/pull/787">787</a>)</li>
</ul>

<h2>Geothermal (2021.12.02)</h2>

<ul>
<li>Update model to be more consistent with latest version of GETEM. (<a href="https://github.com/NREL/SAM/pull/772">772</a>)</li>
</ul>

<h1 id="2020-11-29-r2">Version 2020.11.29 Revision 2, SSC Version 256: May 12, 2021</h1>

<p>This is a maintenance update to <a href="#2020-11-29-r1">SAM 2020.11.29 Revision 1</a>.</p>

<ul>
<li>Show heat map of system power generated on Summary page of Results page. (<a href="https://github.com/NREL/SAM/pull/571">571</a>)</li>
<li>Fix weather file downloads from Advanced NSRDB Download window to set "utc" parameter to false so files are returned in local time instead of UTC. (<a href="https://github.com/NREL/SAM/pull/609">609</a>)</li>
<li>Add minute value to error messages about weather files to facilitate troubleshooting problems. (<a href="https://github.com/NREL/SSC/pull/563">563</a>)</li>
<li>Change Detailed PV short circuit current output variable labels to make it clear current is string current rather than array current. (<a href="https://github.com/NREL/SSC/pull/572">572</a>)</li>
<li>Show system power generated by default on Results page time series tables and graphs instead of blank tables and graphs. (<a href="https://github.com/NREL/SAM/pull/559">559</a>)</li>
<li>Fix issue with Electricity Bill calculations that caused SAM to crash when time-of-use periods have different numbers of tiers. (<a href="https://github.com/NREL/SSC/pull/560">560</a>)</li>
<li>Improve Stochastic simulations so that input samples and results are consistent and add description of distributions to Help. (<a href="https://github.com/NREL/SAM/pull/565">565</a>)</li>
<li>For Wind power model, only display Uncertanties tab on Results page when Uncertainty inputs are enabled and improve Uncertainties input page to make it clearer that inputs are optional. (<a href="https://github.com/NREL/SAM/pull/581">581</a>)</li>
<li>Updated Solar Resource File Converter macro for SolarAnywhere files to work with latest SolarAnywhere version and fix issues with time stamp conversions. (<a href="https://github.com/NREL/SAM/pull/601">601</a>)</li>
<li>Battery model:
<ul>
<li>Reorganize battery inputs so that sizing parameters are all in one place and closer to the sizing inputs, and fix issue with sizing using DC and AC capacities. (<a href="https://github.com/NREL/SAM/pull/569">569</a>, <a href="https://github.com/NREL/SAM/pull/560">560</a>)</li>
<li>Add battery sizing option so battery capacity can be specified in kW and h, or kW and kWh to facilitate parametric simulations on battery capacity. (<a href="https://github.com/NREL/SAM/pull/606">606</a>)</li>
<li>Fix behind-the-meter battery dispatch issues to prevent accidental discharging of battery to grid by limiting nominal voltage to range specified in voltage table. (Not an issue for electrochemical voltage model.) (<a href="https://github.com/NREL/SAM/pull/561">561</a>, <a href="https://github.com/NREL/ssc/pull/568">568</a>)</li>
<li>Fix behind-the-meter battery dispatch algorithm issue that allowed discharging of battery to grid. (<a href="https://github.com/NREL/ssc/issues/513">513</a>)</li>	
<li>For front-of-meter battery systems, changed the "Utility Rates" page label to "Electricity Purchases" and improved text in user interface to make it clearer that the inputs on that page are for specifying how electricity to charge the battery is purchased. (<a href="https://github.com/NREL/SAM/pull/611">611</a>)</li>
<li>Fixed issue for front-of-meter battery models that allowed retail sell rate to be non-zero so that battery discharge power was compensated at both the PPA price and sell rate instead of only at the PPA price. (<a href="https://github.com/NREL/SAM/pull/603">603</a>)</li>
<li>Remove fuel cell and battery variables from results when system does not include a fuel cell or battery. (<a href="https://github.com/NREL/SSC/pull/570">570</a>)</li>
<li>Shorten some battery output variable labels to make graphs and tables easier to work with. (<a href="https://github.com/NREL/SSC/pull/576">576</a>)</li>
<li>Fix issues with Lithium-ion NMC lifetime model's calculation of length of day for simulations with one-minute timesteps. (<a href="https://github.com/NREL/SSC/pull/549">549</a>, <a href="https://github.com/NREL/SSC/pull/545">545</a>)</li></li>
</ul>
<li>Fix LK scripting issue when adding folders to the solar resource library. (<a href="https://github.com/NREL/SAM/pull/611">611</a>)</li>
<li>Revise Help to improve battery, electricity bill calculation, and other topics. (<a href="https://github.com/NREL/SAM/pull/617">617</a>, <a href="https://github.com/NREL/SAM/pull/602">602</a>)</li>
</ul>

<h1 id="2020-11-29-r1">Version 2020.11.29 Revision 1, SSC Version 252: February 25, 2021</h1>

<p>This is a maintenance update to <a href="#2020-11-29">SAM 2020.11.29</a>.</p>

<ul>
<li>Revert default Federal Investment Tax Credit (ITC) to 26%. (<a href="https://github.com/NREL/SAM/issues/493">493</a>)</li>
<li>Fix power tower to correctly update tower height cost value. (<a href="https://github.com/NREL/SAM/pull/475">475</a>)</li>
<li>Fix photovoltaic model simulation warnings for bifacial and one-axis tracking. (<a href="https://github.com/NREL/ssc/issues/364">364</a>)</li>
<li>Battery model:
<ul>
	<li>Fix generic battery display of power units on System Costs page. (<a href="https://github.com/NREL/SAM/issues/469">469</a>)</li>
	<li>Fix PV-fuel-cell-battery battery O&M cost calculation. (<a href="https://github.com/NREL/SAM/pull/521">521</a>)</li>
	<li>Make sure user interface panels on battery input pages are collapsed in a consistent way for all battery configurations. (<a href="https://github.com/NREL/SAM/pull/515">515</a>)</li>
	<li>Fix an issue with voltage model enabling in the user interface for flow batteries. (<a href="https://github.com/NREL/SAM/issues/505">505</a>)</li>
	<li>Fix issues with battery voltage model. (<a href="https://github.com/NREL/ssc/issues/520">520</a>, <a href="https://github.com/NREL/ssc/issues/517">517</a>)</li>
	<li>Fix message about Specify IRR target for battery not being available for configurations with PPA financial models (it is). (<a href="https://github.com/NREL/SAM/issues/516">516</a>)</li>
	<li>Fix PDF report generator for PV-Battery with PPA financial model configurations. (<a href="https://github.com/NREL/SAM/pull/528">528</a>)</li>
	<li>Integrate new NREL NMC lifetime model (available in SSC only). (<a href="https://github.com/NREL/ssc/issues/521">521</a>)</li>
	<li>Remove REopt optimization option from Generic Battery configurations. (<a href="https://github.com/NREL/SAM/issues/479">479</a>)</li>
</ul></li>
<li>Electricity bill calculation:
<ul>
	<li>Fix electricity bill calculations to correctly apply time series buy/sell rates to bill without system. (<a href="https://github.com/NREL/SAM/issues/494">494</a>)</li>
	<li>Fix handling of nested tiers. (<a href="https://github.com/NREL/SAM/issues/275">275</a>)</li>
	<li>Improve reporting of monthly results. (<a href="https://github.com/NREL/SAM/issues/492">492</a>)</li>
</ul></li>
<li>Macros:
<ul>
	<li>Modify Value of RE macro to support Third Party Ownership financial models. (<a href="https://github.com/NREL/SAM/issues/492">492</a>)</li>
	<li>Fix Indifference vs PPA Price macro for Third Party Ownership finanical model. (<a href="https://github.com/NREL/SAM/issues/490">490</a>)</li>
	<li>Fix Value of RE macro rate switching option. (<a href="https://github.com/NREL/SAM/issues/499">499</a>, <a href="https://github.com/NREL/SAM/issues/487">487</a>)</li>
	<li>Update Solar Resource File converter to work with SolarAnywhere V3.4 files and older. (<a href="https://github.com/NREL/SAM/issues/491">491</a>)</li>
	<li>Fix marine energy Compare Cases macro when comparing cases with the same LCOE. (<a href="https://github.com/NREL/SAM/issues/497">497</a>)</li>
	<li>Remove Puerto Rico solar resource download macro now that data is available from Location and Resource page, move code to LK script samples. (<a href="https://github.com/NREL/SAM/pull/473">473</a>)</li>
</ul></li>
<li>Fix upgrade script issue that caused SAM to crash when opening some files created in older versions of SAM. (<a href="https://github.com/NREL/SAM/issues/518">518</a>)</li>
<li>For Third Party Ownership model, make PPA price and lease term available for parametric simulations. (<a href="https://github.com/NREL/SAM/pull/536">536</a>)</li>
<li>Improve handling of API errors for weather file downloads from NSRDB. (<a href="https://github.com/NREL/SAM/pull/541">541</a>)</li>
<li>Improve Data Table categories on Results page. (<a href="https://github.com/NREL/SAM/issues/485">485</a>)</li>
<li>Clean up Marine Energy System Costs pages. (<a href="https://github.com/NREL/SAM/pull/489">489</a>)</li>
<li>Fix REopt inputs to remove unused value of lost load, and only set battery capacity to zero when REopt finds an optimal solution. (<a href="https://github.com/NREL/SAM/issues/482">482</a>, <a href="https://github.com/NREL/SAM/issues/495">495</a>)</li>
<li>Fix P50/P90 simulations to work with weather files files in EPW format. (<a href="https://github.com/NREL/SAM/issues/480">480</a>)</li>
</ul>
	 
<h1 id="2020-11-29">Version 2020.11.29, SSC Version 250: November 29, 2020</h1>

<p>This new version consists of several improvements and updates. Highlights include:</p>

<ul>
<li>Implement NREL Solar Position Algorithm (SPA) for sun angle calculations for all solar performance models.</li>
<li>Improved battery dispatch for both front-of-meter and behind-the-meter battery storage applications.</li>
<li>Improve electricity bill calculations for distributed behind-the-meter financial models.</li>
<li>Update utility rate data download from OpenEI Utility Rate Database (URDB) to API Version 7 and fix a bug that prevented all rates from being listed for some large utilities.</li>
<li>Improved photovoltaic backtracking algorithm.</li>
<li>Integrate NREL LandBOSSE wind balance-of-system (BOS) cost model into SAM.</a>
<li>Update default values to better align with <a href="https://atb.nrel.gov/">NREL Annual Technology Baseline (ATB).</a></li>
<li>Update solar resource data downloads from the NSRDB to access newest datasets for subhourly data, typical year (TMY, TGY, TDY) data, subhourly data, and data for Europe, Africa and Asia.</li>
</ul>

<p>In the following list of changes, numbers in parentheses are links to detailed descriptions and code on the SAM or SSC GitHub repositories.</p>

<h2>General</h2>

<ul>
<li>Fix issue with scroll bars disappearing when long pages are loaded in the user interface. (<a href="https://github.com/NREL/SAM/issues/405">405</a>)</li>
<li>Fix problem opening files with parametric simulations that caused SAM to crash with "Could not inflate stream" error. (<a href="https://github.com/NREL/SAM/issues/393">393</a>)</li>
<li>Fix problem with Welcome page when SAM starts without an internet connection. (<a href="https://github.com/NREL/SAM/issues/376">376</a>)</li>
<li>Update default ITC and PTC tax credits to reflect current market conditions. (<a href="https://github.com/NREL/SAM/pull/450">450</a>)</li>
<li>Update sun angle calculations for all solar models to use NREL Solar Position Algorithm (SPA). (<a href="https://github.com/NREL/ssc/issues/279">279</a>)</li>
<li>For the SSC compute module pvwattsv5_1ts, add external shading. This change does not affect the PVWatts implementation in SAM, which uses the pvwattsv7 compute module. (<a href="https://github.com/NREL/ssc/pull/462">462</a>)</li>
</ul>

<h2>Detailed Photovoltaic</h2>

<ul>
<li>Improve backtracking algorithm to use method described in Anderson, K (2020), "Slope-aware Backtracking for Single Axis Trackers", NREL/TP-5K00-76626. A new slope input will be added in a future version of SAM. (<a href="https://github.com/NREL/ssc/issues/457">457</a>).</li>
<li>Add module mass input for transient thermal model that adjusts cell temperature calculation for simulation time steps of less than 20 minutes, and improve user interface and documentation to make it clear how the model works. (<a href="https://github.com/NREL/SAM/issues/380">380</a>)</li>
<li>Rename Array DC power variable to Inverter DC input power to avoid confusion about whether value includes DC losses. (<a href="https://github.com/NREL/SAM/issues/383">383</a>)</li> 
<li>Improve inverter temperature derate curve inputs, and normalize efficiency table to Pmax instead of efficiency. (<a href="https://github.com/NREL/SAM/pull/412">412</a>)</li>
<li>Fix module coefficient generator for CEC Module Model with User Entered Specifications option to work with newer high-current modules. (<a href="https://github.com/NREL/ssc/issues/129">129</a>)</li>
<li>Improve warning messages for bifacial modules with one-axis trackers and non-zero tilt. (<a href="https://github.com/NREL/ssc/issues/364">364</a>)</li>
<li>Update default system size for PPA financial models to 50 MW and Commercial to 500 kW. (<a href="https://github.com/NREL/SAM/pull/421">392</a>)</li>
</ul>

<h2>Battery Storage</h2>

<ul>
<li>Add new behind-the-meter (BTM) dispatch option that reponds to electricity rates and cycle degradation penalty.</li>
<li>Add option so battery cost can be specified in $/kWh, $/kW, or both</li>
<li>Simplify battery replacement cost option so annual replacement can be specified with a single input array instead of two.</li>
<li>Rename Array DC power variable to Inverter DC input power to avoid confusion about whether value includes power from battery for DC-connected batteries. (<a href="https://github.com/NREL/SAM/issues/383">383</a>)</li> 
<li>Fix issue with REopt for PVWatts for rates with no max usage units that caused a user interface error. (<a href="https://github.com/NREL/SAM/issues/388">388</a>)</li>
<li>Fix bug with battery sizing when using AC power values. (<a href="https://github.com/NREL/SAM/issues/375">375</a>)</li>
<li>Update default parameters for battery chemistries. (<a href="https://github.com/NREL/SAM/issues/323">323</a>)</li>
<li>Add a PDF report template for battery configurations. (<a href="https://github.com/NREL/SAM/issues/302">302</a>)</li>
<li>Fix an issue that allowed battery capacity percent to exceed 100% when the calendar degradation model option was set to None. (<a href="https://github.com/NREL/ssc/issues/478">478</a>)</li>
<li>Fix issue with battery thermal model for subhourly simulations. (<a href="https://github.com/NREL/ssc/issues/472">472</a>)</li>
<li>Fix an issue that prevented battery ancillary losses from being correctly applied. (<a href="https://github.com/NREL/ssc/issues/379">379</a>)</li>
<li>Fix issue with battery current and state of charge calculation. (<a href="https://github.com/NREL/ssc/issues/445">445</a>)</li>
</ul>

<h2>Retail Electricity Rates and Bill Calculations</h2>

<ul>
<li>Fix issues with display of electricity bill data for demand charges, net billing credits, and net metering credits. (<a href="https://github.com/NREL/SAM/issues/442">442</a>, <a href="https://github.com/NREL/SAM/issues/372">372</a>)</li>
<li>Update electricity rate downloads from Utility Rate Database to use latest API versions, and fix broken downloads due to using http instead of https. (<a href="https://github.com/NREL/SAM/issues/361">361</a>, <a href="https://github.com/NREL/SAM/issues/379">379</a>)</li>
<li>Remove 500 rate limit for that caused some rates to be missing for utilties with more than 500 rates. (<a href="https://github.com/NREL/SAM/issues/361">361</a>)</li>
<li>Fix display of net billing dollar amounts in monthly results table. Bill calculations were correct, but table was not displaying correct values. (<a href="https://github.com/NREL/SAM/issues/372">372</a>)</li>
<li>Add option to choose month for end of net metering true-up period. (<a href="https://github.com/NREL/SAM/issues/16">16</a>)</li>
<li>Apply net excess generation credit at end of true-up period to January when true-up period ends in December. (<a href="https://github.com/NREL/SAM/issues/16">16</a>)</li>
<li>Improve metering option variable labels.</li>
</ul>

<h2>Financial Models</h2>

<ul>
<li>Improve reporting of energy quantities in PPA Single Owner project cash flow to separate gross and net annual electricity generation so the effect of self-consumption for inverter nighttime consumption, battery charging, and concentrating solar power parasitic loads is clear. (<a href="https://github.com/NREL/SAM/issues/370">370</a>)</li>
<li>Fix labels for incentives inputs so they are visible in the inputs browser and other variable lists to facilitate identifying variables for SDK/PySAM programmers. (<a href="https://github.com/NREL/SAM/issues/403">403</a>)</li>
</ul>

<h2>Marine Energy</h2>

<ul>
<li>Add graphs to Summary tab on Results page. (<a href="https://github.com/NREL/SAM/issues/390">390</a>)</li>
<li>Add detailed cost break down option for specifying Wave and Tidal energy capital and O&M costs. (<a href="https://github.com/NREL/SAM/issues/389">389</a>)</li>
</ul>

<h2>Wind Power</h2>

<ul>
<li>Implement NREL LandBOSSE wind balance-of-system (BOS) cost model as an option for calculating the BOS capital cost on the System Costs page for the Wind Power model. (<a href="https://github.com/NREL/SAM/issues/270">270</a>)</li>
<li>Fix issue with wind resource data downloads from WIND Toolkit API. (<a href="https://github.com/NREL/SAM/issues/353">353</a>, <a href="https://github.com/NREL/SAM/issues/216">216</a>)
</ul>

<h2>Concentrating Solar Power (CSP)</h2>

<ul>
<li>For molten salt power tower model, replace power cycle Supercritical Carbon Dioxide (sCO2) option with a macro and external Python script, see Power Cycle input page and Help for details. (<a href="https://github.com/NREL/ssc/issues/454">454</a>)</li>
<li>Remove Dish Stirling and Direct Steam Power Tower models from SAM. These models are available in the SAM 2020.2.29 legacy version, which is available for download from the <a href="https://sam.nrel.gov/download">SAM website</a>. (<a href="https://github.com/NREL/SAM/issues/363">363</a>)</li>
<li>For molten salt power tower and physical trough models, display better information about air-cooled condenser model paramters. (<a href="https://github.com/NREL/SAM/issues/366">366</a>)</li>
<li>Remove custom HTF option from Empirical Trough model to avoid errors. (<a href="https://github.com/NREL/SAM/issues/316">316</a>)</li>
<li>Fix issue for the Linear Fresnel Molten Salt model with the solar field option not correctly enabling and disabling the solar multiple and field area inputs. (<a href="https://github.com/NREL/SAM/issues/201">201</a>)</li>
<li>Fix a bug in the Generic CSP model that allowed the cycle to consume more power than available in TES when the solar field output was low. (<a href="https://github.com/NREL/ssc/issues/477">477</a>)</li>
<li>Fix a bug with the Generic CSP model that ignored solar field area at design, and affected the calculation of system power generated. (<a href="https://github.com/NREL/ssc/issues/476">476</a>)</li>
</ul>

<h2>Solar Resource Data</h2>

<ul>
<li>Update weather file downloads to work with latest NSRDB APIs so SAM can download from the new 5-minute datasets and data for Europe, Africa, and Asia from the new MSG-IODC datasets, and typical year data as TMY, TGY, or TDY from the new TMY datasets. (<a href="https://github.com/NREL/SAM/issues/271">271</a>)</li>
<li>Fix problems reading weather files from some sources that are based on minute values of 60 for the top of the hour instead of zero. (<a href="https://github.com/NREL/SAM/issues/365">365</a>)</li>
</ul>

<h1 id="2020-2-29-r3">Version 2020.2.29 Revision 3, SSC Version 242: July 31, 2020</h1>

<p>This is an update to SAM 2020.2.29 Revision 2 that fixes the issues listed beow. For detailed descriptions of issues fixed for this update, see <a href="https://github.com/NREL/SAM/milestone/12">GitHub Issues for SAM 2020.2.29 Patch 3</a> and for <a href="https://github.com/NREL/ssc/issues/435">SSC 2020 Patch 3</a>.</p>

<ul>
<li>Update wind turbine library.</li>
<li>New marine energy report templates.</li>
<li>Run LK script from the command line: [path to SAM executable] [sam filename] [path to LK script file], for example <code>c:/sam/2020.2.29/x64/sam.exe no_sam_file c:/my-script.lk</code>.</li>
<li>Fix weather file downloads from NSRDB and WIND Toolkit.</li>
<li>Fix Residential / Commercial cash flow "Send to Excel with Equations" Excel workbook, federal and state income tax rates start in wrong year. This issue only affected workbook calculations, not SAM's cash flow calculations.</li>
<li>Fix electricity bill issue with net metering end-of-year credit for subhourly simulations &em; was being applied in 8760th time step regardless of simulation time step.</li>
<li>Fix electricity bill time series buy rates so that annual escalation is applied.</li>
<li>Disable electricity bill time series buy and sell rates for net metering with $ credits.</li>
<li>Fix issue with default values of array inputs such as time series electricity buy and sell rates that are disabled by default that caused simulation error or crash when input was enabled.</li>
<li>Remove battery dispatch "copy schedule" button for Merchant Plant financial model because time-of-delivery factors do not apply in this context.</li>
<li>Fix battery dispatch period numbers greater than 6 with error handling in SSC.</li>
<li>Fix battery voltage table option issue that resulted in 100% battery roundtrip efficiency regardless of battery use.</li>
<li>Fix Vanadium Flow battery voltage model issue that allowed it to discharge more than it was charged.</li>
<li>Fix Detailed Photovoltaic model DC system availability losses being applied when Enable check box is not checked.</li>
<li>Correct Detailed Photovoltaic model units reported for transformer no load loss, change from kWh to kW.</li>
<li>Speed up PVWatts V7 self-shading calculations refactoring code.</li>
<li>Fix PVWatts V5 single time step model.</li>
<li>Add support for custom time series length to pvsamv1 and pvwattsv7 (in SSC only, not available in SAM user interface). See https://github.com/NREL/ssc/pull/418.</li>
</ul>
	 
<h1 id="2020-2-29-r2">Version 2020.2.29 Revision 2, SSC Version 240: May 28, 2020</h1>

<p>This is an update to SAM 2020.2.29 Revision 1 that fixes the issues listed beow. For detailed descriptions of issues fixed for this update, see <a href="https://github.com/NREL/SAM/issues?q=is%3Aissue+milestone%3A%222020+Patch+2%22">GitHub Issues for SAM 2020.2.29 Patch 2</a>.</p>

<ul>
<li>General
<ul>
<li>Code generator fixes for PVWatts, MATLAB, and JSON.</li>
<li>Fix LK contour() plotting function.</li>
<li>Fix Value of RE macro numbers in CSV file output.</li>
<li>Fix rendering of user interface elements in inputs browser.</li>
<li>Update Combine Cases macro to work properly with models like Detailed PV that run multi-year simulations.</li>
<li>Version upgrade script fixes to handle converting variables when opening files created in older versions of SAM.</li>
<li>Fix user interface layout issues for Linux and Mac.</li>
<li>Fix stochastic simulations for Mac.</li>
<li>Fix issue with automatic updates in Windows (update code looks for win32 folder).</li>
</ul>
</li>
<li>Financial Models
<ul>
<li>Fix issues with reporting of curtailed energy in cash flow.</li>
<li>Fix Single Owner Send-to-Excel with Equations workbook.</li>
</ul>
</li>
<li>Concentrating Solar Power (CSP)
<ul>
<li>Revert default inputs to SAM 2018.11.11 values.</li>
<li>Empirical trough model: Remove custom HTF from user interface per <a href="https://github.com/NREL/SAM/issues/316">Issue 316</a>.</li>
</ul>
</li>
<li>Battery Storage
<ul>
<li>Fix issue with changing configuration from PV Battery to Detailed PV using <b>Change model</b> command on Case menu.</li>
<li>Fix battery degradation issues.</li>
<li>Fix issue where battery state of charge appears to drop suddenly for subhourly simulations.</li>
<li>Fix battery sizing inputs for behind-the-meter applications.</li>
<li>Clean up user interface variables and labels.</li>
<li>Fix bank capacity labels in SSC to help differentiate between user sizing and actual size variable names.</li>
<li>Change Generic Battery output variable labels to refer to "system" instead of "PV".</li>
</ul>
</li>
<li>PVWatts
<ul>
<li>Fix issue with monthly energy calculations for subhourly simulations.</li>
<li>Fix bifacial model (pvwattsv7 via API only).
</ul>
<li>Fuel Cell
<ul>
<li>Fix configuration issue with Fuel Cell / Single Owner.</li>
<li>Fix PVWatts issue with monthly energy calculations for subhourly simulations.</li>
</ul>
</li>
<li>Detailed Photovoltaic
<ul>
<li>Enable self-shading for one-axis tracking with backtracking.</li>
<li>Fix issues with daily lifetime loss inputs.</li>
<li>Fix issues with losses outputs.</li>
<li>Fix issue with "Tilt = Latitude" for negative latitudes (Southern Hemisphere).</li>
</ul>
</li>
<li>Biopower
<ul>
<li>Remove Biopower / Commercial configuration. Model is designed for power generation projects, not distributed power applications.</li>
<li>Remove feedstock download buttons and links that no longer work.</li>
</ul>
</li>

</ul>

<h1 id="2020-2-29-r1">Version 2020.2.29 Revision 1, SSC Version 238: March 30, 2020</h1>
	 
<p>This is an update to SAM 2020.2.29 that fixes the issues listed below. For detailed descriptions of issues fixed for this update, see <a href="https://github.com/NREL/SAM/issues?q=is%3Aissue+milestone%3A%222020+Patch+1%22">GitHub Issues for SAM 2020.2.29 Patch 1</a>.</p>

<ul>
<li>
General
<ul>
<li>Revise and update Help system for battery front-of-meter and behind-the-meter dispatch options, and other general revisions.</li>
<li>Add Help buttons to all "Edit Data"  windows.</li>
<li>Inputs browser improvements to handle inf and NaN values.</li>
<li>Fix typos in version upgrade script.</li>
</ul>
</li>
<li>
Detailed PV
<ul>
<li>Add user interface check for out-of-range azimuth values.</li>
<li>Fix issue with inverter power limiting calculations.</li>
</ul>
</li>
<li>
Battery Storage
<ul>
<li>Fix issue with opening configurations with batteries from older versions of SAM.</li>
<li>Fix battery sizing input variables for behind-the-meter configurations.</li>
<li>Fix dispatch input variables for front-of-meter configurations.</li>
<li>Disable charge from clipped power option for AC-connected batteries.</li>
<li>Enable charging from clipped power for default front-of-meter configurations.</li>
<li>Improve handling of time-of-delivery (TOD) PPA price multipliers for front-of-meter configurations.</li>
<li>Fix issues with automatic sizing and dispatch (REopt) for behind-the-meter configurations.</li>
</ul>
</li>
<li>
Marine Energy
<ul>
<li>Remove obsolete "Marine Hydrokinetic" macro from Generic System configurations.</li>
</ul>
</li>
<li>
Industrial Process Heat (IPH)
<ul>
<li>Add capacity factor metric for industrial process heat (IPH) models to Results page Metrics table on Summary tab.</li>
</ul>
</li>
</ul>

<h1 id="2020-2-29">Version 2020.2.29, SSC Version 237: February 29, 2020</h1>
	 
<p>This version introduces several new models and features in addition to enhancements to existing models:</p>

<ul>
<li>New marine energy tidal and wave performance models.</li>
<li>New fuel cell performance model.</li>
<li>New merchant plant financial model.</li>
<li>New critical load and resiliency metrics for Residential and Commercial financial models.</li>
<li>Update <a href="#pvwatts">PVWatts<a> from Version 5 to Version 7 with new module parameter values, optional snow model and <a href="#pvwatts">other updates</a>.</li>
<li>New battery sizing and dispatch optimization option based on NREL's <a href="https://reopt.nrel.gov/tool">ReOpt Lite</a>.</li>
<li>New models for grid interconnection limits and curtailment.</li>
<li>New battery storage category to separate battery model configurations from Detailed PV and Generic System configurations.</li>	
</ul>

<p>For details about work done for this release, see <a href="https://github.com/NREL/SAM/issues?q=is%3Aissue+milestone%3A%222020+Release%22">GitHub Issues for SAM 2020.2.29 release</a>.

<h2>General</h2>

<p>New model configuration selection tree for choosing models when creating a case to make it easier to find models.</p>
<p>Check for Updates now works for both new software versions and revision number changes within a given version.</p>
<p>LK script fixes to <code>to_int()</code> function.</p>
<p>Fix Combine Cases macro to correctly assign cost to user input in Generic System case.</p>
<p>Discontinue support for 32-bit Windows versions of SAM Simulation Core (SSC).</p>
<p>All models now include a Grid Limits page for interconnection limits and curtailment to model operational limits imposed by grid operators or regulatory institutions. Availability is a separate input to model operational downtime that the system owner controls such as for maintenance.</p>

<h2>Weather Data</h2>

<p>Change minute time stamp from 0 to 30 and update data to include GHI data for small collection of default weather files that come with SAM.</p>
<p>Fix time stamp issue with weather file converter macro for SolarAnywhere files.</p>

<h2>Detailed Photovoltaic</h2>

<p>Daily AC and DC losses by year inputs for simulation over analysis period option automatically sets array length to the product of 365 days and analysis period in years.</p>
<p>Update CEC module and inverter libraries.</p>
<p>Fix tilt = latitude bug.</p>
<p>Fix bug with PDF report for systems with multiple subarrays.</p>
<p>Fix bug with 3D Shade Calculator returning time zone of zero.</p>
<p>Add simulation warning for one-axis tracking when tilt angle is not zero.</p>
<p>Fix problem when weather file contains POA data only.</p>
<p>Fix problems with inverter input voltage calculations and MPPT limit ratings.</p>
<p>Support simulations with custom time periods, available in pvsamv1 via API only.</p>
<p>New transient thermal cell temperature model</p>

<h2 id="2020-2-29-pvwatts">PVWatts</h2>

<p>Update from PVWatts V5 to PVWatts V7:</p>
<ul>
<li>Self-shading applies to the fixed open rack and 1-axis tracking array types and accounts for diffuse shading. In Version 5, self-shading only applies to 1-axis tracking.</li>
<li>Diffuse shading applies to the 1-axis backtracking array type. In Version 5, it only applies to the 1-axis tracking array type.</li>
<li>Account for incident angle reflection losses in the module cover using the physical model for incident angle modifier to account for reflection losses of both direct and beam irradiance.</li>
<li>Update parameter values for module type (see table below).</li>
<li>Apply air mass modifier to account for solar spectrum.</li>
<li>Optional snow loss model, only available when weather file contains snow depth data.</li>
<li>New custom dispatch option for battery.</li>
<li>New automatic size and dispatch optimization based on NREL <a href="https://reopt.nrel.gov/tool">ReOpt Lite</a>.</li>
</ul>
<table>
<tr>
<th>Module Type</th>
<th>Approximate Nominal Efficiency (%)<br/>V5 / V7</th>
<th>Module Cover<br/>V5 / V7</th>
<th>Temperature  Coefficient of Power (%/&deg;C)<br/>V5 / V7</th>
<th>Fill Factor (for self-shading)<br/>V5 / V7</th>
</tr>
<tr>
<td>Standard (crystalline Silicon)</td>
<td>15 / 17</td>
<td>Glass / Anti-reflective</td>
<td>-0.47 / -0.37</td>
<td>None / 77.1%</td>
</tr>
<tr>
<td>Premium (crystalline Silicon)</td>
<td>19 / 20.1</td>
<td>Anti-reflective</td>
<td>-0.35 / -0.35</td>
<td>None / 80.1%</td>
</tr>
<tr>
<td>Thin film</td>
<td>10 / 15.6</td>
<td>Glass / Anti-reflective</td>
<td>-0.20 / -0.32</td>
<td>None / 70.6%</td>
</tr>
</table>	
<p>The following new features in PVWatts V7 are in SAM Simulation Core (SSC) (accessible via the <a href="https://sam.nrel.gov/sdk">SAM SDK</a>) but not in SAM:</p>
<ul>
<li>Stow trackers when wind speed exceeds an upper limit (to avoid wind damage).</li>
<li>Bifacial modules.</li>
<li>Transformer losses.</li>
<li>Soiling loss input as a beam irradiance loss.</li>
</ul>
<p>Add simulation warning for one-axis tracking when tilt angle is not zero.</p>
<p>Fix problem with battery voltage and temperature model units.</p>
<p>Fix bug with battery chemsitry selection, loss inputs, and lifetime simulation.</p>

<h2>Battery Storage</h2>

<p>Separate battery storage model configurations from the Detailed PV and Generic System configurations with a new "Battery Storage" category in the performance model list. (Inputs for the simple battery model are still on the PVWatts System Design input page.)</p>
<p>Convert some inputs to drop-down lists to make user interface less cluttered.</p>

<h2>Marine Energy</h2>

<p>New performance model for marine wave energy systems.</p>
<p>New performance model for marine tidal energy systems.</p>

<h2>Fuel Cell</h2>

<p>New performance model for photovoltaic array with fuel cell and optional battery storage.</p>

<h2>CSP General</h2>

<p>Fix issues with numeric solver "monotonic equation solver" used by CSP models.</p>
	
<h2 id="2020-2-29-mspt">CSP Molten Salt Power Tower</h2>
	
<p>A <a href="https://doi.org/10.1016/j.enconman.2020.113025" target="_blank">new Rankine cycle air-cooled condenser model</a> that calculates turbine back pressure as a function of ambient temperature and cycle heat rejection load. The model uses a normalized polynomial function scaled to ambient temperature at design and minimum condenser pressure. This new model may result in lower total annual output compared to SAM 2018.11.11 and older versions of SAM because at full load heat rejection when the ambient dry-bulb temperature is greater than 10&deg;C, the new model calculates a higher condenser pressure. For the default Molten Salt Power Tower case in SAM, this happens for about 60% of the year, resulting in reduction in total annual electricity output of about 2%.</p>
<p>New inputs that don't appear in UI like <code>startup_ramp_time</code> and <code>startup_target_Tdiff</code>.</p>
<p>Fix bug with display of "Turbine inlet pressure control" list in user interface.</p> 
<p>Fix bug with power cycle evaporative cooling option.</p>
<p>Fix bug for power cycle sizes greater than 150 MW when all other inputs are left at their default values.</p>

<h2>CSP Physical Trough</h2>

<p>Reorganize inputs so that sizing inputs are on new System Design page.</p>
<p>Add dispatch optimization algorithm and inputs on new System Control page. Note that the fossil backup option was removed as part of this work</p>
<p>Fix bug in header pipe calculation to conserve mass flow.</p>
<p>Fix bug for power cycle sizes greater than 150 MW when all other inputs are left at their default values.</p>
<p>Fix physical trough HCE pipe roughness calculations.</p>

<h2>CSP Linear Fresnel</h2>

<p>Fix annulus gas pressure (torr) variable name for consistency between molten salt and direct steam models.</p>

<h2>IPH Parabolic Trough</h2>

<p>New system control model with dispatch optimization on System Control page.</p>

<h2>Wind</h2>

<p>Add new uncertainty analysis per IEC 61400-15 guidelines.</p>
<p>Add new loss inputs.</p>
<p>Fix bug with icing cutoff use of relative humidity data.</p>
<p>Add wind direction weibull distribution to results.</p>
<p>Add average annual wind speed as a result.</p>

<h2>Solar Water Heating</h2>

<p>Custom mains profile input simplified to annual array instead of annual or monthly options.</p>

<h2>Biopower</h2>

<p>Improve user interface and documentation to clarify that Biopower model requires weather file with GHI data.</p>

<h2>Merchant Plant Financial Model</h2>

<p>New financial model for power projects that sell power at hourly or subhourly energy market rates with optional revenue from capacity payments and ancillary services.</p>

<h2>Power Purchase Agreement (PPA) Financial Models</h2>

<p><em>The Power Purchase Agreement (PPA) models include single owner, partnership flip with and without debt, and sale leaseback.</em></p>

<p>PPA price input as array of annual values.</p>
<p>Send to Excel with Equations now works for partnership flip and sale leaseback models.</p>
<p>New optional additional revenue from capacity or curtailment payments.</p>
<p>New optional grid interconnection limits and curtailment.</p>
<p>New Revenue input page for Solution Mode and revenue sources from PPA, and optional capacity or curtailment payments.</p>
<p>Time of Delivery (TOD) factors moved to Revenue page.</p>
<p>Cashflow send-to-Excel with equations fixes for third party ownership host-developer and PPA models.</p>

<h2>Behind-the-meter Fianancial Models</h2>

<p><em>Behind-the-meter financial models include the residential and commercial models.</em></p>

<p>Both by and sell rates can be specified as hourly or subhourly values instead of using time-of-use schedules and periods.</p>
<p>New critical load inputs and resiliency metrics for results.</p>
<p>Residential load data not available for Alaska locations for Download Electric Load macro.</p>
<p>New optional grid interconnection limits and curtailment.</p>
<p>Fix metering option variable labels in SSC utilityrate5 modules to match SAM user interface.</p>
<p>Update Value of RE script to work with URDB CSV file.</p>

<h2>Third Party Ownership Finanical Models</h2>

<p><em>Third-party ownership models include the Third Party Ownership / Host and Third Party Ownership / Host-Developer models.</em></p>

<p>Fix Host NPV in Send to Excel with Equations workbook.</p>
<p>Fix issues with PDF report when developer NPV is positive and host NPV is negative.</p>
<p>New optional grid interconnection limits and curtailment.</p>

<h1>Version 2018.11.11, SSC Version 198: November 11, 2018</h1>

<p>This new version introduces new models for third party ownership, bifacial photovoltaic modules, multiple maximum power point trackers for photovoltaic systems, and accesses the latest solar resource data (PSM V3) from the National Solar Radiation Database. It also includes enhancements to the battery storage and CSP parabolic trough models.</p>

<p>This is the most recent version to include the Integrated Solar Combined Cycle (ISCC) model. It has been removed from later versions due to incompatibility with updates to components it shares with other CSP models. If you would like to use the ISCC model, please download and install SAM 2018.11.11.</p>

<h2>General</h2>

<p>Update assumptions for default configurations.</p>
<p>Update user documentation.</p>
<p>Fix stochastic simulations running on Mac OS.</p>
<p>Fix issues with time series data viewer in Mac OS.</p>
<p>Update getting started script for India to use PVWatts so system size scales correctly.</p>
<p>Add new parametric import and export functions to LK scripting language.</p>

<h2>Weather Data</h2>

<p>Improve weather file download for models that use solar resource data to access data from the NREL National Solar Radiation Database (NSRDB). SAM downloads typical meteorological year (TMY) files from the Physical Solar Model (PSM) Version 3 dataset by default, and provides options for downloading single year data, multiple files at a time for different locations or for P50/P90 simulations, and for downloading legacy data from the older NSRDB datasets.</p>
<p>Remove out-of-date weather files from default library.</p>
<p>Improve error reporting when weather file has more than one year's worth of data.</p>
<p>Add support for subhourly data in weather files using the EPW format.</p>
<p>Add support for PVsyst ang PVGIS weather data column labels in the SAM CSV format.</p>
<p>Add check for missing values in weather files using the EPW format.</p>


<h2>Detailed Photovoltaic</h2>

<p>Add support for systems with multiple power point trackers (MPPT) with a new inverter input variable for number of MPPT inputs on the Inverter input page.</p>
<p>Add option for modeling bifacial modules with new variables on the Module input page.</p>
<p>Add new macro for optimizing subarray layout given area constraints imposed by rooftop size or available land.</p>
<p>Improve system sizing macro.</p>
<p>Improve System Design input page to streamline system sizing work flow.</p>
<p>Add new inverter temperature model.</p>
<p>Remove misleading error message about using the snow model with one-axis tracking.</p>
<p>Add AC capacity factor as an output variable available on the Data Tables tab.</p>
<p>Enable albedo for parametric simulations.</p>
<p>Display bandgap voltage assumptions for single-diode models.</p>
<p>Update CEC module and inverter libraries with CEC data as of November 4, 2018. Remove inverters with bad data from library.</p>
<p>Fixed issue with voltage calculation for subarray mismatch algorithm. <a href="https://github.com/NREL/ssc/issues/191">GitHub Issue SSC 191</a>.</p>
<p>Add implementation of Mermoud/Lejeune module model to SSC. This model option is not available in the SAM user interface, but can be accessed via the SSC API using the <a href="https://sam.nrel.gov/sdk">SAM Software Development Kit (SDK)</a>. <a href="https://github.com/NREL/ssc/issues/26">GitHub Issue SSC 26</a>.</p>

<h2>PVWatts</h2>

<p>Disable tilt and azimuth variables as appropriate based on tracking option.</p>


<h2>Third Party Ownership Host / Developer</h2>

<p>This new model for third party ownership of a photovoltaic system on a residential or commercial property is from the developer's perspective to determine the power price the developer charges the host to meet the developer's costs and return requirements.</p>
<p>Rename the Third Party Host model from older versions of SAM. The Host model is from the host's perspective to compare a lease agreement to a power purchase agreement.</p>
<p>Enable load download macros for third party ownership financial models.</p>


<h2>Residential and Commercial</h2>

<p>Fix production-based incentive and payback calculations in Send-to-Excel with equations. This was an issue in the workbook, not with SAM results.</p>

<h2>Electricity Rates</h2>

<p>Change labels for excess generation options to standard names for net energy metering, net billing, etc.</p>
<p>Fix issue with calculation of credits for excess generation. <a href="https://github.com/NREL/ssc/issues/154">GitHub Issue SSC 154</a></p>

<h2>Battery Storage</h2>

<p>Add battery storage to the Generic System model.</p>
<p>For systems with batteries using the PPA Single Owner financial models, enable Electricity Rates input page to account for the cost of charging the battery and supplying inverter night-time load from the grid and add cost of retail electricity purchases to the project cash flow.</p>
<p>Fix issue with initial state of charge (SOC) not being applied correctly.</p>
<p>Include PV DC and AC losses in power values used for front-of-meter and behind-the-meter battery configurations. <a href="https://github.com/NREL/ssc/issues/137">GitHub Issue SSC 137</a></p>
<p>Fix issue with battery replacements. <a href="https://github.com/NREL/ssc/issues/55">GitHub Issue SSC 55</a>.</p>
<p>Fix several issues with dispatch, lifetime, power flow calculations.</p>

<h2>CSP Physical Trough Model</h2>

	<p>Header sizing algorithm considers all sections when progressively downsizing the diameters.</p>
	<p>Internal energy of the inlet, outlet, and crossover piping (IOCOP) now fully accounted for.</p>
	<p>Runner pressure drop calculation accurately counts expansions and contractions.</p>
	<p>Calculation of thermal energy storage (TES) and steam generator system (SGS) piping volumes now more precise.</p>
	<p>Script templates added for implementing new features.</p>
	<p>Runner and header diameter sizing algorithm revamped:</p>
	<ul>
	 <li>More robust in border cases.</li>
	 <li>Preferentially selects smaller diameter (cheaper) pipes for out-of-range cases.</li>
	 <li>Diameter limit less restrictive for hot (costlier) than cold header pipes.</li>
	</ul>
	<p>Calculates (and outputs) HTF properties at design conditions in each pipe section:</p>
	<ul>
	 <li>Properties include mass flow, velocity, temperature and pressure.</li>
	 <li>Model runs until steady-state is achieved.</li>
	 <li>Occurs before yearly simulation.</li>
	 <li>Default is to perform, but can be skipped.</li>
	</ul>
	<p>Added configurable parameters for solar field:</p>
	<ul>
	 <li>North/south distance between subfields (northsouth_field_sep)</li>
	 <li>Minimum number of runner expansion loops for each constant diameter segment (Min_rnr_xpans)</li>
	 <li>Frequency of runner expansion loops (L_rnr_per_xpan)</li>
	 <li>Expansion loop lengths (L_xpan_hdr, L_xpan_rnr)</li>
	 <li>Maximum number of header diameters (N_max_hdr_diams)</li>
	 <li>Location of the first header expansion loop (offset_xpan_hdr)</li>
	 <li>Number of collector loops per header expansion loop (N_hdr_per_xpan)</li>
	</ul>
	<p>Added configurable parameters for thermal energy storage (TES)/power block (PB):</p>
	<ul>
	 <li>Bypass valve operation during field recirculation (has_hot_tank_bypass) can bypass just hot tank and feed into cold tank (=true) or bypass both tanks and rest of TES/PB (=false).</li>
	 <li>Minimum HTF temperature that may enter the hot tank (T_tank_hot_inlet_min).</li>
	 <li>Length of runner pipe in and around the power block (L_rnr_pb).</li>
	 <li>Lengths of the TES/PB piping (sgs_lengths).</li>
	 <li>Design-point velocity for sizing the TES/PB pipe diameters (V_tes_des).</li>
	 <li>Minor losses of TES/PB pipe fittings (k_tes_loss_coeffs).</li>
	 <li>Pressure drop within the steam generator system (DP_SGS).</li>
	</ul>
	<p>Separate design velocities added for sizing hot and cold headers.</p>
	<p>Custom TES/PB piping pressure drop calculation option based on Darcy-Weisbach and custom minor pressure losses.</p>
	<p>Now reporting TES/PB, runner, header, and loop pipe lengths, diameters, wall thicknesses and number of expansion loops. Minus the number of expansion loops, these output values can be modified and read-in as custom values for subsequent model runs.</p>
	<p>Configurable interconnects have been added that replace hard coded component sizes and associated losses, at the inlet, outlet, crossover, and connections between solar collector assemblies (SCAs). Utilized using the following component and component assembly (interconnect) input files, with example usage in the script templates:</p>
	<ul>
	 <li>physical_trough_interconnect_components.csv</li>
	 <li>physical_trough_interconnect_definitions.csv</li>
	</ul>
	<p>Collection (field) and generation (TES/PB) loops have been decoupled. This allows for storage tanks in series with the field in direct storage configurations.</p>
	<p>Unit tests have been added to continually verify functions perform as designed.</p>

<h2>CSP Power Tower</h2>

<p>Improve user-defined power cycle input tables and documentation.</p>
<p>Internal improvements to SolarPILOT calculations.</p>

<h2>CSP Dish Stirling</h2>

<p>Dish Stirling model annual energy increased by 8% due to the new weather file format.</p>

<h2>Wind Power</h2>

<p>Fix issue with WIND Toolkit data time zone. SAM assumes time stamps are in local time, not UTC. Only affects projects with load data or time-depending electricity prices.</p>

<h2>Geothermal</h2>

<p>Add LCOE optimizer.</p>
<p>Update and fix bugs in code.</p>
<p>Calculate capacity factor from net nameplate capacity instead of gross nameplate capacity.</p>

<h2>Generic System</h2>

<p>Add battery storage.</p>


<h1>Version 2017.9.5 Revision 4, SSC Version 186: March 14, 2018</h1>

<p>This update restores a few items that were omitted from the SAM 2017.9.5 Revision 3 update and addresses one new issue.</p>
<ul>
 <li>Improve Generic System Power Plant input page to better handle generation profile as input.</li> 
 <li>Restore fix for Wind power model wind resource data downloads from WIND Toolkit.</li> 
 <li>Restore Molten Salt Power Tower model supercritical carbon dioxide power cycle option.</li> 
 <li>Restore 3D Shade Calculator bug fix for issue with objects below active surfaces causing shadows.</li> 
 <li>Restore improvements to cash flow send-to-Excel-with-equations handling of tax and other inputs as arrays.</li>
 </ul>

<h1>Version 2017.9.5 Revision 3, SSC Version 184: February 21, 2018</h1>

<p>This is a maintenance update that fixes the following issues in SAM 2017.9.5 Revision 2:</p>

<ul>
<li>Detailed Photovoltaic:
	<ul>
	<li>Update CEC inverter library to February 2, 2018 database. We are using a new conversion algorithm to generate the CEC Inverters library that accounts for discrepancies in the database data and removes most inverters with bad data.</li>
	<li>Fix issue when using GHI and DHI or POA options for irradiance data from weather file.</li>
	<li>Fix variable labels of temperature correction standoff options in SSC.</li>
	</ul>
</li>
<li>Detailed Photovoltaic and PVWatts:
	<ul>
	<li>Fix problem with POA irradiance calculations when the time zone is positive and longitude is negative, such as for some South Pacific islands.</li>
	<li>Fix an issue with 3D Shade Calculator with objects under and active surface appearing to cause shadows.</li>
	</ul>
</li>
<li>Wind Power:
	<ul>
	<li>Add support for subhourly simulations.</li>
	<li>Make Wind Resource Histogram macro available only for Wind Power.</li>
	</ul>
</li>
<li>Industrial Process Heat (IPH):
	<ul>
	<li>Allow IPH Trough with custom HTF properties.</li>
	<li>Fix issue with IPH Linear Direct Steam's evacuated tube model.</li>
	</ul>
</li>
<li>Solar Resource Data:
	<ul>
	<li>Change button labels on Location and Resource input page to clarify their functions.</li>
	<li>Add a check to weather file reader to check for time zone data in header to prevent simulation errors.</li>
	<li>Fix an issue with the Solar Resource Interpolation macro with "Same as Load" option.</li>
	</ul>
</li>
<li>Electricity Bill Calculations (Residential and Commercial):
	<ul>
	<li>Report peak demand by TOU period in results tables.</li>
	<li>Fix bill calculation for monthly excess with $ credits option to correctly account for rollover credits.</li>
	</ul>
</li>
<li>Send-to-Excel with Equations:
	<ul>
	<li>Clarify handling of income tax rates entered as tables for Residential, Commercial, and Single Owner financial models.</li>
	<li>Fix PBI and PTC entered as table for Residential and Commercial.</li>
	</ul>
</li>
<li>PDF report generator:
	<ul>
	<li>Reports work for all performance and financial models.</li>
	<li>Graphs show y-axis values and tick marks.</li>
	<li>PPA price for Third-party Ownership displays correctly (was displayed as zero due to conversion to integer).</li>
	<li>Fix irradiance units for photovoltaic systems.</li>
	</ul>
</li>	
<li>Update <strong>Solar Water Heating</strong> Auxiliary Gas Heater macro to use correct units.</li>
<li>Fix issue with <strong>Power Tower</strong> SolarPilot shading calculations.</li>
<li>Add support to <strong>Generic System</strong> for subhourly load data.</li>
<li>Fix an issue with <strong>Excel Exchange</strong> that prevented SAM from communicating with Excel.</li>
</ul>

<h1>Version 2017.9.5 Revision 2, SSC Version 180: October 30, 2017</h1>

<p>This is a maintenance update that fixes the following issues in SAM 2017.9.5 Revision 1:
</p>

<ul>
<li>Fix a problem with menus and other interface elements caused by Microsoft Windows 10 Fall Creators Update.
<li>Minor revisions to Help system.
<li>New sCO2 power cycle option for CSP molten salt power tower model.
<li>Fix wind Off-shore Balance of System cost model issue with turbine diameter and with values shown on input page.
<li>Change wind farm loss default value for Wind power with LCOE calculator.
<li>Fix hidden Return on Equity variable on Financial Parameters input page by expanding Return on Equity input variable panel at bottom of page.
<li>Fix issues with PV report template handling of annual schedules and accounting of excess generation options.
</ul>

<h1>Version 2017.9.5 Revision 1, SSC Version 179: September 17, 2017</h1>

<p>This is a maintenance update that fixes the following issues in SAM 2017.9.5:
</p>

<ul>
<li>Fix an issue for <strong>Concentrating Solar Power</strong> models with subhourly weather data.</li>
<li>Update <strong>Solar Resource Interpolation macro</strong> to handle Residential and Commercial cases where the electric load is not defined, and check weather file for required time stamp, irradiance, and wind direction data.</li>
<li>Update the SAM file used by the <strong>PV India wizard</strong> from SAM 2017.1.17 to SAM 2017.9.5.</li>
<li>Update <strong>Detailed Photovoltaic model</strong> to only show battery efficiency metric on Summary tab of Results page if battery is enabled.</li>
<li>Fix issues with <strong>report template</strong> for photovoltaic systems, and:
<ul>
 <li>Improve handling of annual schedules for PBI, PTC, and rate escalation.</li>
 <li>Add support for five metering options and time series sell rates</li>
 <li>Remove SAM logo for SAM open source</li>
</ul></li>
 <li>Remove <strong>interpmet</strong> parameter from SAM CSV weather file format. (Was originally intended for internal testing purposes.)</li>
 <li>Fix issue with <strong>Battery Storage</strong> model's checking of constraints.</li>
 <li>Add missing files Windows dlls and Mac SDKtool app to <strong>SAM SDK</strong>.</li>
</ul>
	 
<h1>Version 2017.9.5 SSC Version 178: September 5, 2017</h1>

<p>Summary: This version is the first to be built from the new <a href="https://sam.nrel.gov/opensource">SAM open source</a> repositories. It also includes new capabilities for downloading weather files from the National Solar Radiation Database (NSRDB), and a new direct thermal energy storage model for the industrial process heat physical trough model.</p>

<h2>General</h2>
 
<p>Added ability to download different types of files from National Solar Radiation Database (NSRDB) for SAM's solar models. It is now possible to download individual single-year files, multiple weather files for P50/P90 analysis, and legacy data directly from SAM.</p>
			 
<h2>Detailed Photovoltaic Model</h2>

<p>Added weather file checking for for missing temperature or wind speed values.</p>
<p>Updated the Inverter Sizing Information macro to give more information, and renamed it to System Sizing Information.</p>
<p>Fixed kWh/kW metric for subhourly simulations.</p>
<p>Fixed units for GHI data in results.</p>
<p>Fixed problems with PDF report for effective tax rate</p>

<h2>Battery Storage</h2>

<p>Improved battery sizing workflow and interface.</p>
<p>Comprehensive reworking of flow battery inputs and model.</p>
<p>Added a calendar-life model for lithium-ion batteries, and a tabular calendar life degradation input for other chemistries.</p>
<p>Added an iron-flow battery to the list of default types.</p>
<p>Improved battery dispatch control.</p>
<p>Fixed several problems with battery model combined with PPA financial model:</p>
<ul>
<li>Acount for grid power purchases to charge battery.</li>
<li>Include battery cost in system installation cost for partnership flip models.</li>
<li>Inconsistencies how SAM reported some time series outputs</li>
</ul>

<h2>Process Heat Parabolic Trough</h2>

<p>Added direct thermal energy storage. The default solar multiple has increased from 1 to 2.5 and the default for the new input hours of thermal storage is 6.</p>
<p>Added an input for the wind speed at which the trough is stowed. The default wind stow speed is 25 m/s.</p>
<p>Changed controller messages from runtime warnings to notices to minimize information displayed after a simulation. Click the Notices button at the top right of the SAM window to see the messages.</p>

<h2>Process Heat Linear Direct Steam</h2>

<p>Improved numeric convergence in the annual simulation and results in fewer simulation crashes.</p>
<p>Changed controller messages from runtime warnings to notices to minimize information displayed after a simulation. Click the Notices button at the top right of the SAM window to see the messages.</p>

<h2>Molten Salt Power Tower</h2>

<p>Modified the structure by which the tower compute module (cmod_tcsmolten_salt) is called, which affects scripting and API functions. Previously-created LK scripts that are executed using the new SAM release may require modification. The changes occurred in the variable table, in which redundant variables were removed, and the only variable inputs that remain are the minimal set that fully define the system geometry. That is, no calculated parameters are passed as inputs under the new structure. This change simplifies scripting to eliminate the need to provide calculated values as inputs.</p>
<p>Changed some messages from runtime warnings to notices to minimize information displayed after a simulation. Click the Notices button at the top right of the SAM window to see the messages.</p>

<h2>Wind</h2>

<p>Significant changes to the way that SAM corrects power curves for air density. SAM was previously using an older correction method that was appropriate for stall-regulated turbines, but the majority of modern turbines are pitch-regulated. These are better represented by a different correction for air density, which is now implemented. This new method will increase energy production values significantly for turbines at high elevation sites. A description of these two air density calculation methods can be found at <a href="https://www.scribd.com/document/38818683/PO310-EWEC2010-Presentation">https://www.scribd.com/document/38818683/PO310-EWEC2010-Presentation</a>. 
</p>

<h2>PPA Financial Models</h2>


<p>Fixed a problem with saving TOD Factors data to text file.</p>
<p>Reorganized TOD Factors input page to improve usability of time series TOD factor inputs.</p>
<p>For partnership flip with debt model, fixed problem with accounting of Cost of Development fee in cash flow.</p>

<h2>Macros and LK Scriptiong</h2>	 

<p>Added median() function to the LK scripting language.</p>
<p>Added a macro to interpolate solar resource data from hourly to subhourly time resolution.</p>
<p>Improved PV sizing information macro.</p>

	 
<h1>Version 2017.1.17 Revision 4 SSC Version 174: June 19, 2017</h1>

<p>This is a maintenance update that fixes the following issues in SAM 2017.1.17 Revision 3:
</p>
<ul>
<li>Cash flow "Send to Excel with Equations" for PPA Single Owner financial model: Added support for income tax holidays, debt payment holiday and fixed principal declining interest payments, receivable reserves, and battery replacements.
</li><li>Changed Send-to-Excel behavior to open a Save As window instead of automatically saving to hidden Applications folder.
</li><li>Residential and Commercial: Fixed an issue with the "Monthly total excess credited to next bill in $ at sell rate(s)" option's calculation of the dollar credit and changed labels of monthly credit output variables.
</li><li>Detailed Photovoltaic Model: Fixed non-linear self-shading option to work for weather files with no DNI data.
</li><li>Battery model (part of Detailed Photovoltaic Model): Fixed issues with the automated grid power target algorithm, power flow calculations, and controller for AC-connected batteries in self consumption mode.
</li><li>Process Heat Direct Steam: Fixed an issue that caused the actual number of loops to be incorrect due to a rounding error that caused the solar multiple to be incorrect. 
</li><li>Process Heat Parabolic Trough: Fixed behavior of "Choose Number of Loops" macro's Cancel button and updated default values.
</li><li>Molten Salt Linear Fresnel: Fixed an issue with the collector azimuth angle.
</li><li>CSP power cycle models: Fixed an issue that caused system to generate power in standby mode.
</li><li>Power Tower models: Fixed issue with dispatch optimization.
</li><li>Molten Salt Power Tower: Improved internal calculations to include mass flow rate constraints.
</li><li>Code Generator: Added support for Android Studio for developing Android device apps to use the SAM API. This is a new feature still in the testing phase.
</li><li>Fixed an issue with software registration on some computers running Mac OS and OS X.
</li><li>Fixed an issue with the inputs browser that caused SAM to crash under certain conditions.
</li></ul>

	   
	   <h1>Version 2017.1.17 Revision 3 SSC Version 173: April 21, 2017</h1>
<p>This is a maintenance update that fixes the following issues in SAM 2017.1.17 Revision 2:
</p>
<ul>
<li>Residential and Commercial models: Updated API call to OpenEI Utility Rate Database to match changes in the database made after last SAM release that prevented SAM from displaying electricity rates correctly.
</li><li>Detailed PV battery: Fixed reporting of grid power results for DC-connected battery.
</li><li>Fixed a problem displaying Help topics from the Results page.
</li><li>Solar resource data: Removed trailing zeros from latitude and longitude values in two TMY3 weather files (Blanding, UT and Bryce Canyon, UT) that caused erroneous reporting of DNI exceeding maximum limits.
</li></ul>

<h1>Version 2017.1.17 Revision 2 SSC Version 172: March 30, 2017</h1>
<p> This is a maintenance update that fixes the following issues in SAM 2017.1.17 Revision 1:
</p>
<ul>
<li>Wind: Made minor updates to cost calculations in offshore balance-of-system cost model.
</li><li>Detailed PV: Fixed issue with loss diagram in SAM 2017.1.17 r1 that caused diagram to fail for the detailed PV model with either no financial model or the LCOE calculator financial mode.
</li><li>Detailed PV battery: 
<ul>
<li>Fixed an issue with the grid power target automated optimization mode, and add outputs for that mode.
</li><li>Detailed PV battery: Fixed minor problems with initialization of the look-behind peak-shaving automated optimization mode.
</li></ul>
</li><li>CSP Rankine power cycle: Fixed an issue with startup energy calculation that caused thermal startup energy to be too high under some conditions.
</li><li>CSP power tower: Changed dispatch optimization input for maximum limit to use 1e+38 as the maximum value instead of the string "inf" that caused an error.
</li><li>Help revisions.
</li></ul>

	   
	   <h1>Version 2017.1.17 Revision 1 SSC Version 171: March 13, 2017</h1>
<p> This is a maintenance update that fixes the following issues in SAM 2017.1.17:
</p>
<ul>
<li>Wind:
<ul>
<li>Disabled wake model input for Weibull resource option, and enabled "Specify desired farm and layout" for Weibull option when wake model is not active.
</li><li>Added new turbines to wind turbine library.
</li></ul>
</li><li>Solar resource library:
<ul>
<li>Fixed a typo in Abingdon VA TMY3 weather file (was Abington)
</li><li>Solar resource library: Added files for new India locations.
</li></ul>
</li><li>Detailed PV:
<ul>
<li> Updated CEC inverter library.
</li><li>Detailed PV: Improved calculations for display of I-V curve on Module input page.
</li><li>Detailed PV: Added lifetime AC/DC losses to loss auto-graph, and added a few items in loss diagram and loss auto-graph to show or hide depending on if the model is enabled or not.
</li><li>Detailed PV: Improved solver for PV IEC 61853 module model to minimize situations where solver would fail to calculate coefficient values.
</li></ul>
</li><li>Detailed PV battery:
<ul>
<li>Improved warnings for DC-connected batteries, and add  battery power rating on System Design input page.
</li><li>Fixed Vanadium redox voltage model.
</li><li>Added better predictive and iterative control for DC-connected batteries.
</li><li>Fixed an issue with the PV model that caused a crash under certain conditions when battery model was disabled.
</li><li>Updated calculations for battery with front-of-meter connection.
</li></ul>
</li><li>CSP power tower: 
<ul>
<li>Fixed issue that prevented field optimization from running as part of a simulation and caused an error message about the check_max_flux variable.
</li><li>Fixed issue with TOD factors and dispatch optimization.
</li></ul>
</li><li>CSP direct steam models: Added pressurized water properties
</li><li>CSP fossil backup: Fixed an issue with power cycle inlet temperature setting that caused fossil backup to fail.
</li><li>PVWatts with Third Party Ownership model: Fixed issue with lifetime simulations that prevented simulations from running.
</li><li>Residential and commercial: Fixed issue with units in reported power and energy values.
</li><li>SDK code generator: Made general improvements.
</li><li>Macros: Made "Value of RE" macro available only for residential and commercial models, and revise instructions.
</li><li>Help revisions.
</li></ul>
	   
<h1>Version 2017.1.17 SSC Version 170, January 2017</h1>

<p>Summary:  This version adds new capabilities to the photovoltaic, battery storage, concentrating solar power, and wind performance models, as well as new models for solar process heat applications.  In addition, major updates to the utility bill calculations allow greater flexiblity for correctly capturing the nuances of complex rate structures.  The scripting features have also been improved, and streamlined use of the SAM Software Development Kit (SDK) is possible using the new SDK code generator.</p>

<h2> Photovoltaics </h2>

<p> Added an inverter model coefficient calculator that directly accepts inverter efficiency test data for inverters not included in the database.  Efficiency data at six different power levels (10%, 20%, 30%, 50%, 75% and 100%) and three different voltages (Vmin, Vnom, Vmax) is required as input.
</p><p> Added a simple transformer loss model using datasheet no-load loss and full-load loss specifications.
</p><p> Added the ability to automate the 3D shading scene construction and loss calculations using LK scripting.
</p><p> Added a fixed seasonal tilt input option.
</p><p> Fixed several bugs and improved usability of the partial obstruction shading model.
</p><p> Added daily DC and AC lifetime loss inputs.
</p><p> Added DC and AC curtailment input options.
</p><p> Greatly improved simulation speed when using automated battery model dispatch.
</p><p> Improved user interface for self shading inputs.
</p><p> Reorganized PV model hourly outputs to improve clarity.
</p><p> Fixed bug with voltage mismatch calculation when using only one subarray.
</p><p> Fixed bug with degradation calculations when using multiple subarrays.
</p><p> Updated default PV costs for all markets.
</p><p> Updated default DC/AC ratio to 1.2.
</p>

<h2> Battery Storage </h2>

<p> Added option for modeling batteries at the utility scale with manual dispatch.
</p><p> Improved dispatch controller using an iterative algorithm that checks battery constraints at the end of the dispatch, and redispatches until all constraints are met (minimum or maximum state-of-charge, charging from grid when disallowed, exporting PV to grid when can charge battery, etc).
</p><p> Added options to model DC-connected battery system topologies.
</p><p> Added a Vanadium Redox Flow battery voltage model and default parameters.
</p><p> Added a simplified battery model option to PVWatts with automatic peak shaving dispatch.
</p><p> Added AC and DC battery and controller losses to the system loss diagram.
</p>

<h2> PVWatts </h2>

<p> Added a simplified battery model option to PVWatts with automatic peak shaving dispatch.
</p><p> Updated default PV costs for all markets.
</p><p> Updated default DC/AC ratio to 1.2.
</p>

<h2> Concentrating Solar Power (CSP) </h2>

<p> Added new solar process heat models using a trough or steam linear fresnel solar collectors.
</p>

<h2> Molten Salt Power Tower </h2>

<p>Implemented a number of enhancements to the dispatch optimization algorithm, including:</p>
    <ul>
        <li>Cost penalties for receiver and power cycle startup</li>
        <li>A cost penalty for varying electric power output from one time step to the next</li>
        <li>User-specification of the time-discounting factor that weights production as a function of the time step</li>
        <li>Implementation of a maximum net power output to the grid constraint which limits the net production - including parasitic consumption - to a fixed value, if desired.</li>
    </ul>
    <p>Implementation of availablity schedules for solar field production</p>
    <p>Improvement to solar field optimization to allow for explicit consideration of the maximum flux constraint. Using the algorithm 'BOBYQA', the flux is now directly limited via a linearized constraint, rather than included in the optimization objective function via a penalty factor. This improves the reliability of the solar field optimization algorithm. Note that other algorithm options have been removed, along with the flux over-design penalty input.</p>
    <p>Default values for the heliostat field, receiver, and tower have been updated</p>


<h2> Direct Steam Power Tower </h2>

   <p>See "Molten Salt Power Tower" notes regarding solar field optimization.</p>
    <p>Default values for the heliostat field, receiver, and tower have been updated</p>


<h2> Direct Steam Linear Fresnel </h2>

<p>Fixed the Evacuated Receiver field modeling option to use the correct assumptions implied by the "Broken Glass" checkbox. Bug in previous model resulted in simulation of the opposite case.</p>
<p>Fixed the IAM calculation used to model the collector/receiver optical performance. Bug in previous version used the traverse incidence angle in both the Traverse and Longitudinal IAM polynomials.</p>


<h2> CSP generic model</h2>

    <p>Added solar field availability and curtailment losses dialog to allow constant, time-period, and hourly specification</p>
    <p>Updated default values</p>
    <p>The Generic CSP System model was restructured and now uses different regression equations for thermal losses, power block conversion efficiency, and parasitic consumption. This change invalidates previous model configurations and requires revised input values. For more information on generating regression coefficients, view help or visit the SAM website.</p>
    <p>Added DNI adjustment for parasitic loads</p>
    <p>Added exergy correction model for thermal storage charge state</p>



<h2> Solar Water Heating </h2>

<p> Removed redundant output variables to improve clarity.
</p><p> Updated units of some output variables for improved consistency.
</p>

<h2> Wind </h2>

<p> Added nearly 200 wind turbine power curves.
</p><p> Fixed bug with how cut-in wind speed was calculated for turbines in the library.
</p><p> Fixed bug with the Weibull resource plot on the wind resource input page.
</p><p> Added a sales tax taxable basis input to the wind cost page.
</p><p> Updated default costs for all markets.
</p><p> Updated default turbine selection for some markets.
</p><p> Added wind turbine power curve as a model output.
</p><p> Fixed bug to correctly apply availability and curtailment losses when using the Weibull distribution resource model.
</p><p> Added offshore balance of system cost model.
</p><p> Added wind resource data file range checks on data values.
</p>

<h2> PPA Financial Models </h2>

<p> Added ability to handle negative inflation and real discount rates.
</p><p> Added state and federal tax yearly tax holidays.
</p><p> Added fixed principal declining interest loan payback option.
</p><p> Added fractional month calculations for all reserve accounts.
</p><p> Added receivables reserve account bases on ppa revenue.
</p><p> Added loan moratorium to debt fraction loan repayment option.
</p><p> Improved the organization of cash flow line items in the results.
</p><p> Added return on equity (ROE) input for modeling specific financing scenarios in international locations.
</p>

<h2> Residential and Commercial Financial Models </h2>

<p> Added new 'Value of RE' macro to model utility rate switching.
</p><p> Added ability to handle negative inflation and real discount rates.
</p><p> Added state and federal tax yearly tax holidays.
</p>

<h2> LCOE Calculator </h2>

<p> Minor update to the financial input page to improve clarity.
</p><p> Updated all default parameters to be consistent with the NREL Annual Technology Baseline report.
</p>

<h2> Utility Rates </h2>

<p> Improved options for monthly accounting of excess generation.
</p><p> Updated monthly outputs to include year end dollar rollovers.
</p><p> Added additional monthly outputs to balance monthly bill with energy charges and credits.
</p><p> Added ability to handle negative inflation and real discount rates.
</p><p> Added option to specify hourly or subhourly sell rates.
</p>

<h2> Scripting </h2>

<p> Fixed a bug in that caused occasional crashes when assigning a value to a variable that was stored on the right hand side as an element in a complex data structure having the same variable name.  e.g. <tt>x = x[1];</tt>
</p><p> Added the SDK Code Generator that will create C/C++, Java, MATLAB, PHP 5/7, VBA, C#, or Python 2/3 template code files for a SAM case.
</p><p> New script-based plotting features for filled or unfilled 2D contour plots, reversed axes, sector plots, color bars, GIF animations, and graphic and textual annotations.
</p><p> Fixed issue with setting working folder when running scripts through the LK debugger.
</p><p> Allow option to break into LK debugger if a script error occurs.
</p><p> Revised curl() function for more control of processing http/https requests.
</p><p> Added JSON read/write functions.
</p><p> Fixed bug in  switch statment <tt>( ? x [ 1, 2, 3 ] )</tt> processing.
</p><p> Allow lazy syntax in table initialization, e.g. <tt> x = { a=1, b='text', c=14.9 };</tt>
</p><p> Updated dview() function syntax to remove scaling factor option and added option to indicate which dataset should be selected in the viewer by default.
</p><p> Added new progressbar() function.
</p><p> Fixed bug in stable_sort() function, and added optional parameter for column sorting.
</p><p> Added macrocall() function to allow calling SAM Macros from within a script.
</p>

<h2> General </h2>

<p> Display rendering improvements for high-DPI screens.
</p><p> Fixed bug in P50/P90 simulation for user-specified P-values.
</p><p> Fixed a bug in the 'Combine Cases' macro.
</p>	   
	   
	   
<!------------------------------------------------------------------------------->	   
	   
	   
<h1>Version 2016.3.14 Revision 4 SSC Version 160, September 2016</h1>
<p> This is a maintenance update that fixes an NSRDB download issue in SAM 2016.3.14 Revision 3:
</p>
<ul><li>Fix an issue with downloading solar resource data from the NREL NSRDB. (This issue was introduced in SAM 2016.3.14 Revision 3.)
</li></ul>
<h1>Version 2016.3.14 Revision 3 SSC Version 160, September 2016</h1>
<p> This is a maintenance update with one new feature and that fixes several issues:
</p><ul>
<li>New code generator converts SAM inputs into LK, MATLAB, Python, Java, PHP, C#, or VBA code for use with the SAM SDK.</li><li>PDF report template: Fixes for subhourly load data (PV template) and large nameplate capacities (basic template).</li><li>Detailed PV with battery: Remove calculated user-interface variables from parametric inputs list.</li><li>Detailed PV: Report string Voc and Isc in time series results.</li><li>Detailed PV: Add error reporting to avoid errors in inverter clipping calculation when mismatch is enabled with one subarray.
</li></ul>
<h1>Version 2016.3.14 Revision 2 SSC Version 159, July 2016</h1>
<p> This is a maintenance update that fixes several issues:
</p><ul>
<li> Updated options for P50/P90 analysis
</li><li> Fixed timestamp in Copy-to-clipboard in results
</li><li> Improved sizing messages for module and inverter selection
</li><li> Fixed bug in error messages on wind turbine design input page
</li><li>Fixed typo on IEC61853 input page for temperature units
</li><li> Fixed several cut-and-paste issues for data browsers
</li><li>Fixed bug with 3D shading tool group names
</li><li> Fixed bug in tabular browser
</li><li> Fixed bugs with utility rates in PV report
</li><li> Fixed bug in PV model when running shade database model with POA input data
</li><li> Fixed bug in PV model when running POA model with multiple sub arrays
</li><li> Fixes to Java wrapper in SDK
</li><li> Fixed crash for financial models with analysis periods less than 11 years
</li><li> Fixed bug with energy charge and demand charges for two meter configurations
</li><li> Fixed bug in PV model snow loss calculation</li><li> Fixed bug with valid irradiance thresholds in PV model
</li><li> Fixed crash in CSP dispatch optimization when using user defined power cycle
</li><li> Fixed crash in CDF viewer in results
</li></ul>
<h1>Version 2016.3.14 Revision 1 SSC Version 159, April 2016</h1>
<p> This is a maintenance update that fixes several issues:
</p><ul>
<li>Fix for downloading solar resource data files from the NREL NSRDB
</li><li> Demand charge tiers are now correctly applied
</li><li> Escalation factor correctly handled in utility rates
</li><li> Fixed issue with kWh/kW units in utility rates
</li><li> Updated CEC module database
</li><li> Fix for importing SunEye shading data
</li><li> Fix for table formatting in shading azimuth/altitude input
</li><li> Fixed problem in CSP tower model with short power block startup times
</li><li>Fixes in the shading input user interface
</li><li> Fixes in the PV report template
</li><li> Updated physical trough receiver library
</li><li>Updates to help documentation
</li></ul>
<h1>Version 2016.3.14 SSC Version 159, March 2016</h1>
<p> This version adds new capabilities to the photovoltaic, battery storage, and molten salt power tower performance models with a new model for integrated solar combined cycle (ISCC) concentrating solar power plants. This version also adds new electricity metering options and other electricity rate improvements to the residential and commercial financial models. It includes a new data browser for tabular results and many enhancements to the LK scripting language.
</p><h2>Photovoltaics</h2>
<ul>
<li> New option to use plane-of-array (POA) irradiance data in the weather file as input, works with data from a pyranometer (broadband) or reference cell
</li><li> New obstruction shading model calculates beam shading factors for a subarray represented in the 3D shading calculator as consisting of up to 8 parallel strings
</li><li> New self-shading option for subarrays that experience linear reduction in output with an increase in self shading
</li><li> New capability for the module and inverter models with user entered parameters to save and load parameters from a text file
</li><li> Limit albedo values to greater than zero and less than one (non-inclusive). Albedo = 0 and albedo = 1 are invalid (non-physical)
</li><li> Change results variable names for irradiance values to make it clearer which values are from weather file and which values are calculated by transposition model, e.g., change Beam irradiance to Irradiance DNI from weather file 
</li><li> Added warnings to let the user know if SAM calculates a negative irradiance value and sets it to zero
</li><li> Fixed bugs in the Append Snow Data macro
</li><li> Bug fix to allow self-shading to run even if the weather file does not contain DNI data
</li><li> Bug fix in the existing non-linear self-shading algorithm that may have been slightly underestimating shade losses
</li><li> Bug fix for self-shading outputs in lifetime mode
</li><li> Improved feedback when setting up a self-shading scenario to make sure the self-shading is consistent with the system design
</li><li> Additional detail in the module and inverter libraries to make it easier to sort equipment
</li><li> Removed redundant total DC and total AC loss inputs
</li><li> Bug fix in the treatment of AC wiring and transformer losses at nighttime: they were incorrectly lessening the power draw at night, now they correctly add to it
</li><li> Update report template to work with new electricity rate inputs and results and fix bugs
</li></ul>
<h2>Battery Storage</h2>
<ul>
<li> New automated peak-shaving mode for demand charge reduction
</li><li> New power target mode
</li><li> New ability to schedule weekend dispatch separately
</li><li> New ability to prioritize photovoltaic power to battery or electric load
</li><li> New ability to customize grid charging levels
</li><li> Additional outputs to view battery metrics
</li></ul>
<h2>PVWatts</h2>
<ul>
<li> Uses hourly or subhourly shading losses from the 3D shading calculator rather than month by hour values.
</li></ul>
<h2>Concentrating Solar Power (CSP) Models</h2>
<ul>
<li>Water usage reported for all CSP models
</li><li>New integrated solar combined cycle (ISCC) performance model
</li></ul>
<h2>Parabolic Trough (Physical)</h2>
<ul>
<li>New user-defined power cycle option accepts performance data from an external power cycle model to define the performance characteristics of Rankine or other types of cycles.
</li><li>This release fixes a bug that resulted in unreasonable freeze protection parasitics. This bug typically occurred during subhourly simulations, however the fix may also improve the annual energy for some hourly simulations
</li></ul>
<h2>Parabolic Trough (Empirical)</h2>
<ul>
<li>This release fixes a bug in the implementation of the Cooling Tower Correction defined on the Power Block page. The previous version applied a wet bulb correction when Dry-bulb Basis was selected for the Temp. Correction Mode, and it cancelled the temperature correction when Wet-bulb Basis was selected (i.e. the performance model did not adjust for temperature variation during the annual simulation). This fix did not affect the 6.30.2015 default case, as the Cooling Tower Correction was set to a constant value (i.e. F0 = 1 and the remaining coefficients were zero). However, the bug could have a sizable effect (5-20%) on cases expecting a temperature correction
</li><li>Fix a bug that prevented Power Block parameters from the library to be applied when you selected an item in the library
</li></ul>
<h2>Molten Salt Power Tower</h2>
<ul>
<li>New dispatch optimization model and plant control algorithm with numerical solver automatically optimizes the dispatch of the thermal energy storage system to maximize plant revenue based on the time-of-use period PPA price multipliers defined on the Time of Delivery Factors page. If dispatch optimization is not selected, the plant control algorithm determines how to operate the power tower system based on the time-of-use periods and Turbine output fraction schedule defined on the new System Control input page.
</li><li>New user-defined power cycle option accepts performance data from an external power cycle model to define the performance characteristics of Rankine or other types of cycles.
</li><li>New Matrix Data results for receiver flux map, solar field optical efficiencies, and heliostat positions
</li><li>Reorganize user inputs: New System Design page has inputs that define the system nameplate capacities and design point parameters, System Control page for the new dispatch optimization inputs and other variables related to the operation of the system, Thermal Storage page now only has inputs to define the capacity of the TES, Parasitics page removed and those inputs moved to input page for relevant component, e.g., power cycle HTF pump power is now on Power Cycle page instead of Parasitics page.
</li><li>Supercritical carbon dioxide power cycle, thermocline storage, and fossil backup are not available in this version of the power tower model because of the new system control and optimization models.
</li></ul>
<h2>Molten Salt Linear Fresnel</h2>
<ul>
<li>New user-defined power cycle option accepts performance data from an external power cycle model to define the performance characteristics of Rankine or other types of cycles.
</li></ul>
<h2>Direct Steam Power Tower</h2>
<ul>
<li>This release correctly calculates heliostat tracking parasitics. The old version was underreporting this value. This fix reduces the annual energy output by about 0.5% in the default case.
</li></ul>
<h2>Wind</h2>
<ul>
<li> Added step-by-step wizard to help introduce new users to the wind model
</li><li> Updated the default assumptions for the Define turbine design characteristics blade and tower design options to reflect current technology
</li></ul>
<h2>Solar Water Heating</h2>
<ul>
<li> Uses hourly or subhourly shading losses from the 3D shading calculator rather than month by hour values.
</li></ul>
<h2>PPA Financial Models</h2>
<ul>
<li>Allow PPA price escalation rate to be negative and greater than 100%
</li><li>Fix bug in PPA partnership flip models that caused ITC to be incorrectly allocated to the partners
</li><li>Fix bug in PPA partnership flip models that caused flip year to be incorrectly determined due to invalid IRR values being reported as NaN instead of zero
</li><li>Fix bug with how salvage value is accounted for in the cash flow for PPA financial models
</li><li>Minor revisions of output variable labels
</li></ul>
<h2>Residential and Commercial Financial Models</h2>
<ul>
<li>Minor bug fix in the Download Electric Load macro to handle changes in the OpenEI data format
</li></ul>
<h2>Utility Rates</h2>
<ul>
<li>New electricity metering options to handle a broader range of electricity rate structures, including net metering and feed-in tariffs
</li><li>New maximum usage units for tiers in addition to kWh: kWh/kW, kWh/daily, kWh/kW daily
</li><li>Replace individual inputs and results for energy and demand rate structures with tables to simplify editing and analyzing rate structure data (this version converts data from old .sam files into new format)
</li><li>Revise labels of results variables and add new kWh export variable
</li><li>For electricity rates that combine net metering with time-of-use periods and tiers pro-rate rollover credits to next month's time-of-use periods
</li><li>For electricity rates with net metering and time-of-use periods, apply method for rolling over credits to appropriate periods when the next month has a different time-of-use schedule (assume periods at 12 am, 6 am, 12 pm and 6 pm determine periods to roll over to)
</li><li> Flat rates now modeled as energy charges under a single tier and time of use period
</li><li> Update to new OpenEI Utility Rate Database
</li></ul>
<h2>General</h2>
<ul>
<li> SAM uses the new NREL National Solar Radiation Database (NSRDB) for satellite irradiance data on a 4 km grid (see <a href="http://nsrdb.nrel.gov/">http://nsrdb.nrel.gov</a>).
</li><li> Improved results browser can display matrix data and groups results by category
</li><li> Updated default values to reflect current market conditions, especially in PV and wind
</li><li> New feature to import one or more cases from a .sam file into the currently open file
</li><li> Updated output variable labels for clarity
</li><li> Internet access proxies are automatically detected on Windows
</li><li> User interface scales properly on high DPI laptop and tablet screens on Windows and OSX
</li><li> Scripting language has a new interactive debugger that lets you step through your script line by line
</li><li> Scripts run significantly faster due to new virtual machine architecture
</li><li> Several built-in script functions added or improved (csvread, csvconv, curl, stable_sort, choose_from_list, transp, tempfile)
</li><li> Bug fixes in Combine Cases macro to work with various financial models
</li><li> Real-time syntax checking in script editor does not hang the user interface when editing long scripts
</li><li> Improved rendering for plots when exported in PDF format
</li><li> Bug fixes for horizontal stacked bar plots
</li><li> Bug fix for time stamp shown in results viewer for 1 minute time series data
</li><li> Updated weather file converter script to handle SolarAnywhere data files
</li><li> Bug fix for saving projects with different 3D shading scenes in multiple cases
</li><li> Linux version updated to remove webkitgtk dependency
</li><li> P50/P90 functionality updated to run correctly if file names contain periods
</li></ul>
<h1>Version 2015.6.30 Revision 4 SSC Version 47, October 2015</h1>
<p> This is a maintenance update that fixes several issues:</p>
<ul>
<li>Added access to some international utility tariffs in IURDB
</li><li>Fix for Send-to-Excel export with operation and maintenance variable costs
</li><li>Improvements to PV report template
</li><li>Bug fix for net metering calculations with energy rollover
</li><li>Initialize battery with maximum SOC at start of simulation
</li><li>Added number of battery cycles to output
</li><li>Updates to help documentation
</li></ul>
<p>Revision 4 replaces Revision 3, which had a display issue on some Windows computers.</p>
<h1>Version 2015.6.30 Revision 2 SSC Version 47, August 2015</h1>
<p> This is a maintenance update that fixes several issues:</p>
<ul>
<li>Improved behavior of battery dispatch controller when grid charging and discharging are both selected.</li>
<li>Fix for single point efficiency module model MPP and OC voltages in simulation.</li>
<li>Fixes for 3D diffuse shading calculation.</li>
<li>Fix error when using electric load data with the Lifetime simulation option in the PV model.</li>
<li>Fix in time series viewer for drawing long time series (OSX and Linux).</li>
<li>Fix for default axis scaling for stacked bars, and incorrect stacking of horizontal bar plots.</li>
<li>Added option to enter weather data to pvsamv1/pvwattsv5 as arrays rather than reading file from disk.</li>
<li>Fix for residential/commercial Send-to-Excel with operation and maintenance costs as annual schedules.</li>
<li>Fix for single owner financial model Send-to-Excel with operation and maintenance costs as annual schedules.</li>
<li>Flat rate inputs now available for parametrics.</li>
<li>Clean up of unused input variables in SSC direct steam power tower model.</li>
<li>Fix parametric number of runs to make it editable.</li>
</ul>
<h1>Version 2015.6.30 Revision 1 SSC Version 46, July 2015</h1>
<p> This is a maintenance update that fixes several issues:
</p><ul>
<li>Update CEC module and inverter databases.</li>
<li>Fixed bug in battery storage model that prevented out years replacements for being handled properly.</li>
<li>Fixed bug in solar water heating system collector efficiency calculations.</li>
<li>Revised treatment of salvage value for utility-scale financial models.</li>
<li>Detailed PV model clips array voltage to specified inverter MPPT tracker voltage range.</li>
<li>Fixed bug in PVWatts and IEC 61853 module model that sometimes
overpredicted energy production in high latitude locations with very
high tilt angles.</li>
<li>Enabled reading TMY3 formatted files in which the hour data column is offset by one.</li>
</ul>
<h1>Version 2015.6.30 SSC Version 45, June 2015</h1>
<p> This is a major release that introduces several new models:</p>
<ul>
<li> PV with battery energy storage, including simulation of the whole system lifetime.
</li><li> Third party lease or PPA financing for distributed systems.
</li><li> Simple LCOE calculator based on a fixed charge rate.
</li></ul>
<h2>Photovoltaics</h2>
<ul>
<li> A new battery model for lead-acid and lithium-ion batteries in grid-connected photovoltaic systems with storage. The model accounts for storage capacity, terminal voltage, temperature, and capacity fade.</li>
<li> A detailed manual dispatch controller allows custom tailoring of how battery energy is discharged to meet a building or facility's electric load. We hope to add automated and optimized dispatch controller strategies in future versions of the model.</li>
<li> A new lifetime analysis mode makes it possible to run year-by-year simulations over the analysis period at hourly or sub-hourly (down to one minute) time-steps. This mode is particularly important when analyzing battery systems to properly account for the effect of cycling on battery life and battery replacement costs.</li>
<li> A battery macro which allows quick financial comparison of lifetime costs between a PV system with batteries, a PV system without batteries, and no PV system.</li>
<li> New options to apply degradation to the array's DC output and run simulation over the entire analysis period.</li>
<li>New input for DC power optimizer loss, associated new buttons to overwrite defaults with appropriate losses for central inverters, dc optimizers, and microinverters.</li>
<li>Performance ratio bug fix- performance ratio was being incorrectly calculated using post-shading and post-soiling irradiance. Updated to use pre-shading and pre-soiling irradiance. This will decrease performance ratios slightly in cases where shading or soiling are present.</li>
<li>Added model for predicting energy lost due to snow fall on a PV system. Requires snow depth data in the weather file.</li>
<li>Bug fixes with SunEye and Solar Pathfinder file imports.</li>
<li>Bug fixes in inverter sizing macro.</li>
</ul>
<h2> Power Tower (Molten Salt)</h2>
<ul>
<li>Under some conditions, the model was not tracking tower/receiver startup parasitics. We have fixed this in the current release. The changes result in less than 1% decrease in annual energy production for the default case. The changes may be slightly more significant for less sunny locations.</li>
</ul>
<h2> Wind </h2>
<ul>
<li> Bug fix in cost and scaling model for the power curve of user defined turbines. Will change the answers for user-defined turbines.</li>
<li> Bug fix- was skipping negative x values for wind turbine layout import button.</li>
</ul>
<h2> PPA Financial Models </h2>
<ul>
<li>Improved metrics describing project term debt to make clear the relationship between size of debt and net capital cost.</li>
<li>Enabled single owner cash flow send-to-Excel with equations for debt percentage debt sizing option.</li>
<li>Improved cash flow to show net capital cost calculation.</li>
</ul>
<h2> Residential and Commercial Financial Models </h2>
<ul>
<li> Revised net metering calculations: One bi-directional meter where
sell rates are equal to buy rates except for monthly energy rollover
with year end sell rate. One can expect the renewable system to offset
peak demand and energy charges.
</li><li> Revised non-net metering (gross feed in tariff) calculations:
Two uni-directional meters: a) system to grid where utility buys
renewable system energy at specified sell rate, b) grid to load where
property owner buys electricity at the specified buy rate. One can
expect system specified outputs to be the sum of the two meters and that
 the renewable system will not offset peak demand or energy charges but
will be compensated at the corresponding sell rate.
</li></ul>
<h2> New Financial Models </h2>
<ul>
<li> Third Party Ownership model for a photovoltaic system installed on
residential and commercial property with a third party that owns the
system and sells power to the residential or commercial customer under a
 lease or power purchase agreement.
</li><li> LCOE Calculator uses a simple fixed charge rate method to
calculate the levelized cost of energy for market-level or very
preliminary project analysis.
</li></ul>
<h2> Miscellaneous </h2>
<ul>
<li> Improved rendering speed of time series data viewer for high temporal resolution simulation results.
</li><li> Added searchable script library function help system.
</li><li> Improved syntax error reporting in script editor.
</li><li> Updated scripting language reference manual.
</li><li> Improved search and filter for graph editing and data tables in the results viewer.
</li><li> Bug fixes in several built-in script library functions.
</li><li> If a leap day is included in the weather file, it will be
automatically skipped for purposes of annual simulation assuming 8760
hours in a year.
</li><li> SAM can now read TYA weather files (TMY3 update).
</li><li> Fixed typo in name of Santa Fe weather file.
</li><li> Updated PPA price defaults for all technologies.
</li><li> Renamed adjust.factor to adjust.constant to make it consistent with stored values
</li></ul>
	 <h1>Version 2015.1.30 Revision 1 SSC Version 41, March 2015</h1>
<p>This is a maintenance update to SAM 2015.1.30 that fixes critical
issues with the Molten Salt Linear Fresnel and Physical Trough models
and several other smaller bugs as listed below.</p>
<h2>General</h2>
<ul>
<li>Save files from the Electricity Rates input page uses the Save dialog instead of Open to resolve issue in OS X.</li>
<li>Stochastic simulations work in OS X.</li>
<li>SAM runs on Windows Vista.</li>
<li>Registration window can be resized on computers with small screens to make OK and Cancel buttons visible.</li>
<li>Running a simulation with a custom weather file that has no data generates a simulation message.</li>
<li>Download Electric Load macro does not limit number of downloads.</li>
<li>Santa Fe, NM appears in solar resource library search results (fixed a typo in the location name).</li>
<li>Excel Exchange works with .xlsm files.</li>
</ul>
<h2>Detailed Photovoltaic Model</h2>
<ul>
<li>New CEC inverter and module libraries.</li>
<li>PDF report template displays parameters for modules with
user-defined specifications, radiation values for weather files with no
GHI data, and Vmp value.</li>
<li>System Design page displays a message for Specify System Size option
 with inverters in the library that have no voltage limits to indicate
that auto-sizing algorithm will set modules per string to one.</li>
<li>Inverter sizing macro works for systems without a financial model and reports inverter clipping losses in correct units.</li>
</ul>
<h2>Residential and Commercial Financial Models</h2>
<ul>
<li>Year one sales and purchases value includes demand charges.</li>
<li>Send-to-Excel workbook calculates correct Property Assessed Value.
This issue did not affect the cash flow in the workbook or SAM results.</li>
</ul>
<h2>Concentrating Solar Power Models</h2>
<ul>
<li>Models work with custom solar field and thermal energy storage heat
transfer fluids. (The models will calculate incorrect results with a
custom fluid for both the field and storage. This issue will be resolved
 in the next version of SAM.)</li>
<li>Molten Salt Linear Fresnel correctly calculates thermal energy storage tank diameter.</li>
<li>Molten Salt Linear Fresnel applies correct solar field inlet temperature and calculates freeze protection energy.</li>
<li>Physcial Trough receiver library entry for Royal Tech has correct Variation 1 Annulus Pressure value.</li>
</ul>
<h2>Generic System Model</h2>
<ul>
<li>Make cost input variables available for parametric simulations, and group them properly in variable lists.</li>
</ul>
<h2>Wind</h2>
<ul>
<li>Correct errors in the annual energy calculation for Weibull speed distributions with both user-defined and library turbines.</li>
<li>Wind resource file chooser displays only *.srw files instead of solar resource files.</li>
</ul>
 <h1>Version 2015.1.30 SSC Version 41, January 2015</h1>
 <p>This is a maintenance update to SAM 2014.11.24 that addresses several important bugs and adds new features:</p>
 <ul>
 <li>Fixed bugs in the PPA financial model calculations of levelized cost and levelized PPA price metrics</li>
 <li>Added an option to the PPA financial models with debt (Single Owner and Leveraged Partnership Flip) that makes it
 possible to specify the size of debt as a percent of installed cost with fixed annual payments in addition to the current
 option to size debt with a debt fraction based on cash available for debt service</li>
 <li>Added a Combine Cases macro to model a project that combines a single financial model with two or more performance models</li>
 <li>For the residential and commercial financial model electric load input pages, added an option to scale hourly data to
 monthly utility bill data</li>
 <li>Added support for subhourly simulations for the physical trough model</li>
 <li>Fixed a file association issue that caused SAM to associate the old .zsam file name extension with SAM</li>
 <li>Updated the CEC inverter and physical trough collector libraries</li>
 <li>Updated default values for cost and financial parameters</li>
 </ul>
 <h2>General</h2>
 <p>Updated user documentation</p>
 <p>Updated default PPA prices, internal rate of return, and real discount rate inputs to be more representative of current
 market conditions</p>
 <p>Removed duplicate annual energy outputs</p>
 <p>Fixed bug in which cash flow display was not displaying all years of analysis period</p>
 <p>Fixed bug with rendering of macro list when changing models</p>
 <p>Updated cashflow send-to-excel to handle fuel costs and TOD price factors</p>
 <p>Changed availability and curtailment inputs from factors with values between 0 and 1 to losses with values between 0 and
 100%</p>
 <p>Added a search box to results data table list to filter variables by name</p>
 <p>Fixed a problem with rendering of unicode characters in PDF reports in OS X</p>
 <h2>Residential and Commercial Financial Models</h2>
 <p>Electricity rate search box can now resolve duplicate names for the same utility</p>
 <p>Electricity rate lookup by zip code</p>
 <p>Electricity rates with flat buy and sell rates without net metering now trued up on an hourly basis instead of
 monthly basis</p>
 <p>Updated diurnal demand charge TOU schedule requirement for rates that have only a flat monthly demand charge</p>
 <h2>PPA Financial Models</h2>
 <p>In specify target IRR mode, changed initial guess in PPA price search algorithm to 0 instead of using value of disabled PPA
 price input</p>
 <p>Fixed recapitalization bug</p>
 <p>Improved reporting of invalide results</p>
 <p>Fixed algorithm to correctly handle a target IRR input value of zero</p>
 <h2>Detailed Photovoltaic</h2>
 <p>Bug fix in azimuth x altitude shading table input</p>
 <p>Fixed bugs with module I-V plots on the CEC Performance model with user entered specifications</p>
 <p>Fixed unit conversion bug for temperature coefficients in CEC Performance model with User Entered Specifications</p>
 <p>Total module area on System Design page now updates appropriately</p>
 <p>GCR limit increased to 3 to be consistent with PVWatts</p>
 <h2>Concentrating Solar Power (CSP)</h2>
 <p>Fixed bug in auxiliary gas heater macro</p>
 <p>Generic CSP- updated thermal storage to work with dispatch factors</p>
 <p>Molten salt linear Fresnel: Added option for electric or fossil storage freeze protection</p>
 <p>Fixed bug when thermal energy storage is set to 0</p>
 <p>Fixed problems occuring with user-defined heat transfer fluids</p>
 <p>Updated Linear Fresnel and CSP Tower cost defaults</p>
 <p>Rearranged inputs on Molten Salt Power Tower- Tower and Receiver input page</p>
 <h2>Wind</h2>
 <p>Updated wind defaults to not include the ITC</p>
 <h2>LK Scripting</h2>
 <p>Additional error messages for variable handling in scripts</p>
 <p>Added LK functions for running simulations in parallel within a script</p>
 <p>Added new stepwise regression and Latin Hypercube Sampling LK script functions</p>
 <h1>Version 2014.11.24 SSC Version 40, November 2014</h1>
 <p>This is a major reworking of the SAM software with a completely rebuilt software structure and user interface. This is the first version of SAM to use the SAM Simulation Core (SSC) framework. It adds
 several major new capabilities:</p>
 <ul>
 <li>Completely revamped and significantly simplified user interface</li>
 <li>Updated LCOE and PPA calculations for utility-scale systems</li>
 <li>Simplified financial model options</li>
 <li>Integrated 3D shading calculator for photovoltaic and solar water heating systems</li>
 <li>New CSV-based weather file format and included database of 1600 locations</li>
 <li>Redesigned results browser and parametrics user interface</li>
 <li>Parallel processing for parametric and stochastic simulations</li>
 <li>New scripting engine with a syntax-aware editor and support for user Macros</li>
 <li>Brand new CSP model engine is faster, added a molten salt linear Fresnel CSP model</li>
 <li>Updated to use the latest PVWatts Version 5 algorithms</li>
 <li>Support for the OpenEI Utility Rate Database Version 3</li>
 <li>New building electric load estimator algorithm</li>
 <li>New SAM project file format reduces project sizes (not backwards compatible)</li>
 </ul>
 <p>Numerous other features and bug fixes are included. Free online
registration of your copy of SAM is required using your
 email address when you first start the software. A registration key
is then emailed to you and used to verify registration each
 time you start SAM.</p>
 <h2>Photovoltaic (detailed)</h2>
 <p>New 3D shading calculator will estimate linear beam shading factors based on a 3D scene entered by the user.</p>
 <p>Added support for subhourly simulations (1, 5, 10, 15, 20, 30 minute, and 1 hour)</p>
 <p>Added an inverter sizing macro to give additional information about system sizing by analyzing simulation results.</p>
 <p>Self-shading calculator for large arrays is now enabled for all four PV sub-arrays, and inputs are simplified for easier
 use.</p>
 <p>Reorganized input pages for easier use by separating Array and PV Subarrays pages into System Design, Shading, and Losses
 pages</p>
 <p>Transitioned from derates to losses to be more intuitive and consistent with industry practice</p>
 <p>Self-shading for one-axis tracking systems now uses the same algorithm as self-shading for fixed tilt systems for
 consistency and more accurate self-shading calculation including estimated nonlinear losses</p>
 <p>Changed the calculation method for auto-sized systems to get closer to the desired DC-AC ratio.</p>
 <p>Clipping losses, nighttime tare losses, and inverter power consumption losses now reported correctly. Previous versions
 reported losses for one inverter, not the total number of inverters in the system.</p>
 <p>Added a $/Wdc option for inverter pricing and changed to this unit by default.</p>
 <p>Cost assumptions have been updated to match the latest PV cost data.</p>
 <h2>Photovoltaic (PVWatts)</h2>
 <p>Revised algorithms according to the PVWatts version 5 update, including an updated inverter performance model, self-shading
 or backtracking for 1 axis trackers, module models for standard/premium/thin-film types, updated system loss assumptions.</p>
 <p>Added support for subhourly simulations (1, 5, 10, 15, 20, 30 minute, and 1 hour)</p>
 <p>Cost assumptions have been updated to match the latest PV cost data.</p>
 <h2>High Concentration PV</h2>
 <p>The cell efficiency table is now interpolated based on incident DNI, rather than cell POA.</p>
 <p>Updated the thermal model to use incident DNI rather than cell POA now consistent with the Sandia model.</p>
 <h2>Wind</h2>
 <p>Access to NREL's new WIND Toolkit data through the SAM user interface</p>
 <p>Auto-layout capability for farms by entering a desired farm size</p>
 <p>Turbine spacing in a farm is now entered in units of rotor diameters instead of meters.</p>
 <p>Hub height was not previously accounted for in the air density calculations to compute the power curve when inputting
 turbine parameters and using a Weibull resource distribution</p>
 <p>The air density equation used to compute the power curve when inputting turbine parameters has been updated with more
 accurate constants:</p>
 <p>Siting considerations page has now become a macro</p>
 <p>NREL's new Land-Based Balance of System cost model has been integrated into the user interface</p>
 <p>Default turbine spacing assumptions have changed.</p>
 <p>Cost assumptions have been updated to match the latest wind cost data.</p>
 <h2>Parabolic Trough (Physical)</h2>
 <p>Fixed bracket heat loss calculations to match empirical correlations in the Physical Trough Manual. The result is slightly
 reduced bracket losses.</p>
 <p>Improved the convergence of the first-principles heat loss model.</p>
 <h2>Parabolic Trough (Empirical)</h2>
 <p>Fixed a problem with calculation of the time zone</p>
 <p>Updated user interface with simplified selection of components from the libraries</p>
 <h2>Power Tower Technologies (Molten Salt, Direct Steam)</h2>
 <p>Replaced heliostat field simulation model to better support data formats provided by SolarPILOT and to automate field
 geometry characterization. The new model incorporates layout, flux, and efficiency characterization simulations directly. In
 the previous model, heliostat field optical efficiency was evaluated on a regularly spaced azimuthal/elevation sun position
 grid, and values were interpolated with a simple bilinear algorithm. The new model evaluates efficiency at the same sun
 positions as the flux maps, and efficiency is evaluated using Gauss-Markov estimation, which amounts to linear interpolation
 among irregularly spaced data points.</p>
 <p>Added the ability to specify the number of flux maps used in field characterization. These settings are available on the
 Tower and Receiver technology pages. The user may also specify the resolution of the flux map.</p>
 <p>Previously, the receiver flux distribution was determined during
simulation by choosing the pre-generated flux map closest
 in sun position to the current point. This was updated to allow
interpolation among several nearby flux maps with a weighting
 approach.</p>
 <p>The previous DELSOL3-based field layout and characterization algorithm is replaced with NREL's SolarPILOT software. The new
 approach emphasizes full layout and position-based simulation rather than DELSOL's zonal approach.</p>
 <p>Improved accuracy of heliostat field characterization given x-y position layout. This was poorly supported under DELSOL3,
 but is a point of emphasis with the new SolarPILOT algorithms.</p>
 <p>Added support for heliostat optical parameters, including heliostat canting (individual mirror facets) in the horizontal and
 vertical direction, ideal vs. flat (no) focusing, and options for specifying facet aiming (canting).</p>
 <p>Updated heliostat field optimization algorithms. Please note that documentation is still under development for these
 algorithms. The user may refer to
 <a href="http://ab-initio.mit.edu/wiki/index.php/NLopt_Algorithms">http://ab-initio.mit.edu/wiki/index.php/NLopt_Algorithms</a>
 for an overview of the methods.</p>
 <h2>Power Tower (Molten Salt)</h2>
 <p>Support for automatic re-layout of the heliostat field in parametric or stochastic simulations</p>
 <p>Removed cavity receiver option until model can be integrated with new system level model</p>
 <p>Fixed an error that occurred when the number of receiver panels was less than the number of flux points.</p>
 <p>Updated the user interface to simplify inputs.</p>
 <h2>Power Tower (Direct Steam)</h2>
 <p>Replaced estimated receiver thermal efficiencies in UI with estimated receiver heat loss. The heat loss is typically
 less dependent on flux, so specifying this value allows the thermal efficiency to automatically vary with flux.</p>
 <p>Solar field modeling changes detailed for the Molten Salt Power Tower.</p>
 <p>Automatic optimization of the receiver during simulation runs is still under development and is not yet available. However,
 optimization within the interface on the Solar Field page is available.</p>
 <h2>Molten Salt Technologies (Physical Trough, Power Tower, Linear Fresnel)</h2>
 <p>The field-to-storage HX sizing for the controller previously
specified that the HX duty should be (solar multiple = 1 ) *
 (power block design thermal power). This makes the size adequate if
the field always deploys to the power block first, then
 only balance is sent to storage. This is not desired behavior,
especially for peaker type plants. The HX sizing is now simply
 the solar field design power (solar multiple) * (power block design
thermal power). Additionally, the off-design heat exchanger
 model has been updated to maintain physical performance when the
load is near the design load.</p>
 <h2>Geothermal</h2>
 <p>Removed resource temperature and depth lookup via NREL web service in accordance with a recommendation from NREL geothermal
 technology experts.</p>
 <h2>Solar Water Heating</h2>
 <p>Updated algorithm to use a triple-mode solar water tank model that more accurately models actual system behavior.</p>
 <p>Added support for subhourly simulations (1, 5, 10, 15, 20, 30 minute, and 1 hour)</p>
 <p>Added electric load input option for economic analysis.</p>
 <h2>Residential and Commercial Financial Models</h2>
 <p>Added a new building load estimator for the residential and
commercial financial models that generates an hourly electric
 load profile based on information you provide about the building
size and electric appliances. Requires monthly electric load
 data to scale normalized profile to actual energy usage.</p>
 <p>Removed the Commercial PPA and Independent Power Producer financial models because they were redundant with each other, and
 with the more representative Single Owner model, which is now the only option for modeling PPA projects with a single
 owner.</p>
 <p>Improvements to the utility rate database (URDB) inputs for the residential and commercial financial models and calculations
 to work with Version 3 of the OpenEI database.</p>
 <h2>Utility-scale Models</h2>
 <p>New financial metrics for the Power Purchase Agreement financial models: SAM now reports both the levelized cost of energy
 metric based only on project costs after taxes and incentives but without the developer's return on investment, and the
 levelized PPA price, which accounts for both costs and the developer's return</p>
 <p>Major update to the Send to Excel with Equations feature.</p>
 <h2>Scripting</h2>
 <p>Scripts are no longer embedded in project files.</p>
 <p>Scripting language is the new LK language which is much faster and more powerful.</p>
 <p>New functions in standard library to create and export plots of data, reading/writing CSV files, HTML dialogs, web access
 and geocoding, new graphical user interface commands, Excel automation (Windows only), and direct access to the underlying
 simulation engine (SSC).</p>
 <p>Added a script-based Macro system to support integrated extensions to SAM.</p>
 <h1>Version 2014.1.14 January 2014 (Update)</h1>
 <p>This is a maintenance update to SAM 2013.9.20 that addresses several bugs and other issues It does not add any new
 features.</p>
 <h2>Photovoltaic</h2>
 <p>Fixed a bug for the photovoltaic models with southern hemisphere weather files with the Tilt=Latitude option
 enabled that caused SAM to generate a simulation error message.</p>
 <p>Fixed a bug for the PVWatts system model with 1-axis tracking. The bug caused the model to enable backtracking with a GCR of
 -1. This caused unrealistic results for a few hours of the year, but did not noticeably affect the system's total annual
 output.</p>
 <p>Corrected the Flat Plate PV model's inverter library entry for the Toshiba (TMEIC) 500U. The correct values for the
 voltage and current ratings are: Vdcmax = 600 V, Idcmax = 1600 A, MPPT low = 320 V, and MPPT high = 550 V.</p>
 <p>Updated the CEC inverter library to the January 2014 version.</p>
 <p>Fixed a mistake in the PDF report for photovoltaic models with Commercial PPA, Utility IPP, or Single Owner financing in
 Specify PPA Price mode to show meaningless symbols for the PPA price value. This issue does not affect values that
 appear in the SAM user interface -- it only affects the PDF report.</p>
 <p>Changed the Flat Plate PV default assumption on the Array page
for ground reflectance to not use the albedo value from the
 weather file by default because the albedo values in the standard
weather files tend to be unreliable. By default, SAM uses the
 0.2 value specified in the monthly albedo input table instead of
reading hourly values from the weather file.</p>
 <h2>Concentrating Solar Power</h2>
 <p>Fixed a bug in the energy loss diagram for concentrating solar
power models (CSP) with a large portion of the thermal energy
 to the power block supplied by the fossil backup system that caused
the energy loss diagram to display an incorrect value for
 the System Output to Grid quantity.</p>
 <p>For the linear Fresnel model, fixed an issue with the the collector azimuth angle variable on the Solar Field page being
 disabled with the collector incidence angle table option on the Collector and Receiver page.</p>
 <p>Fixed an issue that caused the power tower model with thermocline storage to report an incorrect warning about the storage
 fluid temperature being outside of its operating range.</p>
 <p>For the physical trough model, fixed some problems that caused simulations to fail for low temperature applications. The
 evacuated tube convergence algorithm could fail to converge when the DNI is zero and the HTF is losing energy to its
 surroundings, and some of the property lookup routines failed when field temperatures fell below zero degrees Celsius.</p>
 <p>For the physical trough and generic solar system concentrating
solar power models Thermal Storage page, fixed the units in
 the thermal storage capacity label. The correct units are MWht, not
MWt. This is a mistake in the user interface label and does
 not affect simulations.</p>
 <p>Fixed a mistake in the Linear Fresnel PDF report that showed aperture area of a single collector instead of the total
 aperture area.</p>
 <p>Updated the TRNSYS source code files.</p>
 <h2>Residential and Commercial Financial Models</h2>
 <p>Fixed a bug for the residential and commercial financial models, that caused SAM to apply the percent of annual
 output factor from the Performance Adjustment page twice.</p>
 <p>For the residential and commercial financial models with net metering, corrected the Sales/Purchases without System value
 for January. (The values for February through December were correct.) This caused the Net Savings with System value in the
 Metrics table to be incorrect.</p>
 <p>For the residential and commercial financial model results, corrected the monthly Energy Rate Charge in [mmm]
 ($) label, and added the missing Year 1 monthly sales/purchases without system ($) variable is missing. The
 label should be Energy Charge in [mmm] ($). </p>
 <p>For the residential and commercial financial models with the
 Normalize supplied load profile to monthly utility bill
 data option on the Electric Load page enabled, SAM used the
original, non-normalized peak load to calculate monthly
 demand charges. With this update, SAM uses the normalized peak load
values to calculate the demand charges. Although the old
 behavior is appropriate with 10- or 15-minute load data when the
magnitude of the normalized data is similar to the original
 data and you want to preserve the original peak values, we decided
to change it because it may be unexpected behavior, and is
 not appropriate when you normalize the load to much higher or lower
magnitudes than the original data.</p>
 <p>Fixed the formula in the cash flow spreadsheets with equations for residential and commercial financial models to correctly
 calculate state ITC amount. The formula in Cell B51 was incorrect.</p>
 <h1>Version 2013.9.20 September 2013</h1>
 <p>This version includes several improvements to photovoltaic
modeling, utility rate and net metering calculations, bug fixes
 to concentrating solar power models, a revised and much faster solar
 water heating model, new wake modeling for wind farms, and
 updated default input values. In addition, this version comes with
several new sample files to demonstrate various SAM
 features, including how to calculate net metering impacts with
different utility rates and electric loads.</p>
 <h2>General</h2>
 <p>Fixed an issue on OS X systems when editing the library and weather file search path.</p>
 <h2>Residential and Commercial Financial Models</h2>
 <p>Updated utility rate inputs to be compatible with Version 2 of the OpenEI Utility Rate Database. For each utility in the
 database, SAM groups rate structures by category to make it easier to find a specific structure.</p>
 <p>Net metering algorithm now carries over monthly credits and applies an optional year end sell rate. (Older versions of SAM
 assumed used hourly accounting for net metering.)</p>
 <p>Renamed hourly and monthly results variables, and removed duplicate and confusing variables.</p>
 <h2>Photovoltaic</h2>
 <p>Added two options to model inverters not in the Sandia inverter database: The datasheet option allows you to
 enter parameters from a manufacturer datasheet. The part load curve option allows you to enter part-load efficiency
 curve that is linearly interpolated across the range of operation.</p>
 <p>For self-shading shading of 1-axis trackers, a new ground coverage ratio input replaces the row width and spacing inputs to
 avoid being able to model systems with inconsistent array layout inputs.</p>
 <p>Added estimation of output reduction due to self-shading of 1 axis trackers using an approximation that calculates geometric
 beam irradiance shading fraction from the GCR and assumes a long row. The diffuse sky and reflected irradiance is also
 reduced based on the view factor reduction to adjacent rows. Note: does not currently model nonlinear impact of electrical
 mismatch losses</p>
 <p>Added additional detail in energy loss diagram to better characterize the source of each loss: irradiance reductions due to
 shading, inverter operation and clipping, and others.</p>
 <p>Improved labeling of results variables.</p>
 <p>Bug fix to backtracking algorithm: The rotation angle limit is now applied correctly for backtracked systems.</p>
 <p>Bug fix in fixed tilt system self-shading code: The diffuse irradiance view factor reduction calculations were modified
 slightly to more accurately characterize the light blocking on the array.</p>
 <p>Added an option in PVWatts to change the mounting configuration of the PV array. The selection of an open rack or
 roof-standoff mounting system adjusts the installed nominal operating cell temperature (INOCT) of the modules in the
 system.</p>
 <h2>Solar Water Heating</h2>
 <p>Replaced the solar water heating performance model with a faster model.</p>
 <h2>Concentrating Solar Power</h2>
 <p>Physical trough, power tower, direct steam tower and linear
Fresnel: Fixed an error in the powerblock startup calculations.
 This is not a problem for simulations where the startup time is less
than the simulation timestep, so the default cases
 (direct steam power tower and linear Fresnel) that use this model
are not affected. Models where the startup time is greater
 than the simulation time may have been underpredicting the required
startup energy.</p>
 <p>Physical trough, power tower, direct steam tower and linear
Fresnel: Corrected an error in the hybrid cooling model that
 decreases annual results using hybrid cooling model between by as
much as 0.5% for the Molten Salt Tower and 1.75% for the
 Physical Trough model. These are worst case differences at small wet
 cooling fractions. Larger wet cooling fractions result in
 smaller differences.</p>
 <p>Dish Stirling: Fixed a significant bug that underestimated
shading losses in the default dish Stirling model. The annual
 energy in the default case decreases by 6.5%. As the spacing between
 modules increases, the difference between the old and new
 codes decreases and eventually disappears.</p>
 <p>Empirical trough and the generic solar system model: the turbine startup energy calculation was not properly deducting
 energy for systems without thermal energy storage and with a large turbine thermal startup requirement. For these cases, the
 error in annual output could be greater than 12% (output went up after the fix), depending on the power block startup energy
 requirement. The impact for the default values in both the GSS and Empirical trough was minimal.</p>
 <p>Generic solar model: the optical efficiency table is accompanied
by a checkbox indicating whether the table should be
 interpolated or should simply return the nearest value. The checkbox
 values were backwards i.e. checking interpolate 
 actually caused the model to return the nearest value, and vice
versa. This bug would be most significant in cases with
 significant optical efficiency variation over small changes in the
angular inputs, or in tables with a small number of values
 that differ substantially from each other. For the default case,
change in annual output was less than 1%.</p>
 <p>The powerblock model for the physical trough and molten salt
power tower models was not correctly accounting for powerblock
 startup times greater than 1 hour (note the default is 0.5). The fix
 will cause annual energy output to decrease for these
 cases. For example, in the molten salt power tower, using the
defaults and changing the powerblock startup time to 1.5 hours
 decreases the annual energy by about 4%. This bug will also affect
custom simulations using timesteps less than the powerblock
 startup time.</p>
 <p>Improved TRNSYS convergence of molten salt power tower during periods when the solar field is off but storage and the
 powerblock are still operating. The default case shows around a 0.2% increase in annual energy, and an elimination of TRNSYS
 convergence errors reported in the log file.</p>
 <p>Improved startup and pumping power calculations in direct steam power tower. Default case annual energy increases around
 0.8%.</p>
 <p>Fixed bug in air cooling model that caused fan parasitics to switch to 0 in some cases where it was operating. The fixed
 version reduces the default power tower models annual energy output around 1%.</p>
 <h2>Wind</h2>
 <p>Created the ability to import a user defined turbine layout for a wind farm.</p>
 <p>Added the ability to model wind wake effects using the Eddy-Viscosity model.</p>
 <p>Added the ability to model wind wake effects using the Park model.</p>
 <p>Worked with Mistaya Inc to develop the capability for Windographer software to export data in SAM's .srw wind resource file
 format.</p>
 <p>Increased the maximum number of turbines that can be analyzed in a wind farm from 250 to 300.</p>
 <p>Added a capability to display information about siting considerations for a particular location. SAM communicates with the
 NREL Wind Prospector online tool to obtain the information.</p>
 <h2>Geothermal</h2>
 <p>Fixed a bug where certain calculation were not updated during parametric runs.</p>
 <p>Fixed a bug that caused SAM to calculate the temperature drop for an EGS resource incorrectly.</p>
 <h1>Version 2013.1.15 January 2013 (Update)</h1>
 <p>SAM 2013.1.15 is a maintenance update that addresses a few issues with the previous version. For a full description of new
 features in this version, see the SAM 2012.11.30 description below.</p>
 <h2>General</h2>
 <p>Fixed an issue that caused SAM to stop responding when viewing SRW wind data files with invalid format.</p>
 <p>Updated Performance Adjustment variable group names so they appear correctly in lists of variables (parametrics, etc.).</p>
 <p>Resized boxes on input pages to fit notes in orange font.</p>
 <p>Fixed an issue with the advanced utility IPP financial models that prevented the model from converging when the LCOE was
 very small.</p>
 <p>Fixed an issue with the cash flow Send to Excel feature that that caused percentages to be incorrectly displayed in Excel,
 and caused inaccurate escalation rate calculations.</p>
 <p>Disable Excel Exchange by default.</p>
 <p>Fixed a problem with TOU adjustment rates issues with net metering and load.</p>
 <p>Made the utility rate database window resizable and added scrollbars to make it easier to see long names and
 descriptions.</p>
 <p>Fixed a problem with cash flow graphs in reports for the advanced utility IPP financial models that caused multiple bars to
 appear on the graph.</p>
 <p>Fixed a problem with the weather data reader so that it correctly exports data headings.</p>
 <p>Fixed a problem with the Save with Hourly Options result that prevented SAM for saving data with unusual numbers of values
 (e.g., 200 values for statistical simulation).</p>
 <p>SAM now prompts you for a folder to save reports, and uses the .zsam file location by default instead of automatically
 saving it in the user folder without any feedback.</p>
 <h2>SamUL</h2>
 <p>PtOptimize() script function returns true/false depending on whether solar field optimization was successful.</p>
 <p>Added PtGetOutput() script function to return all messages from running PTGen via PtOptimize()</p>
 <h2>Photovoltaic</h2>
 <p>Flat plate PV did not read shading inputs for Subarray 1.</p>
 <p>Flat plate PV azimuth angle value did not import correctly from files saved with older.</p>
 <p>Updated report templates for PV systems to correct formatting and logic issues.</p>
 <p>Flat plate model now correctly imports azimuth angle value from files saved with SAM 2011.12.2.</p>
 <p>Fixed HCPV system costs page icon in navigation menu.</p>
 <p>Fixed tab order on photovoltaic input pages.</p>
 <p>Removed parentheses in photovoltaic model results labels so they appear correctly in the time series data viewer.</p>
 <h2>Concentrating Solar Power</h2>
 <p>Update TRNSYS source code files for all CSP models</p>
 <p>Fixed a problem with the empirical trough model when the solar field stow angle was 180 degrees.</p>
 <p>Fixed bug that results in Empirical trough model annual output error of 4%.</p>
 <p>Improved input variable labels on Solar Field page for exact area and actual aperture. </p>
 <p>Fixed issue with empirical trough model solar field initial temperature. This had a very small impact on the system's
 total annual output.</p>
 <h2>Wind</h2>
 <p>Fixed a problem for the wind cost model that caused values to be zero.</p>
 <p>Corrected the wind PTC default value.</p>
 <p>Added a limitation of 300 turbines to the total number of turbines in a system with an error message when more turbines are
 entered into the farm layout.</p>
 <h2>Geothermal</h2>
 <p>Fixed a problem with energy values shown in the Geothermal report.</p>
 <h2>Biopower</h2>
 <p>Fixed a problem with the energy loss diagram that caused labels to overlap.</p>
 <h1>Version 2012.11.30 November 2012</h1>
 <p>This version includes several improvements to the existing
performance models and enhancements to the user interface. The
 new solar wizard makes it easier to get started using SAM to model
solar projects. This version also includes a new energy loss
 diagram, new report templates, and an option to export cash flow
data to Excel with formulas.</p>
 <h2>General</h2>
 <p>Automatically download tax credit and incentive data for United States locations from the online Database of State
 Incentives for Renewable Energy (DSIRE).</p>
 <p>SAM Solar Wizard steps you through the minimum number of inputs to set up a basic analysis for a photovoltaic (PVWatts),
 parabolic trough (Empirical Trough), or solar water heating system.</p>
 <p>Loss diagrams for all performance models except wind and geothermal show where energy losses occur in the system.</p>
 <p>Export cash flow tables to Excel with formulas for the residential, commercial, commercial PPA, and utility IPP financial
 models.</p>
 <p>Expanded list of retail electricity rate structures available for download from the NREL OpenEI utility rate database.</p>
 <p>Improved Performance Adjustment page (replaces Annual Performance page) to model curtailment, degradation, availability, and
 other operating losses with new hour-by-month factors.</p>
 <p>New report templates.</p>
 <p>Reorganize navigation menu and input page to make input variables easier to find.</p>
 <p>Remove graph sliders and optimization analysis options because the Parametric Analysis option is a better and more
 transparent way to show variation of results over a range of inputs.</p>
 <p>Change the default value of some input variables to better match current market conditions, including changing the default
 analysis period from 30 years to 25 years.</p>
 <h2>PVWatts System Model</h2>
 <p>Bug fix: When Force tilt=latitude is enabled, surface tilt is now calculated as the absolute value of the location
 latitude to ensure that for locations in the southern hemisphere, the tilt value is positive. (SAM requires all array tilt
 values to be positive.)</p>
 <p>Bug fix: PVWatts will generates an error message if it reaches an invalid data line in the weather file. Previously, PVWatts
 may have continued through the file using unpredictable values as input.</p>
 <h2>Flat Plate PV Component Models</h2>
 <p>Enhancement: SAM has been upgraded to allow specifying up to four subarrays with different orientation, shading, and soiling
 inputs. The subarrays are assumed to have the same number of modules per string, and are wired in parallel connected to the
 single inverter.</p>
 <p>Enhancement: Relative air mass is reported as an hourly output.</p>
 <p>Enhancement: System performance ratio (factor) is calculated in a consistent manner between flat plat and CPV systems. See
 documentation for more details. The calculation method does not change the results.</p>
 <p>Enhancement: DC and AC derate factors are specified as fractions, not percentages. This makes the derate convention
 consistent with PVWatts. SAM automatically updates values in files created with older versions with percentage values.</p>
 <p>Bug fix: The single point efficiency (SPE) inverter occasionally produced nameplate power with zero incident irradiance. An
 example is shown in the plot below, for a 4 kW SPE inverter.</p>
 <p>In the default residential PV system with a 4 kW SPE inverter, this fix reduces the annual AC kWh by approximately 1.8
 %.</p>
 <p>Bug fix: The Sandia PV module model did not correctly use the
database-specified temperature coefficients. The temperature
 coefficients used were A = -3.56, B=-0.075, dT=3 when the Use
database values option was selected in the user interface. For
 the default utility scale system in SAM, the fix increases the
annual output using the default Sandia module by approximately
 0.3 %.</p>
 <p>Bug fix: The Sandia PV module model now reports the module temperature as the ambient temperature under zero irradiance
 conditions. The previous version of SAM reported 0 deg C under some zero irradiance conditions. This does not change the
 results.</p>
 <p>Bug fix: Night-time inverter parasitic power is now correctly deducted from the total energy. This reduces SAM's annual AC
 power production by approximately 0.03 %, using the utility scale default system as a reference.</p>
 <p>Updated module and inverter databases.</p>
 <h2>High-X Concentrating PV System Model</h2>
 <p>Revision: Tracker power is now specified as a fraction of nameplate capacity. As a result, tracker parasitic power by
 default scales with system size. Project files from old versions of SAM are upgraded accordingly.</p>
 <p>Updated inverter database.</p>
 <h2>Concentrating Solar Power Models (CSP)</h2>
 <p>Updated HTF fluid library.</p>
 <p>Bug fix: The molten salt power tower now allows the user to locate a heliostat on the x axis.</p>
 <p>The runner and header heat loss calculations in the physical trough model were modified. The reported losses should
 approximately double for the default case. The net electric energy output will decrease around .1 - .2% for most cases. For
 systems with a larger number of field subsections, the effect will be slightly more significant.</p>
 <p>Therminol 66 and 59 are now available as heat transfer fluids for the trough models. Rough guidelines for temperature
 limits of all HTFs are provided in the user interface.</p>
 <p>The absolute pipe roughness in the external molten salt and direct steam tower models was changed from 1.5E-5 to 4.5E-5 m.
 This change results in a high pumping parasitic, but in regards to net energy is largely offset by an increased thermal
 efficiency caused by improved convective heat transfer coefficients.</p>
 <p>The flux map DELSOL returns for the external molten salt and direct steam receiver now reports normalized values that
 indicate for each node 1-12 the fraction of the total power incident on the receiver that is absorbed. This revised metric
 corrects for a mismatch between the DELSOL reported field efficiency and the efficiency that can be calculated from the flux
 map output.</p>
 <h2>Wind</h2>
 <p>A new Turbine input page with an option to either choose a turbine power curve from a library of commercially available
 turbines, or to specify a turbine's performance characteristics (coefficient of power, tip-speed ratio, etc.)</p>
 <p>Location Lookup now accesses the NREL Eastern Wind Integration Dataset in addition to the Western dataset.</p>
 <p>Added a set of representative wind data files for typical resource and terrain types in the United States.</p>
 <p>Improved the wind data file format to make it easier to edit with spreadsheet software and changed the wind data file
 extension from .swrf to .srw.</p>
 <p>The Wind System Costs page has a new option to estimate costs for onshore and offshore wind projects using the NREL Capital
 Cost model.</p>
 <p>New hour-by-month performance adjustment inputs to facilitate modeling operating losses due to curtailment and maintenance
 downtime.</p>
 <h2>Biopower</h2>
 <p>The Feedstock page now provides access to the U.S. Billion Ton Update study for dedicated energy crops in addition to the
 agricultural residue database.</p>
 <p>A new life-cycle emissions model estimates greenhouse gas emissions of biomass collection, transport, pre-processing,
 combustion, and CO2 re-uptake.</p>
 <h2>Geothermal Power</h2>
 <p>Added the ability to estimate plant costs for binary geothermal units.</p>
 <h1>Version 2012.5.11 May 2012</h1>
 <p>For SAM 2012.5.11, we added one new performance model, made
several improvements to algorithms to decrease simulation run
 times, and made the usual bug fixes, usability improvements, and
documentation revisions. We re-wrote the flat plate PV
 simulation engine to reduce computational overhead and remove the
dependence on the TRNSYS engine. The new code runs nearly 10
 times faster than previous versions of SAM. This will reduce the
time required for parametric and other analyses that require
 multiple simulations. The new High-X Concentrating Photovoltaic
(HCPV) model is a new performance model that replaces the CPV
 option on the Module page. The new model includes CPV-specific
derate factors, an estimate of spectral effects, and is
 structured to allow us to improve the model as new data and
algorithms for CPV systems becomes available. We have created a
 set of new report templates for PV, wind, biopower, and geothermal
systems that show a summary of key inputs and results in a
 PDF document.</p>
 <h2>Photovoltaic Models</h2>
 <p>Improved simulation engine for faster simulations. (see Summary above for details)</p>
 <p>Remove CPV model option from Module page, and replaced it with a new High-X Concentrating PV (HCPV) performance model. The
 new HCPV model includes CPV-specific derates, and air mass correction to simulate spectral effects.</p>
 <p>Rename Component-based PV model to Flat Plate PV model.</p>
 <p>Change azimuth angle convention for Flat Plate PV model to be consistent with PVWatts convention: 0=N, 90=E, 180=S, 270=W.
 If you use SAM 2012.5.11 to open a file you last saved in a previous version, SAM correctly converts the azimuth value for
 northern hemisphere locations only. For southern hemisphere locations, you should change the azimuth value yourself.</p>
 <p>Improve sun position calculations for Flat Plate PV model. This causes a small difference in the Flat Plate PV system output
 due to more accurate sun position calculation (ref comparison of TRNSYS to PVWatts sunpos calculation - PDF report from
 U.Wisc)</p>
 <p>Improved Flat Plate PV Backtracking algorithm. Simplified inputs significantly, improved runtime, results show better
 comparison with other tools (PVsyst)</p>
 <p>For the Flat Plate PV, CEC Performance Model with User Entered Specifications module model option, allow temperature
 coefficients to be entered either in A/degC, V/degC, or %/degC.</p>
 <h2>General</h2>
 <p>Improved usability of P50/P90 simulation option. Report P50/P90 values for all results shown in the Metricsd table on the
 Results page.</p>
 <p>Developed new report templates for PV, biopower, wind, and geothermal systems.</p>
 <p>Improved web update system to add automatic notification when software updates are available.</p>
 <p>Added Library() function in SamUL to query library types and entry names. One application of the function is to
 run through different modules in one of the PV module libraries.</p>
 <h2>Biomass Power</h2>
 <p>Some Input pages rearranged and streamlined for clarity.</p>
 <p>Changed Emissions Comparison page to Life-Cycle Impacts page.
 The new page allows users to see the emission effects of
 transportation fuel, transportation mode, and pre-processing method.
 The overall greenhouse gas emissions results are displayed
 graphically, broken into general categories such as transportation,
collection, combustion, and biomass uptake. This page does
 not affect the performance or cost model in any way. It is purely
informational.</p>
 <p>Removed the option to specify biomass power plant capacity. This option was confusing to users, since intuitively, this
 option would back-calculate the amount of biomass used to achieve a plant of the specified size and the corresponding
 collection radius. The back-calculation of feedstock radius is not a current capability of SAM Biopower.</p>
 <h2>Concentrating Solar Power (CSP) Models</h2>
 <p>Fixed stow angle bug in empirical trough model. Should not affect results unless stow angles were set to an angle much less
 than 180 .</p>
 <p>Thermal storage tank heater efficiency was not being applied to tank heater parasitic losses. This should have minimal
 impact on results for most cases because tank heater is typically not frequently used and default heater efficiency is
 0.99.</p>
 <p>Fixed thermal storage tank freeze protection calculations. Impact on annual performance results should be negligible.</p>
 <p>Optical efficiency did not include cosine effects. Modified version will significantly change optical efficiency results.
 Annual energy is not affected.</p>
 <p>Fix field defocus calculation for physical trough and molten salt power tower models. Impact on gross and net annual energy
 is negligible. May have larger impact (~5%) on the energy from the field in some cases.</p>
 <p>Fix bug in empirical trough model that allowed storage to over-discharge under some conditions. Impact on annual energy
 should be negligible.</p>
 <p>Fix bug in freeze protection calculations for the physical trough model. Impact should be negligible for systems with low
 freeze protection loads. Systems with higher freeze protection loads may see a noticeable decrease in required freeze
 protection energy.</p>
 <h2>Wind</h2>
 <p>Consolidate small-scale and large-scale wind models into a single Wind Power model that uses the swrf wind data format and
 files from the Western Wind Dataset.</p>
 <h1>Version 2011.12.2 December 2011 (Update)</h1>
 <p>SAM 2011.12.2 is a maintenance update that addresses a few issues with the previous version including:</p>
 <h2>General</h2>
 <p>Error when opening zsam files by double-clicking the file name</p>
 <p>Issue with power tower models in Mac version.</p>
 <p>Handling of PV soiling derating factors when opening files created in older versions.</p>
 <p>For a full description of new features in this version, see the SAM 2011.11.29 description below.</p>
 <h1>Version 2011.11.29 November 2011</h1>
 <p>SAM 2011.11.29 adds three new technologies and several tools and capabilities, in addition to bug fixes, usability
 improvements, and documentation revisions (see below for detailed descriptions):</p>
 <h2>New technologies</h2>
 <p>CSP Linear Fresnel</p>
 <p>CSP Direct Steam Power Tower</p>
 <p>Biomass Power</p>
 <h2>New capabilities</h2>
 <p>Model PV modules with spec sheet data</p>
 <p>Monthly soiling derates for PV systems</p>
 <p>P50/P90 analysis</p>
 <p>Model a generic system using hourly or sub-hourly generation profile as input</p>
 <h2>New tools</h2>
 <p>Integrated time series data viewer</p>
 <p>Report Generator</p>
 <p>Case Compare</p>
 <h2>Photovoltaic Component-based</h2>
 <p>Ground Reflectance (albedo): Removed ground reflectance with snow
 input (albedo w/ snow) from the Array page. If the weather
 file contains valid albedo values between 0 and 1, they are in the
simulation. Otherwise, the single ground reflectance value
 from the Array page is used. When comparing results from the current
 version with older versions of SAM, for locations that
 experience snowfall, a weather file format that includes snow depth,
 (Boulder CO.tm2 for example), and the default ground
 reflectance inputs, the annual output predicted by the current
version will be typically slightly lower than the output
 predicted by older versions. Older versions of SAM predicted higher
system output during snow cover periods by assuming that
 all PV panels would be cleared of snow, and that the more reflective
 ground would reflect more diffuse radiation onto the
 panels. The current version does not make this assumption for the PV
 component based models, but rather limits the input to a
 single average ground reflectance input.</p>
 <p>Tilted Surface Irradiation Models: Removed the Hay and Davies, and Perez 1988 diffuse irradiation models options from the 
 Array page. This change simplifies the user interface while keeping
the Isotropic, HDKR, and Perez 1990 models available.If you
 open a SAM file created with an older version of SAM and using the
old Hay and Davies option, SAM will change the setting to
 the HDKR option in the new version . Similarly, the Perez 1988
option from the old version upgrades to the Perez 1990 option in
 the new version. The HDKR model typically will predict slightly
higher diffuse irradiation on a tilted surface than the Hay
 and Davies model because of its treatment of additional diffuse
irradiation components. The Perez 1990 model is based on
 coefficients extracted from a larger input dataset than the Perez
1988 model.</p>
 <p>Irradiance Component Input Option: Removed the option on the
Array page for using total (global) horizontal and diffuse
 components of irradiation. The current options are total and beam,
and beam and diffuse. By default, SAM uses beam and diffuse
 from the weather file. There should be no difference in results
between the current version and older versions for weather file
 with self-consistent irradiance values. This change simplifies the
user interface while still providing sufficient options for
 nearly all modeling needs.</p>
 <p>Soiling: Added an option for entering monthly soiling derates.
The derate is applied equally to all components of the
 calculated plane-of-array (POA) irradiance before the DC module
power is calculated. This is different from previous versions
 of SAM, in which the soiling derate was applied to the DC output of
the module. The new approach is more consistent with real
 systems, where soiling blocks irradiance before reaching the module,
 which both reduces POA irradiance and affects cell
 operating temperature. The approach in the new version tends to
slightly reduce the system's annual output compared to the
 approach in older versions, assuming a constant soiling derate for
all months.</p>
 <p>Shading: Added an option to import Solar Pathfinder Month x Hour or Obstruction table shading input files.</p>
 <p>PV Module Model: Added a CEC Performance Model with User Entered Specifications option on the Module page. This model
 allows the user to enter module datasheet specifications directly into SAM, which calculates coefficients to drive the CEC
 performance model. The coefficients are calculated using a method detailed in the SAM help system.</p>
 <p>PV Databases: The CEC PV Module, Sandia Module, and Sandia Inverter databases were updated to the latest available
 versions.</p>
 <p>Monthly Soiling Derates: The PV Component-based model includes an option to specify 12 monthly values for the soiling derate
 factor on the Array page.</p>
 <p>Backtracking: The backtracking option in SAM was temporarily removed for this version because the SAM team did not have
 confidence that it was working correctly in all configurations. We are developing an updated algorithm and expect it to be
 faster and easier to use for future versions of SAM.</p>
 <h2>Photovoltaic PVWatts</h2>
 <p>Cell Temperature: PVWatts in SAM now reports cell temperature as equal to ambient temperature (dry bulb) when the sun is
 down. Previous versions reported 999 during non-solar hours. This change has no impact on results.</p>
 <p>Handling of Snow Depth: PVWatts in SAM now uses the snow depth
data in a TMY2 weather file (if available) to adjust the
 ground reflectance (albedo) from 0.2 (no snow) to 0.6 (with snow
cover). This change makes the results match the online PVWatts
 V.1 exactly for TMY2 files. When comparing results with previous
versions of SAM, for locations with measured snow cover, this
 change will typically increase the annual output from a system
because snow cover hours will reflect more diffuse irradiance
 from the ground surface onto the panels. This assumes that panels
are always cleared of snow.</p>
 <h2>Physical Trough System</h2>
 <p>Improved the iterative solution algorithm for solar field mass
flow rate. The previous release used the
 successive-substitution method for determining convergence of the
HTF mass flow rate in the solar field. While generally
 successful, this method is prone to error in situations where the
initial guess values do not closely resemble the final
 converged solution. This release uses the hybrid false-position 
iterative method which has proved to be significantly more
 robust and stable than the previous method in solving for the solar
field mass flow rate. The modified solver algorithm also
 allowed us to place thermal inertia and heat loss calculations
inside of the primary iteration loop, thus improving the
 accuracy of the solar field calculations and reducing solver time.
Potential impacts include: This is the most significant
 modification to the solar field algorithm in this release. The more
accurate solver ensures energy/mass/temperature balance in
 a wider range of operating conditions, and thus impacts the annual
and hourly energy production. The net impact was shown to
 slightly reduce annual energy output and have a varying effect on
individual time step calculations.</p>
 <p>Adjusted the design-point mass flow rate in the solar field to
more correctly calculate the absorbed thermal energy and
 thermal losses from the loop at design. This change slightly
increases the thermal performance of the solar field according to
 the design-point calculations, thus setting the design mass flow
rate to a higher value. Potential impacts include: Defocusing
 of the solar field caused by mass flow exceeding its maximum limit
will occur less frequently. The design-point mass flow rate
 is also used to size the piping and header diameters. This change
leads to potentially slightly larger diameter piping,
 increasing the thermal inertia of the modeled plant, increasing the
piping thermal losses, and decreasing the pumping parasitic
 through the headers.</p>
 <p>Updated pipe diameter sizing algorithm to correctly handle systems where the number of SCAs in the loop is 1 or 2 (8 is the
 default value). Potential impacts include: Addresses a bug causing the simulation to crash in this scenario.</p>
 <p>Correction to header piping length calculation. Potential impacts include: The piping length was calculated to be
 artificially low. This fix correctly calculates the header length, thus impacting the thermal inertia of the solar field and
 piping thermal heat losses. The net effect of this changed was observed to decrease the annual energy production for the
 default system.</p>
 <p>Added an algorithm to the solar field model that avoids recalculating the solar field during multiple iterations if the
 inputs to the module do not change. Potential impacts include: Improved simulation speed, no changes to performance
 calculations are anticipated.</p>
 <p>Correction to the calculation of optical efficiency during the
first and last hour of the day in which the solar field
 operates. Potential impacts include: This fix applies only to
simulations with sub-hourly time steps. During this type of
 simulation, thermal energy produced during the first and last time
step of solar field operation is reduced slightly, depending
 on the time step duration.</p>
 <p>Optical end loss (light reflected at an angle off the end of
the last collector in a row that is not absorbed) was
 previously applied as an average optical loss to each collector in
the loop. The code was updated to apply this loss to only
 the relevant collectors in the loop. Potential impacts include:
Total solar field optical efficiency is unchanged, though the
 energy absorbed by each collector will be distributed slightly
differently. This slightly impacts thermal losses from the
 receivers, but is likely unnoticeable in annual simulation results.</p>
 <p>Improved the solar field freeze protection algorithm. The
previous release assumed that freeze protection would be applied
 locally in the calculations for the solar field to maintain the HTF
at the desired freeze-protection temperature. In other
 words, the freeze protection was (unrealistically) injected into
any given calculation node in the solar field that fell
 below the minimum temperature. The model was updated to a predictive
 algorithm that applies fossil backup to heat the HTF at
 the inlet of the solar field to a sufficient temperature such that
the HTF exiting the loop matches the desired freeze
 protection temperature. This more accurately captures thermal losses
 in the circulating fluid and the required energy
 contribution from the auxiliary fossil boiler. Potential impacts
include: Improved accuracy in freeze protection calculations,
 including thermal losses and fossil energy requirement.</p>
 <p>Updated pressure loss calculation in the hot and cold headers to scale more accurately with mass flow rate. Potential
 impacts include: Reduced pumping parasitic requirement at part-load operation.</p>
 <p>Improved evacuated tube receiver thermal loss model to account for the temperature gradient across the SCA instead of
 calculating the thermal losses at an average temperature only. Potential impacts include: Improved accuracy in thermal loss
 calculations for the solar field receivers.</p>
 <p>Removed the minimum power cycle restart requirement. The functionality of this value was compromised by the turbine startup
 time requirement and the turbine startup energy requirement, and thus is no longer necessary. Potential impacts include:
 None</p>
 <p>Corrected a bug in the thermal storage system that allowed a negative mass in the tank under some conditions. This caused
 the simulation to crash. Potential impacts include: No performance impacts. Reduced likelihood of simulation crash in some
 situations.</p>
 <p>Corrected the calculation for thermal load into the power block
during standby mode operation. The previous release
 underestimated the thermal requirement to maintain standby
operation. Potential impacts include: Increased thermal requirement
 during standby operation (if applicable). Impact is expected to be
minimal for most cases.</p>
 <p>Improved steam property lookup accuracy. Potential impacts include: Improved convergence of steam property calls and
 calculation of steam-related values such as heat rejection evaporative loss and power cycle water blowdown loss.</p>
 <h2>Power Tower System</h2>
 <p>Implemented a bug fix for calculating heliostat efficiency at
negative solar azimuth angles. The previous release used the
 heliostat field component from the TRNSYS STEC library to
interpolate solar field efficiency from a matrix defined by solar
 azimuth and zenith angles which artificially limited the solar
azimuth angle to zero. The TRNSYS definition for solar azimuth
 angles applies a range of -180 deg to +180 deg (North to North,
clockwise), thus the solar field efficiency was incorrectly
 interpolated at an azimuth angle of 0 deg for all solar azimuth angles
less than zero (morning hours). Potential impacts include:
 Solar field optical efficiency was over-estimated for most systems
during morning hours, resulting in an annual over-estimate
 of approximately 3% for the default external receiver system and 5%
for the default cavity-north system. This is the most
 significant modification in the tower models for this release.</p>
 <p>Added outputs to report HTF pressure drop across the receiver. Potential impacts include: The user is now able to review the
 HTF pressure drop, including gravity and frictional head loss.</p>
 <p>Removed the minimum power cycle restart requirement. The functionality of this value was compromised by the turbine startup
 time requirement and the turbine startup energy requirement, and thus is no longer necessary. Potential impacts include:
 None</p>
 <p>Corrected a bug in the thermal storage system that allowed a negative mass in the tank under some conditions. This caused
 the simulation to crash. Potential impacts include: No performance impacts. Reduced likelihood of simulation crash in some
 situations.</p>
 <p>Corrected the calculation for thermal load into the power block
during standby mode operation. The previous release
 underestimated the thermal requirement to maintain standby
operation. Potential impacts include: Increased thermal requirement
 during standby operation (if applicable). Impact is expected to be
minimal for most cases.</p>
 <p>Improved steam property lookup accuracy. Potential impacts include: Improved convergence of steam property calls and
 calculation of steam-related values such as heat rejection evaporative loss and power cycle water blowdown loss.</p>
 <h2>Generic Solar System</h2>
 <p>Updated the optical table interpolation algorithm to allow simultaneous interpolation of multiple tables. This change was
 made to support the Linear Fresnel system, which also uses the algorithm developed within the GSS model. Potential impacts
 include: No performance impacts are expected.</p>
 <p>Improved performance calculations to determine the design-point
solar field optical efficiency based on the actual solar
 zenith at solar noon on the summer solstice. This allows the model
to choose a more representative design-point mass flow rate.
 Potential impacts include: Minimal changes to the annual energy
production.</p>
 <h2>Generic System</h2>
 <p>SAM's Generic System model now allows you to provide either hourly generation data or sub-hourly data with up to
 one-minute resolution as input, which makes it possible to use results from an external performance model with SAM's
 financial models.</p>
 <h2>Solar Water Heating</h2>
 <p>Collector Specification: Updated simulator to correctly use number of collectors specified by user. Also made collector
 database on user interface searchable.</p>
 <p>Draw Profile: Added option to scale hourly draw profile to an average daily hot water draw of kg/day.</p>
 <h2>Geothermal Power</h2>
 <p>Removed some unnecessary inputs, and updated default values.</p>
 <p>Allow pump work as input.</p>
 <p>Added the power block component, which to allow for modeling of a geothermal system using SAM's power block
 component.</p>
 <h2>Biomass Power</h2>
 <p>The utility-scale biopower model was developed by the SAM team with internal funding from NREL. The model accesses online
 NREL databases of biomass resource to model a biopower plant.</p>
 <h2>Tools</h2>
 <p>Integrated time series data viewer. SAM's new Time Series Data
Viewer replaces DView for displaying graphs of time
 series data. The new viewer is integrated into the user interface,
and runs on both Windows and Mac OS versions of SAM. DView
 is still available in SAM via the Results menu.</p>
 <p>Report Generator. The new report generator allows you to design
and generate reports in PDF format with tables of both input
 data and results, along with text, and images. Once you design a
report template, you can use it with different SAM files. This
 should facilitate generating reports for project reports.</p>
 <p>Case Compare. The Case Comparison window shows inputs and results from all of the cases in a file in a single, editable
 table. You can quickly identify differences between cases, and update values of inputs directly from the window.</p>
 <p>Search Box: For inputs that use a list to populate values (weather file, PV modules and inverters), a search box makes it
 possible to type a few characters of the input name.</p>
 <h2>Cost and Financing</h2>
 <p>Land Cost for Solar Systems: The land cost category on the System Costs page for PV and CSP systems is now linked to the
 land area input on the Array or Solar Field page.</p>
 <h2>Weather Files</h2>
 <p>Location lookup allows for choosing specific year or typical DNI year file. Previous versions only downloaded
 the typical year file.</p>
 <h1>Version 2011.6.30 June 2011 (Update)</h1>
 <p>This version includes updated default input values across all technologies and several bug fixes.</p>
 <h2>Financing</h2>
 <p>Reorganize and rename financing options in the Technology and Market window: The Utility Independent Power Producer (IPP)
 option is equivalent to the Utility IPP options in pre-2011.5.4 versions of SAM, and the new utility financing options are
 listed under the Advanced Utility IPP Options heading.</p>
 <p>Removed the mid quarter MACRS depreciation option from the Utility IPP and Commercial PPA options.</p>
 <p>Added a custom depreciation option for the new utility financing options to facilitate analysis of depreciation schedules
 other than those typically available under U.S. tax law.</p>
 <p>Corrected a problem with the units in the Production Tax Credit calculation that affected analyses involving the PTC. SAM
 2011.5.23 and earlier incorrectly overestimated the PTC amount by a factor of 1000.</p>
 <p>Fixed convergence issues in the PPA price calculation algorithm in the Utility IPP and Commercial PPA models when used with
 Wind, Generic, and PVWatts system models.</p>
 <h2>PV</h2>
 <p>Updated CEC PV Module and Updated Sandia PV Inverter databases.</p>
 <p>Corrected a problem with reading Solmetric SunEye shading files.</p>
 <p>For the advanced Multiple Systems simulation option, corrected the PV capacity factor and system performance factor
 calculation.</p>
 <h2>General</h2>
 <p>Updated default input values across all technologies.</p>
 <p>Added PDF export for single graphs.</p>
 <p>Corrected a problem with SAM window placement on a multiple monitor setup.</p>
 <p>Corrected a problem with axis labels in graphs of parametric results that included variable linkages. SAM now displays the
 value of one of the linked variables instead of using long labels that include all variable names and values.</p>
 <p>Added a search box to selection windows such as the Choose Parametrics window. You can now type a few characters of a
 variable name to find it in the list.</p>
 <p>Fixed a problem with the Mac version on some older 32-bit Mac OS systems.</p>
 <h2>Weather Data</h2>
 <p>Improved error checking for weather files, and in the TMY3 weather file creator</p>
 <h2>Power Tower</h2>
 <p>Fixes issue in power tower model and north field calculations.</p>
 <p>Corrected units for DNI in hourly results.</p>
 <h2>Wind</h2>
 <p>Added the No Financials option for the Utility Scale Wind technology option.</p>
 <h1>Version 2011.5.23 May 2011 (Update)</h1>
 <p>This version addresses a problem with the PV operation and maintenance default values and includes some formatting changes to the Help
 system.</p>
 <h1>Version 2011.5.4 May 2011</h1>
 <p>This version adds many new features in addition to fixing bugs in
 existing models. It adds several new utility scale
 financing models that more accurately represent some common
financial structures used for renewable energy projects than SAM's
 original Utility-IPP model. Other improvements include a generic
system model that can accept hourly energy input from other
 models, enhanced temperature correction algorithms for the CEC PV
module model for various mounting options, more detailed
 accounting for PV cost details, a new model for calculating
geothermal co-production in conjunction with an oil or gas well,
 and a utility scale wind model that can directly access a large
database of hourly wind data at various hub heights.</p>
 <h2>General New Features</h2>
 <p>Improved welcome screen with news feed to show updates about upcoming versions, bug fixes, webinars, and other SAM-related
 information</p>
 <p>Additional graphs automatically generated to show cost breakdowns in stacked cost per watt ($/W) and LCOE (cents/kWh) on y
 axis</p>
 <p>New sample file for showing scripting (SamUL) capabilities</p>
 <p>Updated reference manual for scripting (SamUL)</p>
 <h2>Financial Models</h2>
 <p>Added an All Equity Partnership Flip financing structure that
represents a power generation project with a tax investor
 and developer and no debt. You specify a target IRR and year or
target PPA price with the allocation of cash and tax benefits
 to each partner before and after the target year. SAM calculates the
 project PPA price and the NPV and IRR for each
 partner.</p>
 <p>Added a Leveraged Partnership Flip financing structure that
represents a power generation project with a tax investor and
 developer and debt. You specify a target IRR and year or target PPA
price with the allocation of cash and tax benefits to each
 partner before and after the target year. SAM calculates the project
 PPA price and the NPV and IRR for each partner.</p>
 <p>Added a Sale Leaseback financing structure that represents a
power generation project with two partners. The tax investor
 purchases the project from the developer and leases it back to the
developer. The tax investor receives lease payments from the
 developer along with tax benefits and incentives. The developer
keeps any excess cash flow after operating costs and lease
 payments are made. You specify a target IRR and year or target PPA
price and lease terms. SAM calculates the project PPA price
 and the NPV and IRR for each partner.</p>
 <p>Added a Single Owner financing structure that represents a
power generation project with one owner. The owner receives all
 of the cash and tax benefits from the project. The owner may be the
original project developer or a third party investor if the
 developer is unable to use the tax benefits or lacks sufficient
capital to construct the project. You specify debt terms, and a
 target IRR and year or target PPA price. SAM calculates the project
PPA price, IRR and NPV.</p>
 <p>Merged Residential Cash and Residential Loan/Mortgage financing options into single Residential model. To model cash
 financing, set the debt fraction to zero.</p>
 <p>Merged Commercial Cash and Commercial Loan financing options into a single Commercial model. To model cash financing,
 set the debt fraction to zero.</p>
 <p>Renamed Third Party Ownership to Commercial PPA to better reflect calculations. User can now specify either the IRR
 target or the First Year PPA price and solve for the other.</p>
 <p>Merged Utility IPP , Utility Dispatch , and Utility Bid Price options into single Independent Power Producer option
 that handles all three cases. The user can specify the IRR target or the First Year PPA price, along with time-dependent
 valuation factors (dispatch).</p>
 <p>Simplified inputs for tax credits and incentives to remove unnecessary complexity.</p>
 <p>Handling of property tax fixed. Previous versions overemphasized the valuation of property taxes, and an improved method is
 implemented.</p>
 <h2>Weather Data</h2>
 <p>Bug fix for copy/paste into TMY3 creator wizard on Mac OS X</p>
 <h2>Photovoltaics</h2>
 <p>Updated CEC and Sandia module databases to most recent available versions.</p>
 <p>Updated Sandia Inverter database to most recent available version.</p>
 <p>Added detailed thermal modeling of mounting options. Available only with the CEC module model.</p>
 <p>Added an array backtracking algorithm for one axis tracking systems.</p>
 <p>Fixed calculation of nominal DC array output for the CEC module model. Does not affect energy calculations.</p>
 <p>CPV tilt and azimuth inputs now work correctly with the selected tracking mode</p>
 <p>Updated CPV module page with temperature corrections to Pmp, added cell temperature calculation</p>
 <p>Updated curve fit calculations for Sandia inverter input page</p>
 <p>Updated default values for a, b, dT mounting coefficients on Sandia module page</p>
 <p>Fixed tilt=latitude bug for southern hemisphere</p>
 <h2>Solar Water Heating</h2>
 <p>Added a database of SRCC solar thermal collectors.</p>
 <p>Added input for maximum auxiliary power to allow for modeling of larger systems</p>
 <p>Added input for circulation pump power</p>
 <h2>Parabolic Trough (Physical)</h2>
 <p>The solar field inlet HTF temperature calculation was corrected
to better model plant behavior during shutdown. Previously,
 the field inlet temperature remained tied to the power block outlet
temperature when the solar field was not producing power,
 but thermal storage was providing energy for power cycle operation.
This prevented accurate modeling of nighttime solar field
 cool down behavior. Potential impacts include: Observed field
inlet/outlet temperature during nighttime operation for systems
 with thermal storage or auxiliary fossil backup, required solar
field startup energy</p>
 <p>The pipe sizing algorithm was modified to match calculated piping
 diameters to a common piping schedule. The piping schedule
 is now selected based on the minimum available schedule diameter
that exceeds the calculated diameter requirement. Potential
 impacts include: Piping thermal loss, piping pressure drop and
parasitic power requirement, solar field thermal inertia (from
 modified piping HTF volume calculation)</p>
 <p>The field piping thermal inertia term on the Power Cycle page was split into three separate inertia terms and moved to the
 Solar Field page. The new inputs include specific thermal inertia terms for the cold header piping, hot header piping, and
 collector loop piping. Potential impacts include: Solar field transient behavior during startup and shutdown</p>
 <p>The convergence tolerance on the solar field and controller
algorithms was tightened. The former tolerance values proved to
 be insufficient for simulations with sub-hourly time steps.
Potential impacts include: Annual energy output, longer simulation
 time</p>
 <p>An error in the collector loop HTF temperature calculation was corrected. The error related to the fraction of energy
 involved in warming/cooling the HTF during non-steady-state operation. Potential impacts include: Transient behavior during
 startup, shutdown, and rapidly changing DNI levels</p>
 <p>The mass flow rate calculation within the solar field was
improved. Previously, it was possible for the mass flow rate to
 indicate convergence with small remaining convergence error in the
field energy balance. The improved calculation eliminates
 this error. Potential impacts include: Small differences in the
solar field mass flow rate or thermal energy output</p>
 <p>On the Thermal Storage page, an input was added for the Hot tank
heater set point. This allows the tank model to maintain a
 temperature set point for the auxiliary heater for both the cold and
 hot storage tanks separately. Potential impacts include:
 Differences in predicted tank heater parasitics, difference in
thermal energy storage performance throughout the year</p>
 <p>On the Power Cycle page, an input was added for the Minimum power block restart time. This input allows the user to control
 the amount of time that the power cycle will require to resume producing electricity if the cycle trips during daytime
 operation because of low solar resource. Potential impacts include: Annual electricity production, electricity production on
 partially cloudy days</p>
 <p>On the Power Cycle page, an input was added for the Turbine inlet
 pressure control method. This allows the user to select
 the power cycle performance model as either fixed pressure or
floating pressure. Previously, only fixed pressure operation was
 modeled. Potential impacts include: None for fixed pressure mode;
For floating pressure mode - power cycle performance during
 part load operation, power cycle outlet temperature during thermal
storage discharge</p>
 <p>On the Thermal Storage page, an input was added to allow the user
 to select the auxiliary fossil backup dispatch mode.
 Options now include Minimum backup level, and Supplemental
operation. Previously, only the Minimum backup level mode was
 included. The Supplemental operation mode allows fossil backup to
provide thermal energy to the system in addition to thermal
 energy provided by the solar field or TES. The maximum rate of
energy delivery is the fraction of design point power specified
 in the Fossil Fill Fraction inputs under the Thermal Storage
Dispatch Control group, and the total fossil contribution plus the
 energy from the field and TES cannot exceed the corresponding Turbine
 Output Fraction value. Potential impacts include: None for
 Minimum backup level. For supplemental operation modified fossil
backup control</p>
 <p>The solar field defocusing algorithm was modified to more
accurately model field defocusing during over-design operation.
 Modifications improved the model's ability to avoid excessive
defocusing and reduce dumped energy during over-design operation.
 These changes are most prominent in systems where frequent
defocusing is required. Potential impacts include: Annual
 electricity output, solar field performance during over-design
operation, dumped thermal energy, model convergence issues</p>
 <p>The measure for power cycle over-design operation within the
model was changed from total thermal energy input to HTF mass
 flow rate. This change reduces instances of excessive HTF mass flow
rate through the power cycle and more accurately simulates
 real plant operation strategies. Potential impacts include: Observed
 power block HTF mass flow rate, peak electric power
 generation</p>
 <p>The solar field inlet HTF temperature calculation was corrected
to better model plant behavior during shutdown. Previously,
 the field inlet temperature remained tied to the power block outlet
temperature when the solar field was not producing power,
 but thermal storage was providing energy for power cycle operation.
This prevented accurate modeling of nighttime solar field
 cool down behavior. Potential impacts include: Observed field
inlet/outlet temperature during nighttime operation for systems
 with thermal storage or auxiliary fossil backup, required solar
field startup energy</p>
 <p>The field configuration option on the Solar Field page was
modified to allow the user to specify the number of subfields
 rather than the configurations I or H . This change improves the
model's ability to capture the piping performance of a
 wider range of field layouts. Along with this change, internal
piping layout algorithms were updated to accommodate the range
 of subfield selections. Potential impacts include: Piping thermal
loss, piping pressure drop and parasitic power requirement,
 solar field thermal inertia (from modified piping HTF volume
calculation)</p>
 <h2>Parabolic Trough (Empirical)</h2>
 <p>The startup criteria in the plant control algorithm incorrectly
restricted startup to conditions above the power cycle
 dispatch requirement, when startup should have been allowed above
the minimum power block operation level. This problem was
 corrected to represent a more realistic startup procedure. Potential
 impacts include: Small impact on annual energy production,
 small impact on electricity output during morning operation</p>
 <h2>Power Tower</h2>
 <p>The existing control strategy encompassing all plant operation
and dispatch decisions was deemed to be limited in
 flexibility and prone to convergence errors. To improve the tower
model and ensure a common simulation platform for all CSP
 models, the previous control algorithm was replaced by the algorithm
 developed for the Physical Trough model. This switch has
 significant benefits in ensuring the quality of the results over a
wide input variable space, and provides improved results
 especially in simulation cases where solar multiple, thermal storage
 sizing, or auxiliary fossil backup sizing deviate
 significantly from the optimal. This modification applies to both
the external and cavity receiver models. Potential
 impacts include: Improved solar field defocusing control, improved
plant startup behavior, improved thermal storage or
 auxiliary fossil backup dispatch control, increased annual
electricity output especially for systems with no storage</p>
 <p>Added fossil dispatch control scheme option on the Thermal Storage page. Refer to the Physical Trough release notes</p>
 <p>The pumping power requirement for HTF passing through the power
block was previously calculated on a thermal power basis 
 meaning the total thermal power passing through the pump was used to
 calculate an estimated electrical pumping power
 requirement. This calculation was replaced by an estimate on a mass
flow basis, where total pumping power is given in terms of
 kJ per kg of HTF (equivalently kW per kg/s of mass flow). This
change makes the tower model consistent with the pumping power
 convention for the parabolic trough model. Potential impacts
include: Modified parasitic pumping power for HTF through the
 TES/Power Cycle system</p>
 <p>Added sliding pressure operation for the power cycle. Refer to the Physical Trough release notes</p>
 <p>An error in the natural convection thermal loss calculation used the wrong temperature value for the conductivity of air. A
 second error in the calculation used the wrong active area for convection between the tube wall and the HTF. Both were
 corrected and resulted in a minor difference in annual energy production. Potential impacts include: Small difference in
 thermal losses from the external receiver.</p>
 <h2>Wind Systems</h2>
 <p>Addition of utility scale wind model. The SAM team has added a
utility scale wind option for SAM users. The new option uses
 the same algorithm to determine wind farm output (including a simple
 wake analysis), but provides a new list of turbines, new
 financing options, and a new source for wind resource data. The new
wind resource data is more granular in coverage and
 provides for measurements at hub heights more appropriate for
utility scale wind turbines.</p>
 <p>Added several hourly wind resource data files. More can be accessed via the online database connection that is integrated
 into SAM.</p>
 <p>Enhancements to the small scale wind turbine model. The small
scale model has been improved to run more quickly and some
 minor bugs have been addressed. In addition, new turbines have been
added to the Small Scale Wind turbine library, bringing the
 total to 16.</p>
 <h2>Geothermal</h2>
 <p>Addition of geothermal co-produced electricity model. The
Co-Production model in SAM estimates power output from
 co-production resources based on the resource temperature and flow
rate and the power plant model chosen. The power plant model
 calculates the plant net power output based on either the thermal
efficiency or utilization efficiency assumed for the power
 plant.</p>
 <h2>Generic Model</h2>
 <p>Can accept hourly energy production values as input, calculated by an external model.</p>
 <h1>Version 2010.10.8 October 2010</h1>
 <p>This version adds many new features in addition to making
improvements to existing ones. It adds a non-solar technology
 models for small wind and geothermal power systems. It also adds
options for modeling complex utility rate structures for
 residential commercial projects, and time-of-use pricing through the
 use of energy payment allocation factors for utility
 projects. This version allows modeling of two new utility financing
options. For PV systems, this version adds a more
 sophisticated shading model. The Results page has been improved to
make it easier to display and export hourly data, regardless
 of operating system (Windows or Mac), and to display hourly data for
 simulations involving multiple runs such as parametric
 analyses.</p>
 <h2>Major Changes</h2>
 <p>New generic solar system model for concentrating solar power systems that models the solar field using a table of optical
 efficiency values that you specify.</p>
 <p>New geothermal power system model.</p>
 <p>New small scale wind power model.</p>
 <p>Addition of time of dispatch and bid price utility financing models to allow modeling of projects in California under the
 California Public Utilities Commission rules, and to calculate the project internal rate of return when you know the power
 purchase price.</p>
 <p>For PV systems, addition of a more sophisticated array shading model that allows you to import shading data from the PVsyst
 simulation software and SunEye shading analysis tool.</p>
 <p>New utility rate page for complex rate structures for residential and commercial projects that includes time-of-use rates,
 peak demand charges, and tiered rate structures.</p>
 <p>Improved electric load modeling for residential and commercial projects.</p>
 <p>New cavity receiver model for power tower systems.</p>
 <p>Remove electric storage option from photovoltaic model pending improvements.</p>
 <h2>General</h2>
 <p>New hourly data browser on Results page allows viewing and exporting of hourly data tables on both Windows and Mac computers
 (does not require Microsoft Excel) and viewing of hourly results for analyses that involve multiple model runs such as
 parametric analyses.</p>
 <p>Improvements to statistical simulation option to add integrated regression and selection of multiple outputs.</p>
 <p>Better error checking with display of warnings for some simulation issues on Results page (warning message button at top
 right of Results page.)</p>
 <h2>Residential and Commercial Projects</h2>
 <p>An improved utility rate model allows specification of a range of rate structures from simple flat rate with net metering,
 to complex structures with time-of-use rates, demand charges, and tiered rates. The model also allows rate structures to be
 imported from NREL's new rate database hosted on the OpenEI website.</p>
 <p>Financing page includes an input to specify salvage value.</p>
 <h2>Utility Projects</h2>
 <p>New models for utility financing options allowing specification of power purchase price as an input, and use of energy
 payment allocation factors to model time-of-use pricing.</p>
 <p>New inputs on the Financing page for specifying construction interest costs that accrue before the analysis period
 begins.</p>
 <p>Financing page includes an input to specify salvage value.</p>
 <h2>Photovoltaic Systems</h2>
 <p>Array sizing calculator allows you to specify the system DC capacity, and automatically calculates the values for modules
 per string, strings in parallel, and number of inverters on the Array page.</p>
 <p>Improved array shading model allows specification of beam shading factors using a table of 8,760 hourly values, a 24 by 12
 month by hour table, or an azimuth by altitude table. Other options are to import shading data from the PVsyst simulation
 software or the SunEye shading analysis too. Finally the new shading model allows modeling of self-shading within the array
 (without backtracking).</p>
 <p>Detailed derate factors can be specified directly on the Array page.</p>
 <p>Improved error checking to help ensure inverter and array capacities are matched.</p>
 <p>Updated module and inverter databases.</p>
 <p>The electric storage (battery) model has been removed in this version.</p>
 <p>Array page allows specification of the land area as a multiple of the total module area for reference. (Land area is not
 accounted for in cost calculations.)</p>
 <p>New option for using updated Perez model for calculating incident radiation from data in weather file.</p>
 <p>Fixed a problem with the way SAM calculated inverter AC output for hours when the DC input exceeded the inverter
 capacity.</p>
 <p>Removed reference variables for CEC module model.</p>
 <h2>Power Tower Systems</h2>
 <p>Improvement of condenser modeling in power block.</p>
 <p>New cavity receiver model.</p>
 <p>Add hybrid cooling.</p>
 <p>Renaming of input and output variables for clarity.</p>
 <p>Improved modeling of parasitic losses.</p>
 <p>Add storage bypass valve control.</p>
 <p>Receiver maximum flow rate based on HTF properties and maximum over design operation fraction.</p>
 <p>New solar multiple input variable.</p>
 <p>New receiver control variables.</p>
 <p>Added specification of the land area as a multiple of the total module area for reference. (Land area is not accounted for
 in cost calculations.)</p>
 <h2>Parabolic Trough Systems</h2>
 <p>Improvement of condenser modeling in power block. (physical model)</p>
 <p>Added specification of the land area as a multiple of the total module area for reference. (Land area is not accounted for
 in cost calculations.)</p>
 <p>Improved modeling of fossil fuel usage for systems with fossil backup.</p>
 <p>Add hybrid cooling. (physical model)</p>
 <p>Improved heat loss calculation. (empirical model)</p>
 <h2>Generic Solar System</h2>
 <p>Added new model to facilitate modeling of concentrating solar power systems not handled by parabolic trough, power tower,
 and dish-Stirling models. Allows modeling of solar field based on a table of efficiency values.</p>
 <h2>Geothermal Power Systems</h2>
 <p>New model for utility-scale geothermal power generation projects based on the U.S. DOE's GETEM model.</p>
 <h2>Small Scale Wind Systems</h2>
 <p>New model for small wind systems that consist of one or more turbines for residential and commercial projects. Current
 version relies on wind speed data in solar TMY data.</p>
 <h1>Version 2010.4.12 April 2010 (Update)</h1>
 <h2>This update corrects several issues with SAM 2010.3.31.:</h2>
 <p>System summary: Units for the total installed cost per capacity were incorrect for photovoltaic, solar water heating, and
 generic systems.</p>
 <p>Financing: Projects with commercial or utility financing and an analysis period less than the depreciation period caused
 simulations to fail. (This was also true for previous versions.)</p>
 <p>Incentives: Production-based incentives (PBI), production tax credits (PTC), and investment tax credits (ITC) were
 incorrectly calculated.</p>
 <p>Photovoltaic systems: The annual energy production was incorrect for systems with bipolar inverters from the Sandia inverter
 database.
 <br>Solar water heating: System energy savings were incorrectly calculated.</p>
 <p>Parabolic trough (physical): Receiver heat loss calculation was incorrect for receivers with lost vacuum or hydrogen
 leakage.</p>
 <p>Power tower: Water usage was incorrectly reported, values of the solar field delivered energy and power block input energy
 were incorrectly reported in the hourly results worksheet, and default values of some input variables were incorrect.</p>
 <p>Parabolic trough and power tower: Power block capacity-based costs were incorrectly calculated based on the net capacity
 instead of the gross capacity.</p>
 <h2>The update includes the following improvements:</h2>
 <p>Several new functions and improvements to the SamUL scripting language, including the ability to run scripts from the
 command line.</p>
 <p>Revised user documentation.</p>
 <h1>Version 2010.3.31 March 2010</h1>
 <p>This version adds a solar water heating model and a new parabolic
 trough model to Solar Advisor, improves the display of
 graphs on the results page, and adds capabilities to the statistical
 analysis simulation option. It also includes interface
 improvements to the photovoltaic module and inverter pages, improves
 modeling of temperature effects on module performance, and
 includes the latest module and inverter databases from the CEC and
Sandia. Finally, this version adds a weather data download
 feature for U.S. locations, and a function to create weather files
in TMY3 format.</p>
 <h2>General New Features</h2>
 <p>New solar water heating model for residential systems.</p>
 <p>Tax credits and incentives can be defined as annual schedules.</p>
 <p>Add levelized cost of energy (LCOE) with and without incentives.</p>
 <p>New functions in SamUL</p>
 <p>Graph thumbnails on Results page.</p>
 <p>Input window for loads (photovoltaic, solar water heating) adds options for specifying load data: Daily profiles by month,
 cut and paste from clipboard.</p>
 <h2>Weather Data</h2>
 <p>Location lookup option automatically downloads NREL Solar Prospector weather data for U.S. locations using an address or
 latitude and longitude.</p>
 <p>TMY3 creator facilitates creating custom weather files.</p>
 <h2>PV</h2>
 <p>Simple load and storage models added to all photovoltaic models. Was only available in PVWatts model in previous
 versions.</p>
 <p>Revised default rating conditions for concentrating photovoltaic (CPV) model. This will affect capacity-based calculations
 including LCOE when the module cost is specified in $/W.</p>
 <p>Temperature correction added to concentrating photovoltaic (CPV) model, and improved in simple efficiency and Sandia models
 to include more options for specifying mounting options.</p>
 <p>Improved layout of Module page for CEC and Sandia model. Display I-V curve and other changes.</p>
 <p>Improved layout of Inverter page. Display inverter efficiency curves and rename input variables.</p>
 <p>Azimuth tracking option added to photovoltaic models.</p>
 <p>New hourly output data columns added to hourly outputs.</p>
 <p>Corrected system performance factor calculation for systems with shading.</p>
 <h2>Parabolic Trough</h2>
 <p>New physical model for parabolic trough systems. Original trough model renamed empirical trough model. Both
 trough models are available in the current version.</p>
 <h2>Power Tower</h2>
 <p>New field land area variables on Heliostat Field page.</p>
 <p>Variables on input pages reorganized.</p>
 <h2>Generic Fossil</h2>
 <p>Allow generic fossil input variables to be parametric variables.</p>
 <h1>Version 2009.10.2 October 2009</h1>
 <h2>General New Features</h2>
 <p>Significantly faster model runs and smaller project file sizes.</p>
 <p>Both Windows and Mac OS X-Intel versions are available.</p>
 <p>A SCIF file importer for opening files saved with previous versions of SAM.</p>
 <p>A new graphs page can display up to four graphs simultaneously and has new controls for creating and modifying graphs.</p>
 <p>Tornado-chart type analysis is built-in as a specific Sensitivity analysis.</p>
 <p>Optimization allows you to maximize or minimize a metric with respect to inputs.</p>
 <p>Multiple sub-systems allows you to model systems made up of two or more subsystems.
 <br>Weather model reads TMY3, EPW, and TMY2 files.</p>
 <p>Scripting and batch-mode capabilities with Excel and other programming languages.</p>
 <h2>PV</h2>
 <p>Update CEC module database (10/2)</p>
 <p>Simple Efficiency Model allows for multiple radiation level/efficiency pairs (Flat Plate and CPV)</p>
 <p>Incorporated PVWatts model</p>
 <h2>Dish-Stirling</h2>
 <p>No updates.</p>
 <h2>Parabolic Trough</h2>
 <p>Update HCE library.</p>
 <p>Improvements to thermal storage dispatch strategies.</p>
 <p>Can accept custom HTF fluids using a table-lookup mechanism.</p>
 <h2>Power Tower</h2>
 <p>Improved heliostat layout mechanism and optimization wizard.</p>
 <p>Can accept custom HTF fluids using a table-lookup mechanism.</p>
 <h1>Version 3.0 June 2009</h1>
 <h2>New Features</h2>
 <p>Power tower model.</p>
 <h2>PV</h2>
 <p>Simple array shading model.</p>
 <p>Add energy flow graph to standard graphs on Results page.</p>
 <p>Update Sandia inverter database.</p>
 <p>Update CEC module database.</p>
 <h2>Dish-Stirling</h2>
 <p>No updates.</p>
 <h2>Parabolic Trough</h2>
 <p>Update HCE library.</p>
 <p>Tracking of backup boiler fuel cost in cash flow and cost of energy calculations.</p>
 <p>Improve calculation of backup boiler fuel usage.</p>
 <h2>General</h2>
 <p>Updated help system and user guide, including topics for power tower model.</p>
 <h2>Minor changes</h2>
 <p>Update and rename sample files.</p>
 <p>Improvements to user-defined variable implementation.</p>
 <p>For cases using Excel optimization (utility financing model), Excel file runs in background by default.</p>
 <p>Improve handing of SCIF files.</p>
 <p>Show incentive tax details by default on Incentives page.</p>
 <p>General improvements to speed up run times.</p>
 <h1>Version 2.5 November 2008</h1>
 <h2>New Features</h2>
 <p>Parabolic dish-Stirling engine model.</p>
 <p>Time-of-use utility rates.</p>
 <p>User documentation available as both context-sensitive Help and PDF file.</p>
 <p>Automated optimization of power purchase agreement (PPA) price escalation rate and load fraction for projects with IPP and
 Utility financing.</p>
 <h2>PV</h2>
 <p>Revise inverter and array sizes in sample file.</p>
 <p>Update Sandia inverter database.</p>
 <p>Update CEC module database.</p>
 <p>Change module and inverter database format to Excel from MDB.</p>
 <p>Display voltage and capacity variables on array page to facilitate inverter and array sizing.</p>
 <h2>Dish-Stirling</h2>
 <p>Add dish-Stirling sample file.</p>
 <p>Implement dish-Stirling model.</p>
 <h2>Parabolic Trough</h2>
 <p>Remove unused variables from user interface: number of receivers per SCA, HTF flow control, HTF night flow control, and
 turbine start-up time.</p>
 <p>Rename time-of-use variables to time-of-dispatch and move them from Utility page to Storage
 page.</p>
 <h2>General</h2>
 <p>Remove Utility - IOU option from list of financing types on Financials page, and rename Utility - IPP option to
 IPP and Utility .</p>
 <p>Improve graphing options.</p>
 <p>Change utility rate units from cents/kWh to $/kWh.</p>
 <p>Add Excel-based optimization of PPA escalation rate and debt fraction for IPP and Utility financing.</p>
 <p>Improve installation on Windows Vista.</p>
 <p>Improve sliders interface.</p>
 <h2>Minor changes</h2>
 <p>Fix time format issue with parabolic trough time of dispatch schedule.</p>
 <p>Improve file compression to minimize file size.</p>
 <p>Allow long variable names in parametric analyses.</p>
 <p>Revise WACC calculation.</p>
 <p>Read all significant digits from linked spreadsheets.</p>
 <h1>Version 2.0 June 2008</h1>
 <h2>PV</h2>
 <p>Implement new inverter performance model: Sandia Performance Model for Grid-connected PV Inverters</p>
 <p>Removed previous curve-fit inverter model</p>
 <p>Implement new photovoltaic module performance model: California Energy Commission Performance Model.</p>
 <p>Update Sandia PV Array Performance Model with additional modules. (Was King Model in previous versions.)</p>
 <h2>CSP</h2>
 <p>Implement dry cooling capability for CSP systems.</p>
 <p>Add new Solel UVAC3 HCE to CSP model library.</p>
 <h2>General</h2>
 <p>Add generic technology option: The simple heat-rate model allows comparisons between solar technologies and conventional
 fuel-based technologies in all markets.</p>
 <p>Add Third Party Ownership option to commercial projects.</p>
 <p>Allow operation and maintenance costs and annual degradation rates to be entered on a year-by-year basis.</p>
 <p>Add new results workbook that stores complete set of calculated metrics, hourly data, monthly averages, and annual averages
 to facilitate reviewing results in Excel.</p>
 <p>Improve display of results page: Move results button to bottom of navigation menu; replace single button with three, Results
 Summary, Spreadsheet, and Time Series Graph; implement new Run Analysis button to replace results pending status.
 Also add new Results menu.</p>
 <p>Replace LCOE stacked bar graph with stacked cost graph to correct error in LCOE cost breakdown under certain conditions.</p>
 <p>Add several new standard graphs, including monthly output, monthly inverter efficiency (PV only), and energy flow (CSP
 only).</p>
 <p>Add new graphs that are available when one or more Independent parametric groups are defined.</p>
 <p>Create new compressed file format (SCIF) that stores only inputs in small files for easier file sharing. Cases can be
 imported and exported from SAM files in the SCIF format.</p>
 <h2>Minor changes</h2>
 <p>Minor bug fixes</p>
 <p>Reduce required disk storage space by deleting workbooks and other files from temporary folder when closing SAM.</p>
 <p>Add transformer derate category to Array page for PV systems.</p>
 <p>Display weighted average cost of capital (WACC) on Financials page.</p>
 <p>Improve internal rate of return (IRR) calculation for utility and third party ownership projects.</p>
 <p>New Fixed (per year) operation and maintenance category.</p>
 <p>New folder (Samples\Financial_Spreadsheets) contains sample workbooks illustrating Solar Advisor financial calculations.
 Workbooks are also posted on the Solar Advisor website.</p>
 <p>Solar Advisor opens with an empty window instead of automatically opening previous file.</p>
 <p>Add close file button to menu bar.</p>
 <h1>Version 1.3 October 16, 2007</h1>
 <h2>General</h2>
 <p>Add capability to use EnergyPlus Weather file format (EPW) files for weather data.</p>
 <p>Add capability to add weather files to the collection of built-in files.</p>
 <p>Add weather data viewing tools, links to weather data web sites, and Help button to the Climate page.</p>
 <p>Add ground reflectance with snow input variable to Array page for PV systems. SAM Applies the snow ground reflectance value
 during hours that the weather data indicates there is snow on the ground.</p>
 <p>Fix a bug in the inverter model for low part-load operation.</p>
 <p>Add waterfall graph capability in DView on Results page for CSP systems.</p>
 <p>Update user guide.</p>
 <p>Improve overall performance of model.</p>
 <h2>Other changes</h2>
 <p>Add start up mode settings (File, Settings) and change tab names in Settings window.</p>
 <p>Add help button to Climate page that opens a help page describing weather file options.</p>
 <p>Improve search algorithm that finds a solution for systems using utility financing.</p>
 <p>Improve calculation of number of TRNSYS runs displayed in information message.</p>
 <p>Change hourly output buttons on Results page for CSP systems.</p>
 <p>Improve handling of files created by different versions of SAM.</p>
 <p>Improve automatic graph scaling.</p>
 <p>Improve message for users attempting to run SAM when the Windows language setting is not English.</p>
 <p>Improve automatic scale on sliders.</p>
 <p>Improve file navigation for File, Open and File, Save As commands.</p>
 <h1>Version 1.1 August 10, 2007</h1>
 <h2>General</h2>
 <p>Photovoltaics Array: Add detailed derate factors.</p>
 <p>Results: Add Slider column to results summary table that displays output measures based on the position of visible
 sliders.</p>
 <h2>Results</h2>
 <p>Change the units of ITC and IBI incentives that appear with sliders and in graphs from % Max to %.</p>
 <p>Improve the functioning of the Notes box.</p>
 <p>For utility systems with IOU financing, remove first year PPA from the results summary table.</p>
 <p>For utility IPP financing, improve the LCOE calculation algorithm.</p>
 <h2>Incentives</h2>
 <p>Cursor changes to an hourglass while resetting default market values.</p>
 <p>Correct default settings for tax details to show that for residential systems, all utility incentives are taxable, and that
 utility incentives do not reduce the ITC basis.</p>
 <h2>Photovoltaics Array</h2>
 <p>Changed default total derate factor in sample files to 84% to match PVWATTS.</p>
 <h2>Costs</h2>
 <p>Correct the way the sales tax rate and module cost per unit values are displayed.</p>
 <h2>Parametrics</h2>
 <p>Fixed a bug related to incentives.</p>
 <p>Fixed a bug related user-defined variables.</p>
 <h2>External Spreadsheets</h2>
 <p>Improved handling of missing workbooks.</p>
 <p>Fixed a bug related to working with external spreadsheets.</p>
 <h2>Menus</h2>
 <p>Add the Release notes command to Help menu to display a list of version numbers and the new features and fixes associated
 with each version number.</p>
 <p>Reorganize the list of commands on the Case menu.</p>



</body></html>
