ETES System Design
864
921
17
Numeric

1
17
Name
5
5
P_ref
X
3
687
Y
3
114
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
1
Numeric

1
17
Name
5
14
T_htf_cold_des
X
3
219
Y
3
186
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
6
Numeric

1
17
Name
5
13
T_htf_hot_des
X
3
219
Y
3
162
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Numeric

1
17
Name
5
10
design_eff
X
3
687
Y
3
162
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
4
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
11
heater_mult
X
3
219
Y
3
114
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4
Numeric

1
17
Name
5
9
nameplate
X
3
687
Y
3
138
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Image

1
8
Name
5
9
object 12
X
3
9
Y
3
300
Width
3
850
Height
3
607
Tool Tip
5
0
Image
7
ETES System Design_object 12.png
Centered
2
1
Divider

1
10
Name
5
9
object 21
X
3
12
Y
3
213
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
15
Thermal Storage
Bold
2
1
Divider

1
10
Name
5
11
object 2120
X
3
444
Y
3
96
Width
3
405
Height
3
22
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
11
Power Cycle
Bold
2
1
Divider

1
10
Name
5
11
object 2121
X
3
12
Y
3
96
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
6
Heater
Bold
2
1
GroupBox

1
8
Name
5
8
object 4
X
3
6
Y
3
294
Width
3
855
Height
3
618
Tool Tip
5
0
Caption
5
0
Bold
2
1
GroupBox

1
8
Name
5
9
object 42
X
3
6
Y
3
12
Width
3
855
Height
3
276
Tool Tip
5
0
Caption
5
23
Design Point Parameters
Bold
2
1
Label

1
13
Name
5
8
object 7
X
3
18
Y
3
30
Width
3
831
Height
3
66
Tool Tip
5
0
Caption
5
256
The design point parameters determine the nominal ratings of each part of the power tower system. After specifying the design point parameters here, you can specify details of each component of the system on the Thermal Storage and Power Cycle input pages.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Numeric

1
17
Name
5
16
q_dot_heater_des
X
3
219
Y
3
138
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
11
q_pb_design
X
3
687
Y
3
186
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
7
tshours
X
3
219
Y
3
231
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
7
Numeric

1
17
Name
5
14
tshours_heater
X
3
219
Y
3
255
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
7

51
E_heater_su_des
3
1
Heater startup energy
MWt-hr
ETES System Design
0
8
1
1
1
1
-999
Default
PB_m_dot_htf_cycle_des
3
1
Cycle design HTF mass flow rate
kg/s
ETES System Design
0
8
1
1
1
1
-999
Default
P_ref
3
1
Cycle power (not including cooling parasitics)
MWe
ETES System Design
0
2
1
1
1
1
110
Default
Q_dot_HTF_ND_des_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
Q_tes
3
1
TES thermal capacity
MWt-hr
ETES System Design
0
8
1
1
1
1
-999
Default
T_amb_high_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
T_amb_low_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
T_amb_ref_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
T_htf_cold_des
3
1
HTF cold temperature
°C
ETES System Design
0
2
1
1
1
1
290
Default
T_htf_high_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
T_htf_hot_des
3
1
HTF hot temperature
°C
ETES System Design
0
2
1
1
1
1
574
Default
T_htf_low_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
T_htf_ref_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
W_dot_cooling_ND_des_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
W_dot_gross_ND_des_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
W_dot_heater_des
3
1
 
 
 
0
8
1
1
1
1
-999
Default
cb_bop_cost_calc
3
1
Balance of plant cost total
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_contingency_cost_calc
3
1
Contingency cost
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_cycle_cost_calc
3
1
Power cycle cost total
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_direct_subtotal
3
1
Direct capital cost subtotal
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_epc_cost_calc
3
1
EPC and owner cost total
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_heater_cost_calc
3
1
Total heater cost
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_installed_per_capacity_cost_calc
3
1
Estimated total installed cost per capacity
 
ETES System Design
0
8
1
1
1
1
-999
Default
cb_land_cost_calc
3
1
Land cost total
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_sales_tax_cost_calc
3
1
Sales tax total
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_storage_cost_calc
3
1
Thermal energy storage cost total
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_total_direct_cost
3
1
Total direct cost
$
ETES System Design
0
8
1
1
1
1
-999
Default
cb_total_indirect_cost
3
1
Total indirect cost
$
ETES System Design
0
8
1
1
1
1
-999
Default
design_eff
3
1
Cycle thermal efficiency
 
ETES System Design
0
2
1
1
1
1
0.45
Default
etes_bop_des_calc
3
1
BOP
MWe
ETES System Design
0
8
1
1
1
1
-999
Default
etes_financial_model
3
1
 
 
ETES System Design
0
8
1
1
1
1
0
Default
heater_mult
3
1
Heater multiple
 
ETES System Design
0
2
1
1
1
1
1.9
Default
m_dot_htf_ND_high_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
m_dot_htf_ND_low_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
m_dot_htf_ND_ref_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
m_dot_water_ND_des_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
n_T_amb_pars_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
n_T_htf_pars_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
n_m_dot_pars_sysdes
3
1
 
 
 
0
8
1
1
1
1
-999
Default
nameplate
3
1
Estimated plant output at design (nameplate)
MWe
ETES System Design
0
8
1
1
1
1
-999
Default
q_dot_heater_des
3
1
Heater thermal power
MWt
ETES System Design
0
8
1
1
1
1
-999
Default
q_dot_tes_est
3
1
Estimated tes heat loss
MWt
ETES System Design
0
8
1
1
1
1
-999
Default
q_pb_design
3
1
Cycle thermal power
MWt
ETES System Design
0
8
1
1
1
1
-999
Default
system_capacity
3
1
 
 
ETES System Design
0
8
1
1
1
1
-999
Default
tes_avail_vol
3
1
Available TES HTF volume
m³
ETES System Design
0
8
1
1
1
1
-999
Default
tes_htf_density
3
1
HTF density
kg/m³
ETES System Design
0
8
1
1
1
1
-999
Default
tes_tank_diameter
3
1
Tank diameter
m
ETES System Design
0
8
1
1
1
1
-999
Default
tes_vol_total
3
1
Total TES HTF Volume
m³
ETES System Design
0
8
1
1
1
1
-999
Default
total_installed_cost
3
1
Total installed cost
$
ETES System Design
0
8
1
1
1
1
-999
Default
tshours
3
1
Full load hours of storage
hours
ETES System Design
0
2
1
1
1
1
6
Default
tshours_heater
3
1
Heater hours of storage
hours
ETES System Design
0
8
1
1
1
1
-999
Default

6128
equations{ 'etes_financial_model' } = define(){
	if(financing() == "Single Owner"){
		return 1;
	}
	else if(financing() == "Merchant Plant"){
		return 6;
	}
};


equations{ '$MIMO$ ui_etes_system_design__etes_cmod' } = define()
{
	obj = ssc_create();

	//#ssc_auto_exec(obj, 'etes_electric_resistance', 2);

	if(financing() == "Single Owner"){
	ssc_var(obj, "ppa_multiplier_model", ${ppa_multiplier_model});         
	ssc_var(obj, "dispatch_factors_ts", ${dispatch_factors_ts});
	ssc_var(obj, "dispatch_sched_weekday", ${dispatch_sched_weekday});
	ssc_var(obj, "dispatch_sched_weekend", ${dispatch_sched_weekend});
	ssc_var(obj, "dispatch_factor1", ${dispatch_factor1});
	ssc_var(obj, "dispatch_factor2", ${dispatch_factor2});
	ssc_var(obj, "dispatch_factor3", ${dispatch_factor3});
	ssc_var(obj, "dispatch_factor4", ${dispatch_factor4});
	ssc_var(obj, "dispatch_factor5", ${dispatch_factor5});
	ssc_var(obj, "dispatch_factor6", ${dispatch_factor6});
	ssc_var(obj, "dispatch_factor7", ${dispatch_factor7});
	ssc_var(obj, "dispatch_factor8", ${dispatch_factor8});
	ssc_var(obj, "dispatch_factor9", ${dispatch_factor9}); 
	}

	if(financing() == "Merchant Plant"){
	ssc_var(obj, "mp_energy_market_revenue",${mp_energy_market_revenue});
	}

/* Not in UI but in compute module use UIHINT=SIMULATION_PARMETER 
//	ssc_var(obj, "disp_steps_per_hour",${disp_steps_per_hour});
//	ssc_var(obj, "disp_spec_bb",${disp_spec_bb});
//	ssc_var(obj, "disp_reporting",${disp_reporting});
//	ssc_var(obj, "disp_spec_presolve",${disp_spec_presolve});
//	ssc_var(obj, "disp_spec_scaling",${disp_spec_scaling});
*/
	ret = ssc_exec(obj, 'etes_electric_resistance');

	//ret_d = ssc_dump(obj, 'etes_system_des_mimo_ssc_auto_exec.txt');

	if(ret==0) {
		${nameplate} = ssc_var(obj, "nameplate");
		${system_capacity} = ssc_var(obj, "system_capacity");
		${q_pb_design} = ssc_var(obj, "q_pb_design");
		${q_dot_heater_des} = ssc_var(obj, "q_dot_heater_design");
		${tshours_heater} = ssc_var(obj, "tshours_heater");
		${W_dot_heater_des} = ssc_var(obj, "W_dot_heater_des");
		${E_heater_su_des} = ssc_var(obj, "E_heater_su_des");
		${etes_bop_des_calc} = ssc_var(obj, "W_dot_bop_design");
		${PB_m_dot_htf_cycle_des} = ssc_var(obj, "m_dot_htf_cycle_des");
		${cb_heater_cost_calc} = ssc_var(obj, "heater_cost_calc");
		${cb_storage_cost_calc} = ssc_var(obj, "tes_cost_calc");
		${cb_bop_cost_calc} = ssc_var(obj, "bop_cost_calc");
		${cb_cycle_cost_calc} = ssc_var(obj, "cycle_cost_calc");
		${cb_direct_subtotal} = ssc_var(obj, "direct_subtotal_cost_calc");
		${cb_contingency_cost_calc} = ssc_var(obj, "contingency_cost_calc");
		${cb_total_direct_cost} = ssc_var(obj, "total_direct_cost_calc");
		${cb_epc_cost_calc} = ssc_var(obj, "epc_cost_calc");
		${cb_land_cost_calc} = ssc_var(obj, "land_cost_calc");
		${cb_sales_tax_cost_calc} = ssc_var(obj, "sales_tax_cost_calc");
		${cb_total_indirect_cost} = ssc_var(obj, "total_indirect_cost_calc");
		${total_installed_cost} = ssc_var(obj, "total_installed_cost");		
		${cb_installed_per_capacity_cost_calc} = ssc_var(obj, "installed_per_cap_cost_calc");
			
			// UDPC
		${n_T_htf_pars_sysdes}= ssc_var(obj, "n_T_htf_pars_calc"); 
		${n_T_amb_pars_sysdes}= ssc_var(obj, "n_T_amb_pars_calc");      
		${n_m_dot_pars_sysdes}= ssc_var(obj, "n_m_dot_pars_calc");      
		${T_htf_ref_sysdes}= ssc_var(obj, "T_htf_ref_calc");         
		${T_htf_low_sysdes}= ssc_var(obj, "T_htf_low_calc");         
		${T_htf_high_sysdes}= ssc_var(obj, "T_htf_high_calc");        
		${T_amb_ref_sysdes}= ssc_var(obj, "T_amb_ref_calc");         
		${T_amb_low_sysdes}= ssc_var(obj, "T_amb_low_calc");         
		${T_amb_high_sysdes}= ssc_var(obj, "T_amb_high_calc");        
		${m_dot_htf_ND_ref_sysdes}= ssc_var(obj, "m_dot_htf_ND_ref_calc");  
		${m_dot_htf_ND_low_sysdes}= ssc_var(obj, "m_dot_htf_ND_low_calc");  
		${m_dot_htf_ND_high_sysdes}= ssc_var(obj, "m_dot_htf_ND_high_calc"); 
		${W_dot_gross_ND_des_sysdes}= ssc_var(obj, "W_dot_gross_ND_des_calc");
		${Q_dot_HTF_ND_des_sysdes}= ssc_var(obj, "Q_dot_HTF_ND_des_calc");  
		${W_dot_cooling_ND_des_sysdes}= ssc_var(obj, "W_dot_cooling_ND_des_calc");
		${m_dot_water_ND_des_sysdes}= ssc_var(obj, "m_dot_water_ND_des_calc");					
			
			// TES page
		${Q_tes} = ssc_var(obj, "Q_tes_des");
		${tes_avail_vol} = ssc_var(obj, "V_tes_htf_avail");
		${tes_vol_total} = ssc_var(obj, "V_tes_htf_total");
		${tes_tank_diameter} = ssc_var(obj, "d_tank_tes");
		${q_dot_tes_est} = ssc_var(obj, "q_dot_loss_tes_des");
		${tes_htf_density} = ssc_var(obj, "dens_store_htf_at_T_ave");
	}
	else {
		vf = -789;
		${nameplate} = vf;
		${system_capacity} = vf;
		${q_pb_design} = vf;
		${q_dot_heater_des} = vf;
		${tshours_heater} = vf;
		${W_dot_heater_des} = vf;
		${E_heater_su_des} = vf;
		${etes_bop_des_calc} = vf;
		${PB_m_dot_htf_cycle_des} = vf;
		${cb_heater_cost_calc} = vf;
		${cb_storage_cost_calc} = vf;
		${cb_bop_cost_calc} = vf;
		${cb_cycle_cost_calc} = vf;
		${cb_direct_subtotal} = vf;
		${cb_contingency_cost_calc} = vf;
		${cb_total_direct_cost} = vf;
		${cb_epc_cost_calc} = vf;
		${cb_land_cost_calc} = vf;
		${cb_sales_tax_cost_calc} = vf;
		${cb_total_indirect_cost} = vf;		
		${total_installed_cost} = vf;
		${cb_installed_per_capacity_cost_calc} = vf;
			
		fail = -789;
			//UDPC
	    ${n_T_htf_pars_sysdes}= fail;
		${n_T_amb_pars_sysdes}= fail;
		${n_m_dot_pars_sysdes}= fail;
		${T_htf_ref_sysdes}= fail;
		${T_htf_low_sysdes}= fail;
		${T_htf_high_sysdes}= fail;
		${T_amb_ref_sysdes}= fail;
		${T_amb_low_sysdes}= fail;
		${T_amb_high_sysdes}= fail;
		${m_dot_htf_ND_ref_sysdes}= fail; 
		${m_dot_htf_ND_low_sysdes}= fail;
		${m_dot_htf_ND_high_sysdes}=fail;
		${W_dot_gross_ND_des_sysdes}= fail;
		${Q_dot_HTF_ND_des_sysdes}= fail;
		${W_dot_cooling_ND_des_sysdes}=fail;
		${m_dot_water_ND_des_sysdes}= fail;
			
			// TES page
		${Q_tes} = vf;
		${tes_avail_vol} = vf;
		${tes_vol_total} = vf;
		${tes_tank_diameter} = vf;
		${q_dot_tes_est} = vf;
		${tes_htf_density} = vf;
	}
	
	ssc_free( obj );
};

0
