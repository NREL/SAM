Financial Debt DSCR or Debt Fraction
866
346
17
GroupBox

1
8
Name
5
9
GroupBox1
X
3
6
Y
3
6
Width
3
850
Height
3
332
Tool Tip
5
0
Caption
5
17
Project Term Debt
Bold
2
1
Label

1
13
Name
5
6
Label1
X
3
306
Y
3
72
Width
3
545
Height
3
65
Tool Tip
5
0
Caption
5
183
Choose "Debt percent" to size the debt manually as a percentage of total installed cost. Choose "DSCR" to size the debt based on cash available for debt service. See Help for details.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Numeric

1
17
Name
5
17
cost_debt_closing
X
3
138
Y
3
144
Width
3
100
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4
Numeric

1
17
Name
5
13
cost_debt_fee
X
3
138
Y
3
171
Width
3
100
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Label

1
13
Name
5
12
debt_message
X
3
18
Y
3
297
Width
3
833
Height
3
39
Tool Tip
5
0
Caption
5
0
TextColour
4
255
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
RadioChoice

1
11
Name
5
11
debt_option
X
3
30
Y
3
27
Width
3
126
Height
3
48
Tool Tip
5
0
Selection
3
0
Items
6
2
Debt percent
DSCR
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
4294967295
Numeric

1
17
Name
5
12
debt_percent
X
3
159
Y
3
27
Width
3
60
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
1
Numeric

1
17
Name
5
4
dscr
X
3
159
Y
3
51
Width
3
60
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
1
Numeric

1
17
Name
5
15
loan_moratorium
X
3
708
Y
3
33
Width
3
100
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
2
Label

1
13
Name
5
8
object 7
X
3
345
Y
3
156
Width
3
509
Height
3
92
Tool Tip
5
0
Caption
5
308
Be sure to verify that all debt-related costs are appropriate for your analysis: Debt closing costs, up-front fee, and debt service reserve account. Note that debt interest payments are tax deductible, so a project with more debt may have higher net after-tax annual cash flows than a project with less debt.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Label

1
13
Name
5
10
object 716
X
3
219
Y
3
27
Width
3
126
Height
3
24
Tool Tip
5
0
Caption
5
20
% of total cap. cost
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
13
Name
5
9
object 72
X
3
306
Y
3
135
Width
3
545
Height
3
22
Tool Tip
5
0
Caption
5
80
For a project with no debt, set the either the debt percent or the DSCR to zero.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
RadioChoice

1
11
Name
5
14
payment_option
X
3
348
Y
3
24
Width
3
278
Height
3
48
Tool Tip
5
0
Selection
3
0
Items
6
2
Equal payments (standard amortization)
Fixed principal declining interest
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
4294967295
Numeric

1
17
Name
5
13
term_int_rate
X
3
138
Y
3
117
Width
3
100
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
10
term_tenor
X
3
138
Y
3
90
Width
3
100
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
2
Numeric

1
17
Name
5
7
ui_wacc
X
3
138
Y
3
222
Width
3
100
Height
3
24
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Label

1
13
Name
5
12
wacc_message
X
3
345
Y
3
249
Width
3
500
Height
3
42
Tool Tip
5
0
Caption
5
116
The weighted average cost of capital (WACC) is displayed for reference. SAM does not use the value for calculations.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1

11
cost_debt_closing
3
1
Debt closing costs
$
Project Term Debt
0
2
1
1
1
1
0
Numeric
cost_debt_fee
3
1
Up-front fee
% of total debt
Project Term Debt
0
2
1
1
1
1
0
Numeric
debt_message
3
4
Message for project term debt inputs
 
Project Term Debt
0
5
1
4
0
MultilineText
debt_option
3
1
Debt mode (0=debt percent input,1=DSCR input)
 
Project Term Debt
17
Debt percent|DSCR
3
1
1
1
1
1
RadioChoice
debt_percent
3
1
Debt percent
% of total capital cost
Project Term Debt
0
3
1
1
1
1
50
Numeric
dscr
3
1
DSCR
 
Project Term Debt
0
3
1
1
1
1
0
Numeric
loan_moratorium
3
1
Moratorium
years
Project Term Debt
0
2
1
1
1
1
0
Numeric
payment_option
3
1
Debt payment mode (0=Equal payments,1=Fixed principal declining interest)
 
Project Term Debt
73
Equal payments (standard amortization)|Fixed principal declining interest
3
1
1
1
1
0
RadioChoice
term_int_rate
3
1
Annual interest rate
%
Project Term Debt
0
2
1
1
1
1
0
Numeric
term_tenor
3
1
Tenor
years
Project Term Debt
0
2
1
1
1
1
0
Numeric
ui_wacc
3
1
WACC
%
Project Term Debt
0
8
1
1
1
1
0
Numeric

342
equations{ 'ui_wacc' } = define() {
  return 100 
    * ( ( (1+${real_discount_rate}/100)
          * (1+${inflation_rate}/100) 
        - 1 )
    * (1-${debt_percent}/100)
      + (1-(${federal_tax_rate}[0]/100
    * (1-${state_tax_rate}[0]/100)
      + ${state_tax_rate}[0]/100))
    * ${term_int_rate}/100
    * ${debt_percent}/100); 
};


2389
on_load{'Financial Debt DSCR or Debt Fraction'} = define() {
	on_change{'debt_option'}();
	on_change{'debt_percent'}();
	on_change{'dscr'}();
	on_change{'cost_debt_closing'}();
	on_change{'term_tenor'}();
	txt = debt_messages();
	property('debt_message','caption',txt);
};

function debt_messages() {
  msg = '';
  no_debt = (value('debt_option')==0 && value('debt_percent')==0) || 
            (value('debt_option')==1 && value('dscr')==0);
  if ( no_debt && value('cost_debt_closing')!=0 )
    msg = 'You are modeling a project with no debt, but the debt closing costs are not zero. To be sure that all debt-related costs are zero, set the debt closing costs to zero. ';
  
  fin = financing();
  debt = true;
  if ( fin == 'All Equity Partnership Flip' || fin == 'Sale Leaseback' ) {
    debt = false;
  }
  if ( debt == true ) {
    if ( fin == 'Residential' || fin == 'Commercial' ) {
      if ( value('loan_term') > value('analysis_period') && value('debt_fraction') > 0 ) {
        msg = msg + 'Debt payment period (loan period) is longer than the analysis period. SAM does not account for debt liability beyond the analysis period. ';
      }  
    }  
    else {
      ppa_debt = (value('debt_option') == 1 && value('dscr') > 0) || (value('debt_option')==0 && value('debt_percent')) > 0;
      if ( value('term_tenor') > value('analysis_period') && ppa_debt==true ) {
        msg = msg + 'Debt payment period (tenor) is longer than the analysis period. SAM does not account for debt liability beyond the analysis period. ';
      }  
    }        
  }
  return msg;  
}

on_change{'debt_option'} = define() {
	debt_option = value('debt_option');
	enable('debt_percent',debt_option==0);
	enable('payment_option',debt_option==0);
	enable('loan_moratorium',debt_option==0);
	show('ui_wacc',debt_option==0);
	show('wacc_message',debt_option==0);
	refresh();
	enable('dscr',debt_option==1);
	txt = debt_messages();
	property('debt_message','caption',txt);
};

on_change{'debt_percent'} = define() {
	txt = debt_messages();
	property('debt_message','caption',txt);
};

on_change{'dscr'} = define() {
	txt = debt_messages();
	property('debt_message','caption',txt);
};

on_change{'cost_debt_closing'} = define() {
	txt = debt_messages();
	property('debt_message','caption',txt);
};

on_change{'term_tenor'} = define() {
	txt = debt_messages();
	property('debt_message','caption',txt);
};