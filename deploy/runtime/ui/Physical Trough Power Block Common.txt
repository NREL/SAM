Physical Trough Power Block Common
578
640
24
GroupBox

1
8
Name
5
9
GroupBox1
X
3
6
Y
3
246
Width
3
566
Height
3
195
Tool Tip
5
0
Caption
5
24
Power Block Design Point
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox2
X
3
6
Y
3
444
Width
3
566
Height
3
188
Tool Tip
5
0
Caption
5
13
Plant Control
Bold
2
1
GroupBox

1
8
Name
5
11
GroupBox223
X
3
6
Y
3
144
Width
3
566
Height
3
101
Tool Tip
5
0
Caption
5
19
System Availability
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox3
X
3
6
Y
3
9
Width
3
566
Height
3
134
Tool Tip
5
0
Caption
5
14
Plant Capacity
Bold
2
1
Label

1
13
Name
5
7
Label12
X
3
24
Y
3
99
Width
3
536
Height
3
42
Tool Tip
5
0
Caption
5
88
Parasitic losses typically reduce net output to approximately 90 % of design gross power
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Numeric

1
17
Name
5
22
PB_m_dot_htf_cycle_des
X
3
345
Y
3
339
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
5
P_ref
X
3
420
Y
3
27
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
1
Numeric

1
17
Name
5
9
T_set_aux
X
3
345
Y
3
387
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
14
Numeric

1
17
Name
5
9
T_startup
X
3
345
Y
3
555
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
14
LossAdjustment

1
14
Name
5
6
adjust
X
3
279
Y
3
159
Width
3
294
Height
3
81
Tool Tip
5
0
TabOrder
3
24
Description
5
0
Label
5
0
Mode
3
1
AnalysisPeriod
3
25
ShowMode
2
1
AnnualEnabled
2
1
WeeklyEnabled
2
1
Choice

1
9
Name
5
16
comb_fossil_mode
X
3
345
Y
3
411
Width
3
193
Height
3
23
Tool Tip
5
0
Items
6
2
Minimum backup level
Supplemental operation
Selection
3
0
TabOrder
3
13
Numeric

1
17
Name
5
30
csp.dtr.pwrb.design_inlet_temp
X
3
345
Y
3
291
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Numeric

1
17
Name
5
31
csp.dtr.pwrb.design_outlet_temp
X
3
345
Y
3
315
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
6
Numeric

1
17
Name
5
22
csp.dtr.pwrb.nameplate
X
3
423
Y
3
75
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
17
cycle_cutoff_frac
X
3
345
Y
3
603
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
15
Numeric

1
17
Name
5
14
cycle_max_frac
X
3
345
Y
3
579
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
15
Numeric

1
17
Name
5
7
eta_lhv
X
3
345
Y
3
363
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
8
Numeric

1
17
Name
5
7
eta_ref
X
3
345
Y
3
267
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4
Numeric

1
17
Name
5
27
gross_net_conversion_factor
X
3
420
Y
3
51
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
2
Label

1
13
Name
5
8
object 7
X
3
15
Y
3
162
Width
3
261
Height
3
81
Tool Tip
5
0
Caption
5
96
System availability losses reduce the system output to represent system outages or other events.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Numeric

1
17
Name
5
10
q_sby_frac
X
3
345
Y
3
483
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
11
Numeric

1
17
Name
5
12
startup_frac
X
3
345
Y
3
531
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
13
Numeric

1
17
Name
5
12
startup_time
X
3
345
Y
3
507
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
12
Numeric

1
17
Name
5
15
t_standby_reset
X
3
345
Y
3
459
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
10

28
DP_SGS
3
1
Pressure drop within the steam generator
bar
Physical Trough Power Cycle
0
2
1
1
1
1
0
Default
PB_COPY_T_htf_cold_des
3
1
Design htf cold temp
C
 
0
8
1
1
1
1
0
Default
PB_COPY_T_htf_hot_des
3
1
 
C
 
0
8
1
1
1
1
0
Default
PB_COPY_htf_cp_avg
3
1
htf spec heat at avg temp
kJ/kg-K
 
0
8
1
1
1
1
0
Default
PB_COPY_q_pb_design
3
1
Design PC thermal power
MWt
 
0
8
1
1
1
1
0
Default
PB_m_dot_htf_cycle_des
3
1
Cycle design HTF mass flow rate
kg/s
 
0
8
1
1
1
1
0
Default
P_ref
3
1
Design gross output
MWe
Physical Trough Power Cycle
0
2
1
1
1
1
110
Numeric
T_set_aux
3
1
Aux heater outlet set temp
°C
Physical Trough Power Cycle
0
2
1
1
1
1
391
Numeric
T_startup
3
1
Minimum required startup temp
'C
Physical Trough Power Cycle
0
2
1
1
1
1
350
Numeric
W_pb_design
3
1
Rated plant capacity
MWe
Physical Trough Power Cycle
0
9
1
1
1
1
0
Default
adjust
3
5
 
 
Physical Trough Power Cycle
0
1
1
5
1
0
LossAdjustment
comb_fossil_mode
3
1
Fossil dispatch mode
 
Physical Trough Power Cycle
43
Minimum backup level|Supplemental operation
2
1
1
1
1
0
Choice
csp.dtr.pwrb.design_inlet_temp
3
1
Design inlet temperature
°C
Physical Trough Power Cycle
0
8
1
1
1
1
0
Numeric
csp.dtr.pwrb.design_outlet_temp
3
1
Design outlet temperature
°C
Physical Trough Power Cycle
0
8
1
1
1
1
0
Numeric
csp.dtr.pwrb.nameplate
3
1
Estimated net output at design (nameplate)
MWe
Physical Trough Power Cycle
0
8
1
1
1
1
0
Numeric
cycle_cutoff_frac
3
1
Min turbine operation 
 
Physical Trough Power Cycle
0
2
1
1
1
1
0.25
Numeric
cycle_max_frac
3
1
Max turbine over design operation
 
Physical Trough Power Cycle
0
2
1
1
1
1
1.15
Numeric
eta_lhv
3
1
Fossil backup boiler LHV efficiency
 
Physical Trough Power Cycle
0
2
1
1
1
1
0.9
Numeric
eta_ref
3
1
Rated cycle conversion efficiency
 
Physical Trough Power Cycle
0
2
1
1
1
1
0.3774
Numeric
fossil_mode
3
1
Fossil backup mode 1=Normal 2=Topping
 
Physical Trough Power Cycle
0
9
1
1
1
1
0
Default
gross_net_conversion_factor
3
1
Estimated gross to net conversion factor
 
Physical Trough Power Cycle
0
2
1
1
1
1
0.9
Numeric
q_max_aux
3
1
Max heat rate of auxiliary heater
 
Physical Trough Power Cycle
0
9
1
1
1
1
0
Default
q_pb_design
3
1
Design heat input to power block
MWt
Physical Trough Power Cycle
0
9
1
1
1
1
0
Default
q_sby_frac
3
1
Fraction of thermal power needed for standby
 
Physical Trough Power Cycle
0
2
1
1
1
1
0.2
Numeric
startup_frac
3
1
Fraction of thermal power needed for startup
 
Physical Trough Power Cycle
0
2
1
1
1
1
0.2
Numeric
startup_time
3
1
Power block startup time
hr
Physical Trough Power Cycle
0
2
1
1
1
1
1
Numeric
system_capacity
3
1
 
 
Physical Trough Power Cycle
0
8
1
1
1
1
0
Default
t_standby_reset
3
1
Low resource standby period
hrs
Physical Trough Power Cycle
0
2
1
1
1
1
2
Numeric

1297
equations{ 'fossil_mode' } = define() {
	return ${comb_fossil_mode}+1;
};

equations{ '$MIMO$ efficiency calculations' } = define() {
	gross = ${P_ref};
	${W_pb_design} = gross;

	qdesign = (${eta_ref}!=0) ? gross/${eta_ref} : gross ;
	${q_pb_design} = qdesign;
	${q_max_aux} = qdesign;
};

equations{ 'csp.dtr.pwrb.nameplate' } = define() {
	return ${P_ref}*${gross_net_conversion_factor}; };

equations{ 'csp.dtr.pwrb.design_inlet_temp' } = define() {
	return ${T_loop_out}; };

equations{ 'csp.dtr.pwrb.design_outlet_temp' } = define() {
	return ${T_loop_in_des};
};

equations{ 'system_capacity' } = define() {
	return ${csp.dtr.pwrb.nameplate} * 1000.0; // MW to kW
};

// Need common variable name for variables
// That user defined power cycle can reference
equations{ 'PB_COPY_T_htf_hot_des' } = define() {
	return ${csp.dtr.pwrb.design_inlet_temp}; };
	
equations{ 'PB_COPY_T_htf_cold_des' } = define() {
	return ${csp.dtr.pwrb.design_outlet_temp}; };
	
equations{ 'PB_COPY_q_pb_design' } = define() {
	return ${q_pb_design}; };
	
equations{ 'PB_COPY_htf_cp_avg' } = define() {
	return ${field_htf_cp_avg}; };
	
equations{ 'PB_m_dot_htf_cycle_des' } = define(){
	return ${PB_COPY_q_pb_design}*1000.0
		/(${PB_COPY_htf_cp_avg}
		*(${PB_COPY_T_htf_hot_des}-${PB_COPY_T_htf_cold_des})); };


408
function loss_adjustment_set() 
{
	if (is_assigned('system_use_lifetime_output')) {
		if (value('system_use_lifetime_output') == 1) {
			property('adjust', 'AnalysisPeriod', value('analysis_period'));
		}
		else {
			property('adjust', 'AnalysisPeriod', 1);
		}
	}
	else {
		property('adjust', 'AnalysisPeriod', 1);
	}
}

on_load{'Physical Trough Power Block Common'} = define() 
{
	loss_adjustment_set();
};