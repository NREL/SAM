{
    "Name": "PV3 Subarray 1 Spacing",
    "Width": 742.0,
    "Height": 411.0,
    "FormObjects": {
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "Label121113"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": -364.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 237.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 284.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Number of Modules along Side"
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "module_area"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 630.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 267.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 60.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 4.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Image": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 12"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 393.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 45.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 337.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 108.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Image": {
                    "Type": 7.0,
                    "Image": "PV3 Subarray 1 Spacing.png"
                },
                "Centered": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 7"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 12.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 12.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 708.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Subarray spacing inputs are only used when a self-shading model or the snow loss model are enabled."
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Image": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "self_shading_diagram"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 354.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 159.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 337.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 106.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Image": {
                    "Type": 7.0,
                    "Image": "PV3 Subarray 1 Spacing.png"
                },
                "Centered": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "subarray1_gcr_ref"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 207.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 96.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 124.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 3.0
                }
            }
        },
        "Choice": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "subarray1_mod_orient"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 207.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 120.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 125.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Items": {
                    "Type": 6.0,
                    "StringList": ""
                },
                "Selection": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 2.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "subarray1_nmodx"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 294.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 69.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 100.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 3.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "subarray1_nmody"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 291.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 45.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 100.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 3.0
                }
            }
        },
        "Choice": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "subarray1_shade_mode"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 207.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 144.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 125.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Items": {
                    "Type": 6.0,
                    "StringList": "None|Standard (non-linear)|Thin film (linear)"
                },
                "Selection": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "ui_msg_selfshad"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 15.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 297.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 678.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 84.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": ""
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "ui_subarray1_length_side"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 207.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 243.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 124.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 3.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "ui_subarray1_nrows"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 231.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 195.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 100.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "ui_subarray1_row_spacing"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 207.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 219.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 124.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 3.0
                }
            }
        }
    },
    "VarDatabase": {
        "module_area": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Module area",
            "Units": "m²",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "shading_3d_scene": {
            "Version": 4.0,
            "Type": 6.0,
            "Label": "Open 3D shade calculator",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 0.0,
            "DefaultValue": {
                "VV_TYPE": 6,
                "DATA": ""
            },
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "subarray1_gcr_ref": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "GCR",
            "Units": "m",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 0.0,
            "DefaultValue": 0.3,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "subarray1_mod_orient": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Module orientation",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "Portrait| Landscape",
            "Flags": 2.0,
            "DefaultValue": 0.0,
            "UIObject": "Choice",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "subarray1_nmodx": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Number of modules along bottom of row",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 8.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "subarray1_nmody": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Number of modules along side of row",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 2.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "subarray1_ref_nmodules": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Number of modules 1",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "subarray1_shade_mode": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Self shading mode",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "None|Standard (Non-linear)|Thin film (Linear)",
            "Flags": 2.0,
            "DefaultValue": 0.0,
            "UIObject": "Choice",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "subarray1_shading": {
            "Version": 4.0,
            "Type": 5.0,
            "Label": "Edit shading losses 1",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 3.0,
            "DefaultValue": {},
            "UIObject": "ShadingFactors",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray1_length_side": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Length of subarray side",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray1_nrows": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Number of rows",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray1_row_spacing": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Row spacing",
            "Units": "m",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray2_length_side": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Length of subarray side 2",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray2_nrows": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Number of rows 2",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray2_row_spacing": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Row spacing 2",
            "Units": "m",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray3_length_side": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Length of subarray side 3",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray3_nrows": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Number of rows 3",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray3_row_spacing": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Row spacing 3",
            "Units": "m",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray4_length_side": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Length of subarray side 4",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray4_nrows": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Number of rows 4",
            "Units": " ",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ui_subarray4_row_spacing": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Row spacing 4",
            "Units": "m",
            "Group": "Shading and Snow",
            "IndexLabels": "",
            "Flags": 9.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        }
    },
    "Equations": [
        "equations{'ui_subarray1_length_side'} = define() {",
        "\to=${subarray1_mod_orient};",
        "\tn=${subarray1_nmody};",
        "\ta=${module_area};",
        "\tif (o==0) l=1.7*n; //portrait",
        "\telse l=a/1.7*n; //landscape",
        "\treturn l;",
        "};",
        "equations{'ui_subarray2_length_side'} = define() {",
        "\to=${subarray2_mod_orient};",
        "\tn=${subarray2_nmody};",
        "\ta=${module_area};",
        "\tif (o==0) l=1.7*n; //portrait",
        "\telse l=a/1.7*n; //landscape",
        "\treturn l;",
        "};",
        "equations{'ui_subarray3_length_side'} = define() {",
        "\to=${subarray3_mod_orient};",
        "\tn=${subarray3_nmody};",
        "\ta=${module_area};",
        "\tif (o==0) l=1.7*n; //portrait",
        "\telse l=a/1.7*n; //landscape",
        "\treturn l;",
        "};",
        "equations{'ui_subarray4_length_side'} = define() {",
        "\to=${subarray4_mod_orient};",
        "\tn=${subarray4_nmody};",
        "\ta=${module_area};",
        "\tif (o==0) l=1.7*n; //portrait",
        "\telse l=a/1.7*n; //landscape",
        "\treturn l;",
        "};",
        "",
        "equations{'ui_subarray1_row_spacing'} = define() {",
        "\ta=${module_area};",
        "\tw=a/1.7; //module width",
        "\tl=a/w; //module length",
        "\ts=w*${subarray1_nmody}; //length of side, landscape",
        "\tif (${subarray1_mod_orient}==0) s=l*${subarray1_nmody};//length of side, portrait",
        "\treturn s/${subarray1_gcr_ref};",
        "};",
        "",
        "equations{'ui_subarray2_row_spacing'} = define() {",
        "\ta=${module_area};",
        "\tw=a/1.7; //module width",
        "\tl=a/w; //module length",
        "\ts=w*${subarray2_nmody}; //length of side, landscape",
        "\tif (${subarray2_mod_orient}==0) s=l*${subarray2_nmody};//length of side, portrait",
        "\treturn s/${subarray2_gcr_ref};",
        "};",
        "equations{'ui_subarray3_row_spacing'} = define() { ",
        "\ta=${module_area};",
        "\tw=a/1.7; //module width",
        "\tl=a/w; //module length",
        "\ts=w*${subarray3_nmody}; //length of side, landscape",
        "\tif (${subarray3_mod_orient}==0) s=l*${subarray3_nmody};//length of side, portrait",
        "\treturn s/${subarray3_gcr_ref};",
        "};",
        "equations{'ui_subarray4_row_spacing'} = define() { ",
        "\ta=${module_area};",
        "\tw=a/1.7; //module width",
        "\tl=a/w; //module length",
        "\ts=w*${subarray4_nmody}; //length of side, landscape",
        "\tif (${subarray4_mod_orient}==0) s=l*${subarray4_nmody};//length of side, portrait",
        "\treturn s/${subarray4_gcr_ref};",
        "};",
        "",
        "equations{ 'ui_subarray1_nrows' } = define() {",
        "\treturn ${subarray1_ref_nmodules}/${subarray1_nmodx}/${subarray1_nmody};",
        "};",
        "equations{ 'ui_subarray2_nrows' } = define() {",
        "\treturn ${subarray2_ref_nmodules}/${subarray2_nmodx}/${subarray2_nmody};",
        "};",
        "equations{ 'ui_subarray3_nrows' } = define() {",
        "\treturn ${subarray3_ref_nmodules}/${subarray3_nmodx}/${subarray3_nmody};",
        "};",
        "equations{ 'ui_subarray4_nrows' } = define() {",
        "\treturn ${subarray4_ref_nmodules}/${subarray4_nmodx}/${subarray4_nmody};",
        "};",
        "",
        "equations{ 'module_area' } = define() {",
        "return ?${module_model}",
        "\t[",
        "\t\t${spe_area},",
        "\t\t${cec_area},",
        "\t\t${6par_area},",
        "\t\t${snl_area},",
        "\t\t${sd11par_area}",
        "\t] ;",
        "};",
        "",
        "equations{ 'subarray1_ref_nmodules' } = define() {",
        "\treturn ${subarray1_nstrings} * ${modules_per_string};",
        "};",
        "",
        "equations{ 'subarray2_ref_nmodules' } = define() {",
        "\tif(${subarray2_enable} == 0)",
        "\t\treturn 0;",
        "\telse",
        "\t\treturn ${subarray2_nstrings} * ${modules_per_string};",
        "};",
        "",
        "equations{ 'subarray3_ref_nmodules' } = define() {",
        "\tif(${subarray3_enable} == 0)",
        "\t\treturn 0;",
        "\telse",
        "\t\treturn ${subarray3_nstrings} * ${modules_per_string};",
        "};",
        "",
        "equations{ 'subarray4_ref_nmodules' } = define() {",
        "\tif(${subarray4_enable} == 0)",
        "\t\treturn 0;",
        "\telse",
        "\t\treturn ${subarray4_nstrings} * ${modules_per_string};",
        "};",
        "",
        "equations{ 'subarray1_gcr_ref' } = define() {",
        "\treturn ${subarray1_gcr};",
        "};",
        "",
        "equations{ 'subarray2_gcr_ref' } = define() {",
        "\treturn ${subarray2_gcr};",
        "};",
        "",
        "equations{ 'subarray3_gcr_ref' } = define() {",
        "\treturn ${subarray3_gcr};",
        "};",
        "",
        "equations{ 'subarray4_gcr_ref' } = define() {",
        "\treturn ${subarray4_gcr};",
        "};"
    ],
    "Callbacks": [
        "//just run this function anytime anything relevant changes",
        "function input_enabling()",
        "{",
        "\tmsg='';",
        "\tproperty('ui_msg_selfshad','Caption',msg);",
        "\t",
        "\tenable_module_area = false;",
        "\t",
        "\tmsg_snow = '';",
        "\tif ( isnan(value('annual_snow')) == true && value('en_snow_model') == 1 ) {",
        "\t\tmsg_snow = 'Weather file has no snow data. Simulation will fail.';",
        "\t}",
        "\tproperty('ui_msg_snow','Caption',msg_snow);",
        "",
        "\tfor(i=1; i<=4; i++)",
        "\t{",
        "\t\tprefix = 'subarray' + i + '_';",
        "\t\t//is subarray enabled?",
        "\t\ten1 = false;",
        "\t\tif (i==1)",
        "\t\t\ten1 = true;",
        "\t\telse",
        "\t\t\tif (value(prefix + 'enable') == 1)",
        "\t\t\t\ten1 = true;",
        "\t\t//is it the correct type of tracking?",
        "\t\ten2 = false;",
        "\t\tif (value(prefix + 'track_mode') == 0 || //fixed tilt",
        "\t\t\t(value(prefix + 'track_mode') == 1 && value(prefix + 'backtrack') == 0)) //one-axis tracking w/o backtracking",
        "\t\t\ten2 = true;",
        "\t\t//has self-shading been selected?",
        "\t\ten3 = false;",
        "\t\tif (value(prefix + 'shade_mode') == 1 //self-shaded selected",
        "\t\t\t|| value(prefix + 'shade_mode') == 2) //linear shading selected",
        "\t\t\ten3 = true;",
        "\t\t",
        "\t\t//has snow model been activated?",
        "\t\ten4 = false;",
        "\t\tif( value(\"en_snow_model\") == 1 ) en4 = true;",
        "\t\t",
        "\t\t//display message self shading is enabled and nrows is not an integer",
        "\t\t//or there is only one row",
        "\t\tif (en3 == true ) {",
        "\t\t\tnrows = value('ui_' + prefix + 'nrows');",
        "\t\t\tif ( nrows == 1 ) msg = msg + 'Subarray ' + i + ' has only one row.\\n';",
        "\t\t    if ( nrows-to_int(nrows) != 0 ) msg = msg + 'The number of rows in subarray ' + i + ' is not an integer.\\n';",
        "\t\t}",
        "",
        "\t\t//display message if snow model is enabled and nrows is not an integer",
        "\t\tif (en4 == true  && en3 == false) {",
        "\t\t\tnrows = value('ui_' + prefix + 'nrows');",
        "\t\t    if ( nrows-to_int(nrows) != 0 ) msg = msg + 'The number of rows in subarray ' + i + ' is not an integer.\\n';",
        "\t\t}",
        "",
        "\t\t//now enable all the inputs",
        "\t\tenable(prefix + 'shading', en1);",
        "\t\tenable(prefix + 'shade_mode', (en1 && en2));",
        "\t\tif (en3) enable_module_area = true;",
        "\t\tenable(prefix + 'mod_orient', en1 && en2 && en3);",
        "\t\tenable('ui_' + prefix + 'length_side', en1 && en2 && en3);",
        "\t\tenable('ui_' + prefix + 'nrows', (en1 && en2 && en3) || (en1 && en4) );",
        "\t\tenable(prefix + 'ref_nmodules', (en1 && en2 && en3) || (en1 && en4) );",
        "\t\tenable(prefix + 'gcr_ref', (en1 && en2 && en3));",
        "\t\tenable('ui_' + prefix + 'row_spacing', (en1 && en2 && en3));",
        "\t\tenable(prefix + 'nmodx', (en1 && en2 && en3) || (en1 && en4) );",
        "\t\tenable(prefix + 'nmody', (en1 && en2 && en3) || (en1 && en4) );",
        "\t}",
        "\tenable('module_area', enable_module_area);",
        "    if (msg!=\"\") msg = msg + 'Adjust the number of modules to correct the problem.'; ",
        "\tproperty('ui_msg_selfshad','Caption',msg);",
        "",
        "}",
        "",
        "on_load{'PV Shading'} = define() { input_enabling(); };",
        "on_change{'subarray1_shade_mode'} = define() { input_enabling(); };",
        "on_change{'subarray2_shade_mode'} = define() { input_enabling(); };",
        "on_change{'subarray3_shade_mode'} = define() { input_enabling(); };",
        "on_change{'subarray4_shade_mode'} = define() { input_enabling(); };",
        "on_change{'subarray1_nmody'} = define() { input_enabling(); };",
        "on_change{'subarray2_nmody'} = define() { input_enabling(); };",
        "on_change{'subarray3_nmody'} = define() { input_enabling(); };",
        "on_change{'subarray4_nmody'} = define() { input_enabling(); };",
        "on_change{'subarray1_nmodx'} = define() { input_enabling(); };",
        "on_change{'subarray2_nmodx'} = define() { input_enabling(); };",
        "on_change{'subarray3_nmodx'} = define() { input_enabling(); };",
        "on_change{'subarray4_nmodx'} = define() { input_enabling(); };",
        "on_change{'en_snow_model'} = define() { input_enabling(); };",
        "",
        "on_change{'edit_3d_scene'} = define() {",
        "\t",
        "\tminute_step = 60;",
        "\tif (varinfo(\"wf_nrecords\"))",
        "\t{",
        "\t\tnrec = value(\"wf_nrecords\");",
        "\t\tif (!isnan(nrec) && (nrec > 0))",
        "\t\t{",
        "\t\t\tminute_step = 60 * 8760 / nrec;",
        "\t\t}",
        "\t}",
        "\t",
        "\tx = editscene3d( 'shading_3d_scene', ",
        "\t\tvalue('lat'), value('lon'), value('tz'), ",
        "\t\tvalue('city') + ', ' + value('state') , minute_step , true);",
        "\t",
        "\tif ( x.ierr == 0 )",
        "\t{",
        "\t\tn_subarrays = 1; // subarray 1 always enabled.",
        "\t\tif (value(\"subarray2_enable\") == 1)",
        "\t\t\tn_subarrays++;",
        "\t\tif (value(\"subarray3_enable\") == 1)",
        "\t\t\tn_subarrays++;",
        "\t\tif (value(\"subarray4_enable\") == 1)",
        "\t\t\tn_subarrays++;",
        "\t",
        "\t\tif (( x.nsubarrays > 1 ) || ( n_subarrays > 1 ))",
        "\t\t{",
        "\t\t// check that nsubarrays = number enabled",
        "\t\t\t",
        "\t\t\tmsg=\"\";",
        "\t\t\tif (x.nsubarrays != n_subarrays)",
        "\t\t\t\tmsg = \"WARNING: You have \" + n_subarrays + \" subarrays enabled and \" ",
        "\t\t\t\t+ x.nsubarrays + \" subarrays in the 3D scene.\\n\";",
        "\t\t\t\t",
        "\t\t\tmsg += \"Update timeseries shading and diffuse losses for \" ",
        "\t\t\t\t+ x.nsubarrays + \" subarrays with calculated values from 3D scene?\\n\\n\";",
        "\t\t",
        "\t\t",
        "\t\t\tif( yesno(msg))",
        "\t\t\t{",
        "\t",
        "\t\t\t\tfor (i=0;i<4;i++)",
        "\t\t\t\t{",
        "\t\t\t\t\tpre = 'subarray' + to_string(i+1);",
        "\t\t\t\t\t",
        "\t\t\t\t\ttimestep = x{ pre };",
        "\t\t\t\t\tif ( timestep == null || typeof(timestep) != 'array' ) continue;",
        "\t\t\t\t\t",
        "\t\t\t\t\t// check parallel strings = number of subarray strings",
        "\t\t\t\t\tif (value(pre + \"_nstrings\") != #timestep[0])",
        "\t\t\t\t\t{",
        "\t\t\t\t\t\tif (!yesno(\"WARNING: For \" + pre + \", you specified \" ",
        "\t\t\t\t\t\t+ value(pre + \"_nstrings\") + \" strings and have \" + #timestep[0] ",
        "\t\t\t\t\t\t+ \" strings in the 3D scene.\\nDo you wish to continue with the 3D scene values?.\\n\\n\"))",
        "\t\t\t\t\t\t\tcontinue;",
        "\t\t\t\t\t}",
        "\t\t\t\t\t",
        "\t\t\t\t\tshad = value( pre+'_shading');",
        "\t\t\t\t\tshad.en_timestep = true;",
        "\t\t\t\t\tshad.timestep = timestep;",
        "\t\t\t\t\t// bugfix 4/20/16",
        "\t\t\t\t\tshad.string_option=0; // default to shading database",
        "\t\t\t\t\t",
        "\t\t\t\t\t// diffuse",
        "\t\t\t\t\tshad.en_diff = true;",
        "\t\t\t\t\tshad.diff = x.diffuse[i];",
        "\t\t\t\t\tvalue( pre+'_shading', shad );\t",
        "\t\t\t\t}",
        "\t\t\t\t",
        "\t\t\t}",
        "\t\t\t/* no longer an option to update first array for multiple",
        "\t\t\telse if (yesno( 'Update timeseries shading and diffuse losses for the array (in subarray 1)?') )",
        "\t\t\t{",
        "\t\t\t\ttimestep = x{ 'subarray1' };",
        "\t\t\t\tif ( timestep == null || typeof(timestep) != 'array') // || #mxh != 12 )",
        "\t\t\t\t{",
        "\t\t\t\t\tmsgbox('Shading loss table was not specified correctly.\\n\\n'",
        "\t\t\t\t\t + to_string(timestep) );",
        "\t\t\t\t\treturn;",
        "\t\t\t\t}",
        "\t\t\t\t",
        "\t\t\t\tshad = value( 'subarray1_shading');",
        "\t\t\t\tshad.en_timestep = true;",
        "\t\t\t\tshad.timestep = timestep;",
        "\t\t\t",
        "\t\t\t\t\t// diffuse",
        "\t\t\t\tshad.en_diff = true;",
        "\t\t\t\tshad.diff = x.diffuse[0];",
        "",
        "\t\t\t\tvalue( 'subarray1_shading', shad );\t",
        "\t\t\t}",
        "\t\t\t*/",
        "\t\t\treturn;",
        "\t\t}",
        "\t\t",
        "\t\telse if( x.nsubarrays <= 1 ",
        "\t\t\t&& yesno( 'Update timeseries shading and diffuse losses for the array (in subarray 1)?') )",
        "\t\t{",
        "\t\t\tpre = 'subarray1';",
        "\t\t\ttimestep = x{ pre };",
        "\t\t\tif ( timestep == null || typeof(timestep) != 'array')// || #mxh != 12 )",
        "\t\t\t{",
        "\t\t\t\tmsgbox('Shading loss table was not specified correctly.\\n\\n'",
        "\t\t\t\t + to_string(timestep) );",
        "\t\t\t\treturn;",
        "\t\t\t}",
        "\t",
        "\t\t\t// check parallel strings = number of subarray strings",
        "\t\t\tif (value(pre + \"_nstrings\") != #timestep[0])",
        "\t\t\t{",
        "\t\t\t\tif (!yesno(\"WARNING: For subarray1, you specified \" ",
        "\t\t\t\t+ value(pre + \"_nstrings\") + \" strings and have \" + #timestep[0] ",
        "\t\t\t\t+ \" strings in the 3D scene.\\nDo you wish to continue with the 3D scene values?.\\n\\n\"))",
        "\t\t\t\t\treturn;",
        "\t\t\t}",
        "\t\t\t",
        "\t\t\tshad = value( 'subarray1_shading');",
        "\t\t\tshad.en_timestep = true;",
        "\t\t\tshad.timestep = timestep;",
        "\t\t\t// bugfix 4/20/16",
        "\t\t\tshad.string_option=0; // default to shading database",
        "\t\t",
        "\t\t\t\t// diffuse",
        "\t\t\tshad.en_diff = true;",
        "\t\t\tshad.diff = x.diffuse[0];",
        "",
        "\t\t\tvalue( 'subarray1_shading', shad );\t",
        "\t\t\treturn;",
        "\t\t}",
        "\t}",
        "\telse",
        "\t{",
        "\t\tmsgbox('Internal error: ' + x.message);",
        "\t}",
        "};"
    ]
}