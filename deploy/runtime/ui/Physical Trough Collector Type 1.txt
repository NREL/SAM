Physical Trough Collector Type 1
804
343
21
GroupBox

1
8
Name
5
9
GroupBox1
X
3
6
Y
3
39
Width
3
791
Height
3
107
Tool Tip
5
0
Caption
5
18
Collector Geometry
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox2
X
3
3
Y
3
150
Width
3
791
Height
3
101
Tool Tip
5
0
Caption
5
18
Optical Parameters
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox4
X
3
3
Y
3
255
Width
3
791
Height
3
80
Tool Tip
5
0
Caption
5
20
Optical Calculations
Bold
2
1
DataArray

1
10
Name
5
6
IAMs_1
X
3
270
Y
3
168
Width
3
90
Height
3
24
Tool Tip
5
0
Mode
3
2
Label
5
16
IAM Coefficients
Description
5
0
TabOrder
3
4294967295
Button

1
8
Name
5
25
apply_collector_library_1
X
3
600
Y
3
9
Width
3
194
Height
3
21
Tool Tip
5
0
Caption
5
25
Apply Values from Library
TabOrder
3
2
Numeric

1
17
Name
5
23
csp_dtr_sca_ap_length_1
X
3
270
Y
3
279
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
17
Numeric

1
17
Name
5
22
csp_dtr_sca_aperture_1
X
3
270
Y
3
63
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
27
csp_dtr_sca_ave_focal_len_1
X
3
666
Y
3
87
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
7
Numeric

1
17
Name
5
27
csp_dtr_sca_calc_end_loss_1
X
3
666
Y
3
279
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
19
Numeric

1
17
Name
5
22
csp_dtr_sca_calc_iam_1
X
3
270
Y
3
303
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
18
Numeric

1
17
Name
5
26
csp_dtr_sca_calc_sca_eff_1
X
3
666
Y
3
303
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
20
Numeric

1
17
Name
5
32
csp_dtr_sca_clean_reflectivity_1
X
3
666
Y
3
198
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
14
Numeric

1
17
Name
5
27
csp_dtr_sca_general_error_1
X
3
270
Y
3
222
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
16
Numeric

1
17
Name
5
30
csp_dtr_sca_geometry_effects_1
X
3
666
Y
3
174
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
13
Numeric

1
17
Name
5
20
csp_dtr_sca_length_1
X
3
270
Y
3
111
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Numeric

1
17
Name
5
25
csp_dtr_sca_mirror_dirt_1
X
3
666
Y
3
222
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
15
Numeric

1
17
Name
5
26
csp_dtr_sca_ncol_per_sca_1
X
3
666
Y
3
63
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
0
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
6
TextEntry

1
11
Name
5
25
csp_dtr_sca_notify_text_1
X
3
186
Y
3
9
Width
3
406
Height
3
21
Tool Tip
5
0
Text
5
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
1
Numeric

1
17
Name
5
25
csp_dtr_sca_piping_dist_1
X
3
666
Y
3
111
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
8
Numeric

1
17
Name
5
28
csp_dtr_sca_tracking_error_1
X
3
270
Y
3
198
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
12
Numeric

1
17
Name
5
23
csp_dtr_sca_w_profile_1
X
3
270
Y
3
87
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4

22
IAMs_1
3
2
Incidence angle modifier coefficients
 
Physical Trough Collector Type 1
0
2
1
2
1
3
1 0.0506 -0.1763 

DataArray
csp_dtr_sca_ap_length_1
3
1
Length of single module
m
Physical Trough Collector Type 1
0
8
1
1
1
1
8.5
Numeric
csp_dtr_sca_aperture_1
3
1
Reflective aperture area
mÂ²
Physical Trough Collector Type 1
0
2
1
1
1
1
0
Numeric
csp_dtr_sca_ave_focal_len_1
3
1
Average surface-to-focus path length
m
Physical Trough Collector Type 1
0
2
1
1
1
1
1.8
Numeric
csp_dtr_sca_calc_costh_1
3
1
Calculated costheta
 
Physical Trough Collector Type 1
0
8
1
1
1
1
0
Default
csp_dtr_sca_calc_end_gain_1
3
1
End gain factor
 
Physical Trough Collector Type 1
0
8
1
1
1
1
0
Default
csp_dtr_sca_calc_end_loss_1
3
1
End loss at summer solstice
 
Physical Trough Collector Type 1
0
8
1
1
1
1
0
Numeric
csp_dtr_sca_calc_iam_1
3
1
IAM at summer solstice
 
Physical Trough Collector Type 1
0
8
1
1
1
1
0
Numeric
csp_dtr_sca_calc_latitude_1
3
1
Latitude
 
Physical Trough Collector Type 1
0
8
1
1
1
1
0
Default
csp_dtr_sca_calc_sca_eff_1
3
1
Optical efficiency at design
 
Physical Trough Collector Type 1
0
8
1
1
1
1
0
Numeric
csp_dtr_sca_calc_theta_1
3
1
Calculated theta
 
Physical Trough Collector Type 1
0
8
1
1
1
1
0
Default
csp_dtr_sca_calc_zenith_1
3
1
Calculated zenith
rad
Physical Trough Collector Type 1
0
8
1
1
1
1
0
Default
csp_dtr_sca_clean_reflectivity_1
3
1
Mirror reflectance
 
Physical Trough Collector Type 1
0
2
1
1
1
1
0.935
Numeric
csp_dtr_sca_general_error_1
3
1
General optical error
 
Physical Trough Collector Type 1
0
2
1
1
1
1
0.99
Numeric
csp_dtr_sca_geometry_effects_1
3
1
Geometry effects
 
Physical Trough Collector Type 1
0
2
1
1
1
1
0.98
Numeric
csp_dtr_sca_length_1
3
1
Length of collector assembly
m
Physical Trough Collector Type 1
0
2
1
1
1
1
102
Numeric
csp_dtr_sca_mirror_dirt_1
3
1
Dirt on mirror
 
Physical Trough Collector Type 1
0
2
1
1
1
1
0.95
Numeric
csp_dtr_sca_ncol_per_sca_1
3
1
Number of modules per assembly
 
Physical Trough Collector Type 1
0
2
1
1
1
1
12
Numeric
csp_dtr_sca_notify_text_1
3
4
Collector name from library
 
Physical Trough Collector Type 1
0
0
1
4
16
Solargenix SGX-1
TextEntry
csp_dtr_sca_piping_dist_1
3
1
Piping distance between assemblies
m
Physical Trough Collector Type 1
0
2
1
1
1
1
1
Numeric
csp_dtr_sca_tracking_error_1
3
1
Tracking error
 
Physical Trough Collector Type 1
0
2
1
1
1
1
0.994
Numeric
csp_dtr_sca_w_profile_1
3
1
Aperture width, total structure
m
Physical Trough Collector Type 1
0
2
1
1
1
1
5
Numeric

4673
//
//  ONLY ADD UI INDICATOR, COMBO CONVERTERS, AND
//  INPUT AGGREGATOR EQUATIONS BELOW!
//
//   If the equations change an input value
//   modify the below main MIMO or add one,
//   referencing in ssc_equations.h
//

equations{ '$MIMO$ Physical_Trough_Collector_Type_UI_Only_Equations' } = define() {

	// csp_dtr_sca_ap_length_1
	data.L_SCA = ${L_SCA};
	data.ColperSCA = ${ColperSCA};

	// csp_dtr_sca_calc_theta_1
	// <nothing new needed>
	
	// csp_dtr_sca_calc_end_gain_1
	data.Ave_Focal_Length = ${Ave_Focal_Length};
	data.Distance_SCA = ${Distance_SCA};

	// csp_dtr_sca_calc_costh_1
	//data.csp_dtr_sca_calc_zenith_1 = ${csp_dtr_sca_calc_zenith_1};
	data.tilt = ${tilt};
	data.azimuth = ${azimuth};
	
	// csp_dtr_sca_calc_end_loss_1
	data.nSCA = ${nSCA};
	
	// csp_dtr_sca_calc_latitude_1
	data.lat = ${lat};
	
	// csp_dtr_sca_calc_zenith_1
	// <nothing new needed>
	
	// csp_dtr_sca_calc_iam_1
	data.IAM_matrix = ${IAM_matrix};

	success = ssc_eqn("Physical_Trough_Collector_Type_UI_Only_Equations", data);
	if (!success) {
		${csp_dtr_sca_ap_length_1} = -999;
		${csp_dtr_sca_ap_length_2} = -999;
		${csp_dtr_sca_ap_length_3} = -999;
		${csp_dtr_sca_ap_length_4} = -999;
		${csp_dtr_sca_calc_theta_1} = -999.;
		${csp_dtr_sca_calc_theta_2} = -999.;
		${csp_dtr_sca_calc_theta_3} = -999.;
		${csp_dtr_sca_calc_theta_4} = -999.;
		${csp_dtr_sca_calc_end_gain_1} = -999.;
		${csp_dtr_sca_calc_end_gain_2} = -999.;
		${csp_dtr_sca_calc_end_gain_3} = -999.;
		${csp_dtr_sca_calc_end_gain_4} = -999.;
		${csp_dtr_sca_calc_costh_1} = -999.;
		${csp_dtr_sca_calc_costh_2} = -999.;
		${csp_dtr_sca_calc_costh_3} = -999.;
		${csp_dtr_sca_calc_costh_4} = -999.;
		${csp_dtr_sca_calc_end_loss_1} = -999.;
		${csp_dtr_sca_calc_end_loss_2} = -999.;
		${csp_dtr_sca_calc_end_loss_3} = -999.;
		${csp_dtr_sca_calc_end_loss_4} = -999.;
		${csp_dtr_sca_calc_latitude_1} = -999.;
		${csp_dtr_sca_calc_latitude_2} = -999.;
		${csp_dtr_sca_calc_latitude_3} = -999.;
		${csp_dtr_sca_calc_latitude_4} = -999.;
		${csp_dtr_sca_calc_zenith_1} = -999.;
		${csp_dtr_sca_calc_zenith_2} = -999.;
		${csp_dtr_sca_calc_zenith_3} = -999.;
		${csp_dtr_sca_calc_zenith_4} = -999.;
		${csp_dtr_sca_calc_iam_1} = -999.;
		${csp_dtr_sca_calc_iam_2} = -999.;
		${csp_dtr_sca_calc_iam_3} = -999.;
		${csp_dtr_sca_calc_iam_4} = -999.;
	}
	else {
		${csp_dtr_sca_ap_length_1} = data.csp_dtr_sca_ap_lengths[0][0];
		${csp_dtr_sca_ap_length_2} = data.csp_dtr_sca_ap_lengths[0][1];
		${csp_dtr_sca_ap_length_3} = data.csp_dtr_sca_ap_lengths[0][2];
		${csp_dtr_sca_ap_length_4} = data.csp_dtr_sca_ap_lengths[0][3];
		${csp_dtr_sca_calc_theta_1} = data.csp_dtr_sca_calc_theta;			// singular
		${csp_dtr_sca_calc_theta_2} = data.csp_dtr_sca_calc_theta;			// singular
		${csp_dtr_sca_calc_theta_3} = data.csp_dtr_sca_calc_theta;			// singular
		${csp_dtr_sca_calc_theta_4} = data.csp_dtr_sca_calc_theta;			// singular
		${csp_dtr_sca_calc_end_gain_1} = data.csp_dtr_sca_calc_end_gains[0][0];
		${csp_dtr_sca_calc_end_gain_2} = data.csp_dtr_sca_calc_end_gains[0][1];
		${csp_dtr_sca_calc_end_gain_3} = data.csp_dtr_sca_calc_end_gains[0][2];
		${csp_dtr_sca_calc_end_gain_4} = data.csp_dtr_sca_calc_end_gains[0][3];
		${csp_dtr_sca_calc_costh_1} = data.csp_dtr_sca_calc_costh;			// singular
		${csp_dtr_sca_calc_costh_2} = data.csp_dtr_sca_calc_costh;			// singular
		${csp_dtr_sca_calc_costh_3} = data.csp_dtr_sca_calc_costh;			// singular
		${csp_dtr_sca_calc_costh_4} = data.csp_dtr_sca_calc_costh;			// singular
		${csp_dtr_sca_calc_end_loss_1} = data.csp_dtr_sca_calc_end_losses[0][0];
		${csp_dtr_sca_calc_end_loss_2} = data.csp_dtr_sca_calc_end_losses[0][1];
		${csp_dtr_sca_calc_end_loss_3} = data.csp_dtr_sca_calc_end_losses[0][2];
		${csp_dtr_sca_calc_end_loss_4} = data.csp_dtr_sca_calc_end_losses[0][3];
		${csp_dtr_sca_calc_latitude_1} = data.csp_dtr_sca_calc_latitude;	// singular
		${csp_dtr_sca_calc_latitude_2} = data.csp_dtr_sca_calc_latitude;	// singular
		${csp_dtr_sca_calc_latitude_3} = data.csp_dtr_sca_calc_latitude;	// singular
		${csp_dtr_sca_calc_latitude_4} = data.csp_dtr_sca_calc_latitude;	// singular
		${csp_dtr_sca_calc_zenith_1} = data.csp_dtr_sca_calc_zenith;		// singular
		${csp_dtr_sca_calc_zenith_2} = data.csp_dtr_sca_calc_zenith;		// singular
		${csp_dtr_sca_calc_zenith_3} = data.csp_dtr_sca_calc_zenith;		// singular
		${csp_dtr_sca_calc_zenith_4} = data.csp_dtr_sca_calc_zenith;		// singular
		${csp_dtr_sca_calc_iam_1} = data.csp_dtr_sca_calc_iams[0][0];
		${csp_dtr_sca_calc_iam_2} = data.csp_dtr_sca_calc_iams[0][1];
		${csp_dtr_sca_calc_iam_3} = data.csp_dtr_sca_calc_iams[0][2];
		${csp_dtr_sca_calc_iam_4} = data.csp_dtr_sca_calc_iams[0][3];
	}
	
	return 0;
};

1048
on_change{'apply_collector_library_1'} = define() {
    
    value( 'csp_dtr_sca_notify_text_1', value('ui_collector_description') );
    value( 'csp_dtr_sca_aperture_1', value('ui_A_aperture') );
    value( 'csp_dtr_sca_w_profile_1', value('ui_W_aperture') );
    value( 'csp_dtr_sca_length_1', value('ui_L_SCA') );
    value( 'csp_dtr_sca_ncol_per_sca_1', value('ui_ColperSCA') );
    value( 'csp_dtr_sca_ave_focal_len_1', value('ui_Ave_Focal_length') );
    value( 'csp_dtr_sca_piping_dist_1', value('ui_Distance_SCA') );

    value( 'csp_dtr_sca_tracking_error_1', value('ui_TrackingError') );
    value( 'csp_dtr_sca_geometry_effects_1', value('ui_GeomEffects') );
    value( 'csp_dtr_sca_clean_reflectivity_1', value('ui_Rho_mirror_clean') );
    value( 'csp_dtr_sca_mirror_dirt_1', value('ui_Dirt_mirror') );
    value( 'csp_dtr_sca_general_error_1', value('ui_Error') );
    
	iamF0 = value('ui_IamF0');
	iamF1 = value('ui_IamF1');
	iamF2 = value('ui_IamF2');
	iamF3 = value('ui_IamF3');
	
	value( 'IAMs_1', [iamF0,iamF1,iamF2,iamF3] );
};
