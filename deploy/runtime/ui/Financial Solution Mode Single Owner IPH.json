{
    "Name": "Financial Solution Mode Single Owner IPH",
    "Width": 859.0,
    "Height": 101.0,
    "FormObjects": {
        "GroupBox": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "GroupBox1"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 6.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 850.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 92.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Price of Heat"
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "flip_target_year"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 702.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 30.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 60.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 3.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 7"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 252.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 54.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 270.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Inflation does not apply to the PPA price."
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "ppa_escalation"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 396.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 30.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 60.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 21.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": 5.0
                }
            }
        },
        "SchedNumeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "ppa_price_input_heat_btu"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 84.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 30.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Label": {
                    "Type": 5.0,
                    "String": "Value"
                },
                "UseSchedule": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ScheduleOnly": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FixedLength": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "Description": {
                    "Type": 5.0,
                    "String": ""
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        }
    },
    "VarDatabase": {
        "flip_target_year": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "IRR target year",
            "Units": " ",
            "Group": "Revenue",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 10.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ppa_escalation": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "PPA price escalation",
            "Units": "%/year",
            "Group": "Revenue",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": 1.0,
            "UIObject": "Numeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ppa_price_input_heat_btu": {
            "Version": 4.0,
            "Type": 2.0,
            "Label": "PPA price",
            "Units": "$/MMBtu",
            "Group": "Revenue",
            "IndexLabels": "",
            "Flags": 2.0,
            "DefaultValue": [
                0.0
            ],
            "UIObject": "SchedNumeric",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "ppa_soln_mode": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "PPA solution mode",
            "Units": " ",
            "Group": "Revenue",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 1.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        }
    },
    "Equations": [
        "equations{'ppa_soln_mode'} = define() {",
        "\treturn 1;};",
        ""
    ],
    "Callbacks": [
        "// This form is a copy of Financial Solution Flip Leaseback",
        "// so ppa_soln_mode radio button can have different labels",
        "// to indicated IRR target is for the tax investor for flip ",
        "// structures. Any updates should be made to both forms.",
        "",
        "on_load{'Financial Solution Mode Single Owner IPH'} = define()",
        "{",
        "\tsoln_mode_ctrl_refresh();",
        "\tdisplay_message();",
        "};",
        "",
        "on_change{'ppa_soln_mode'} = define()",
        "{",
        "\tsoln_mode_ctrl_refresh();",
        "\tdisplay_message();",
        "};",
        "",
        "on_change{'ppa_price_input_heat_btu'} = define()",
        "{",
        "\tsoln_mode_ctrl_refresh();",
        "};",
        "",
        "on_change{'flip_target_year'} = define () {",
        "\tdisplay_message();",
        "};",
        "",
        "function display_message() ",
        "{",
        "\ttxt = '';",
        "\tclr = 'black';",
        "\tif ( value('flip_target_year') > value('analysis_period') )",
        "\t{",
        "\t\ttxt += 'IRR target year is greater than the analysis period. ';",
        "\t\tclr = 'red';",
        "\t}",
        "\tif ( financing() == 'Host Developer' ) ",
        "\t{",
        "\t\ttxt += 'IRR is the developer internal rate of return. ';",
        "\t}",
        "\telseif ( value('ppa_soln_mode') == 0 && value('en_electricity_rates') == 0 )",
        "\t{",
        "\t\tclr = 'red';",
        "\t\ttxt += 'The Specify IRR Target option is not available with the Use PPA Price option on Electricity Purchases page. Either change the option on the Electricity Purchases page or use the Specify PPA Price option.';",
        "\t}",
        "\tproperty('solution_mode_message','Caption',txt);",
        "\tproperty('solution_mode_message','TextColour',clr);",
        "}",
        "",
        "function soln_mode_ctrl_refresh()",
        "{",
        "    is_specify_irr = false;",
        "\tshow_escalation = (#${ppa_price_input_heat_btu} < 2);",
        "\tenable(\"ppa_escalation\",(show_escalation || is_specify_irr));",
        "}"
    ]
}