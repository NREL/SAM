MSPT System Design
869
941
21
Numeric

1
17
Name
5
5
P_ref
X
3
687
Y
3
117
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
6
Numeric

1
17
Name
5
9
Q_rec_des
X
3
219
Y
3
165
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
14
T_htf_cold_des
X
3
219
Y
3
240
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4
Numeric

1
17
Name
5
13
T_htf_hot_des
X
3
219
Y
3
216
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
10
design_eff
X
3
687
Y
3
189
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
4
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
8
Numeric

1
17
Name
5
7
dni_des
X
3
219
Y
3
117
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
1
Numeric

1
17
Name
5
27
gross_net_conversion_factor
X
3
687
Y
3
141
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
7
Numeric

1
17
Name
5
9
nameplate
X
3
687
Y
3
165
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Image

1
8
Name
5
9
object 12
X
3
6
Y
3
375
Width
3
856
Height
3
556
Tool Tip
5
0
Image
7
MSPT System Design_object 12.png
Centered
2
1
Divider

1
10
Name
5
9
object 21
X
3
12
Y
3
273
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
15
Thermal Storage
Bold
2
1
Divider

1
10
Name
5
11
object 2119
X
3
12
Y
3
198
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
18
Tower and Receiver
Bold
2
1
Divider

1
10
Name
5
11
object 2120
X
3
444
Y
3
96
Width
3
405
Height
3
22
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
11
Power Cycle
Bold
2
1
Divider

1
10
Name
5
11
object 2121
X
3
12
Y
3
96
Width
3
405
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
15
Heliostat Field
Bold
2
1
GroupBox

1
8
Name
5
8
object 4
X
3
6
Y
3
12
Width
3
855
Height
3
354
Tool Tip
5
0
Caption
5
23
Design Point Parameters
Bold
2
1
Label

1
13
Name
5
8
object 7
X
3
18
Y
3
30
Width
3
831
Height
3
66
Tool Tip
5
0
Caption
5
294
The design point parameters determine the nominal ratings of each part of the power tower system. After specifying the design point parameters here, you can specify details of each component of the system on the Heliostat Field, Tower and Receiver, Thermal Storage, and Power Cycle input pages.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
GroupBox

1
8
Name
5
14
picture_border
X
3
6
Y
3
372
Width
3
855
Height
3
555
Tool Tip
5
0
Caption
5
0
Bold
2
1
Numeric

1
17
Name
5
11
q_pb_design
X
3
687
Y
3
213
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
6
solarm
X
3
219
Y
3
141
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
2
Numeric

1
17
Name
5
7
tshours
X
3
219
Y
3
294
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Numeric

1
17
Name
5
10
tshours_sf
X
3
219
Y
3
318
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
7
Label

1
13
Name
5
6
ui_msg
X
3
447
Y
3
246
Width
3
405
Height
3
87
Tool Tip
5
0
Caption
5
0
TextColour
4
255
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1

15
P_ref
3
1
Design turbine gross output
MWe
System Design
0
2
1
1
1
1
110
Default
Q_rec_des
3
1
Receiver thermal power
MWt
System Design
0
8
1
1
1
1
0
Default
T_htf_cold_des
3
1
HTF cold temperature
°C
System Design
0
2
1
1
1
1
290
Default
T_htf_hot_des
3
1
HTF hot temperature
°C
System Design
0
2
1
1
1
1
574
Default
csp_financial_model
3
1
 
 
 
0
8
1
1
1
1
0
Default
design_eff
3
1
Cycle thermal efficiency
 
System Design
0
2
1
1
1
1
0.45
Default
dni_des
3
1
Design point DNI
W/m²
System Design
0
2
1
1
1
1
950
Default
gross_net_conversion_factor
3
1
Estimated gross to net conversion factor
 
System Design
0
2
1
1
1
1
0.9
Default
nameplate
3
1
Estimated net output at design (nameplate)
MWe
System Design
0
8
1
1
1
1
0
Default
q_pb_design
3
1
Cycle thermal power
MWt
System Design
0
8
1
1
1
1
0
Default
sf_excess
3
1
Heliostat field multiple
 
System Design
0
2
1
1
1
1
1
Default
solarm
3
1
Solar multiple
 
System Design
0
2
1
1
1
1
1.9
Default
tshours
3
1
Full load hours of storage
hours
System Design
0
2
1
1
1
1
6
Default
tshours_sf
3
1
Solar field hours of storage
hours
System Design
0
8
1
1
1
1
0
Default
ui_msg
3
4
System design message
 
System Design
0
1
1
4
0
Label

1352
equations{ 'csp_financial_model' } = define() {
	if (financing() == "Single Owner"){
		return 1;
	}
	else if(financing() == "Leveraged Partnership Flip"){
		return 2;
	}
	else if(financing() == "All Equity Partnership Flip"){
		return 3;
	}
	else if(financing() == "Sale Leaseback"){
		return 4;
	}
	else if(financing() == "Commercial"){
		return 5;
	}
	else if(financing() == "Merchant Plant"){
		return 6;
	}
	else if(financing() == "LCOE Calculator"){
		return 7;
	}
	else if(financing() == "None"){
		return 8;
	}
	else{
		return -1;
	}
};

equations{ '$MIMO$ MSPT_System_Design_Equations' } = define() {
	// nameplate
	data.P_ref = ${P_ref};
	data.gross_net_conversion_factor = ${gross_net_conversion_factor};
	
	// q_pb_design
	data.P_ref = ${P_ref};	// repeats not necessary, just for documentation
	data.design_eff = ${design_eff};
	
	// Q_rec_des
	data.solarm = ${solarm};
	data.q_pb_design = nan();	// -> calculated from above
	
	// tshours_sf
	data.tshours = ${tshours};
	data.solarm = ${solarm};
	
	success = ssc_eqn("MSPT_System_Design_Equations", data);
	if (!success) {
		${nameplate} = -999.;
		${q_pb_design} = -999.;
		${Q_rec_des} = -999.;
		${tshours_sf} = -999.;
	}
	else {
		${nameplate} = data.nameplate;
		${q_pb_design} = data.q_pb_design;
		${Q_rec_des} = data.q_rec_des;
		${tshours_sf} = data.tshours_sf;
	}
	
	return 0;
};

1047
function change_msg ( v ) {
	msg = '';
	m = 'NOT DEFINED';
	if ( v != '' ) {
		if ( v == 'dni_des' || v == 'sf_excess' ) m = 'solar field size at the design point';
		elseif ( v == 'solarm' ||
		         v == 'P_ref'  ||
		         v == 'design_eff' ) m = 'receiver thermal power at the design point';
		v_info = varinfo(v);
		if ( value('override_opt') == 0 )
			msg = 'You changed the value of ' + v_info.label + ', which changes the ' + m + '. You may want to optimize the field to ensure that the field layout and geometry are appropriate for the new value.';
	}
	property('ui_msg','Caption',msg);
}

on_load{'MSPT System Design'} = define() 
	{ change_msg(''); };
on_change{'dni_des'} = define()
	{ change_msg('dni_des'); };
on_change{'solarm'} = define() 
	{ change_msg('solarm'); };
on_change{'P_ref'} = define() 
	{ change_msg('P_ref'); };
on_change{'design_eff'} = define() 
	{ change_msg('design_eff'); };
//on_change{'tshours'} = define() { var_change_msg('tshours'); };
on_change{'sf_excess'} = define()
	{ change_msg('sf_excess'); };
