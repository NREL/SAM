Phys Trough System Control
841
431
34
GroupBox

1
8
Name
5
9
GroupBox1
X
3
6
Y
3
9
Width
3
830
Height
3
134
Tool Tip
5
0
Caption
5
24
Plant Energy Consumption
Bold
2
1
Label

1
13
Name
5
6
Label1
X
3
390
Y
3
54
Width
3
56
Height
3
21
Tool Tip
5
0
Caption
5
6
Factor
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
13
Name
5
7
Label11
X
3
447
Y
3
54
Width
3
56
Height
3
21
Tool Tip
5
0
Caption
5
7
Coeff 0
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
13
Name
5
8
Label111
X
3
504
Y
3
54
Width
3
56
Height
3
21
Tool Tip
5
0
Caption
5
7
Coeff 1
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
13
Name
5
9
Label1111
X
3
561
Y
3
54
Width
3
56
Height
3
21
Tool Tip
5
0
Caption
5
7
Coeff 2
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
LossAdjustment

1
14
Name
5
6
adjust
X
3
429
Y
3
162
Width
3
276
Height
3
67
Tool Tip
5
0
TabOrder
3
4294967295
Description
5
0
Label
5
0
Mode
3
1
AnalysisPeriod
3
25
ShowMode
2
1
AnnualEnabled
2
1
WeeklyEnabled
2
1
Numeric

1
17
Name
5
7
aux_par
X
3
195
Y
3
102
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
17
Numeric

1
17
Name
5
9
aux_par_0
X
3
447
Y
3
102
Width
3
55
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
19
Numeric

1
17
Name
5
9
aux_par_1
X
3
504
Y
3
102
Width
3
55
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
20
Numeric

1
17
Name
5
9
aux_par_2
X
3
561
Y
3
102
Width
3
55
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
21
Numeric

1
17
Name
5
9
aux_par_f
X
3
390
Y
3
102
Width
3
55
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
18
Numeric

1
17
Name
5
7
bop_par
X
3
195
Y
3
78
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
11
Numeric

1
17
Name
5
9
bop_par_0
X
3
447
Y
3
78
Width
3
55
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
13
Numeric

1
17
Name
5
9
bop_par_1
X
3
504
Y
3
78
Width
3
55
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
14
Numeric

1
17
Name
5
9
bop_par_2
X
3
561
Y
3
78
Width
3
55
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
15
Numeric

1
17
Name
5
9
bop_par_f
X
3
390
Y
3
78
Width
3
55
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
12
Numeric

1
17
Name
5
19
csp.pt.par.calc.aux
X
3
672
Y
3
102
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
22
Numeric

1
17
Name
5
19
csp.pt.par.calc.bop
X
3
672
Y
3
78
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
16
Numeric

1
17
Name
5
17
disp_csu_cost_rel
X
3
219
Y
3
342
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
14
disp_frequency
X
3
219
Y
3
315
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
12
disp_horizon
X
3
219
Y
3
288
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
13
disp_max_iter
X
3
702
Y
3
288
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
12
disp_mip_gap
X
3
702
Y
3
315
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
16
disp_pen_ramping
X
3
219
Y
3
396
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
17
disp_rsu_cost_rel
X
3
219
Y
3
369
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
19
disp_time_weighting
X
3
702
Y
3
261
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
12
disp_timeout
X
3
702
Y
3
342
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
13
disp_wlim_max
X
3
702
Y
3
396
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
17
disp_wlim_maxspec
X
3
702
Y
3
369
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
CheckBox

1
9
Name
5
11
is_dispatch
X
3
303
Y
3
261
Width
3
24
Height
3
21
Tool Tip
5
0
Caption
5
0
State
2
0
TabOrder
3
4294967295
GroupBox

1
8
Name
5
8
object 4
X
3
6
Y
3
240
Width
3
830
Height
3
186
Tool Tip
5
0
Caption
5
21
Dispatch Optimization
Bold
2
1
GroupBox

1
8
Name
5
10
object 418
X
3
6
Y
3
144
Width
3
830
Height
3
93
Tool Tip
5
0
Caption
5
19
System Availability
Bold
2
1
Label

1
13
Name
5
8
object 7
X
3
36
Y
3
165
Width
3
339
Height
3
69
Tool Tip
5
0
Caption
5
96
System availability losses reduce the system output to represent system outages or other events.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Numeric

1
17
Name
5
12
pb_fixed_par
X
3
342
Y
3
27
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4

34
adjust
3
5
Performance adjustment factors
 
System Control
0
1
1
5
1
0
LossAdjustment
aux_array
3
2
Coefficients for auxiliary heater parasitics calcs
 
System Control
0
9
1
2
1
1
0
Default
aux_par
3
1
Aux heater boiler parasitic
MWe/MWtcap
System Control
0
0
1
1
1
1
0.023
Default
aux_par_0
3
1
 
 
System Control
0
0
1
1
1
1
0.483
Default
aux_par_1
3
1
 
 
System Control
0
0
1
1
1
1
0.571
Default
aux_par_2
3
1
 
 
System Control
0
0
1
1
1
1
0
Default
aux_par_f
3
1
 
 
System Control
0
0
1
1
1
1
1
Default
bop_array
3
2
Coefficients for balance of plant parasitics calcs
 
System Control
0
9
1
2
1
1
0
Default
bop_par
3
1
Balance of plant parasitic
MWe/MWtcap
System Control
0
0
1
1
1
1
0.025
Default
bop_par_0
3
1
 
 
System Control
0
0
1
1
1
1
0
Numeric
bop_par_1
3
1
 
 
System Control
0
0
1
1
1
1
0.483
Default
bop_par_2
3
1
 
 
System Control
0
0
1
1
1
1
0
Default
bop_par_f
3
1
 
 
System Control
0
0
1
1
1
1
1
Default
csp.pt.par.calc.aux
3
1
Aux
MWe
System Control
0
8
1
1
1
1
0
Default
csp.pt.par.calc.bop
3
1
BOP
MWe
System Control
0
8
1
1
1
1
0
Default
disp_csu_cost_rel
3
1
Cycle startup cost penalty
$/MWe-cycle/start
System Control
0
2
1
1
1
1
87
Default
disp_frequency
3
1
Frequency for dispatch reoptimization
hour
System Control
0
2
1
1
1
1
24
Default
disp_horizon
3
1
Time horizon for dispatch optimization
hour
System Control
0
2
1
1
1
1
48
Default
disp_max_iter
3
1
Maximum branch and bound iterations
 
System Control
0
2
1
1
1
1
10000
Default
disp_mip_gap
3
1
Solution optimality gap tolerance
 
System Control
0
2
1
1
1
1
0.055
Default
disp_pen_ramping
3
1
Heat generation ramping penalty
$/Î”MWt
System Control
0
2
1
1
1
1
1
Default
disp_rsu_cost_rel
3
1
Receiver startup cost penalty
$/MWt-rec/start
System Control
3
1.4
2
1
1
1
1
952
Default
disp_time_weighting
3
1
Objective function time weighting exponent
 
System Control
0
2
1
1
1
1
0.99
Default
disp_timeout
3
1
Optimization solver timeout limit
sec
System Control
0
2
1
1
1
1
5
Default
disp_wlim_max
3
1
Max. net heat leaving plant (incl. availability)
MWt
System Control
0
8
1
1
1
1
0
Default
disp_wlim_maxspec
3
1
Max. net heat leaving plant
MWt
System Control
0
2
1
1
1
1
1
Default
dispatch_series
3
2
Dispatch TOD series
 
System Control
0
0
1
2
1
1
0
Default
is_dispatch
3
1
Enable dispatch optimization
 
System Control
0
2
1
1
1
1
0
Default
is_dispatch_series
3
1
Use specified TOD series
 
System Control
0
0
1
1
1
1
0
Default
is_wlim_series
3
1
Enable maximum net power limit
 
System Control
0
0
1
1
1
1
1
Default
pb_fixed_par
3
1
Fraction of rated gross power consumed all times
MWe/MWtcap
System Control
0
2
1
1
1
1
0.0055
Default
time_start
3
1
Simulation start time
sec
System Control
0
0
1
1
1
1
0
Default
time_stop
3
1
Simulation stop time
sec
System Control
0
0
1
1
1
1
31536000
Default
wlim_series
3
2
Max. net power limit by time step
 
System Control
0
0
1
2
1
1
0
Default

1464
//
//  ONLY ADD UI INDICATOR, COMBO CONVERTERS, AND
//  INPUT AGGREGATOR EQUATIONS BELOW!
//
//   If the equations change an input value
//   modify the below main MIMO or add one,
//   referencing in ssc_equations.h
//

// Just UI input aggregator
equations{ 'aux_array' } = define() {
	a[0] = ${aux_par};
	a[1] = ${aux_par_f};
	a[2] = ${aux_par_0};
	a[3] = ${aux_par_1};
	a[4] = ${aux_par_2};
	return a;
};

// Just UI input aggregator
equations{ 'bop_array' } = define() {
	a[0] = ${bop_par};
	a[1] = ${bop_par_f};
	a[2] = ${bop_par_0};
	a[3] = ${bop_par_1};
	a[4] = ${bop_par_2};
	return a;
};

// Just UI indicator
equations{ 'csp.pt.par.calc.bop' } = define() {
	return ${bop_par}*${bop_par_f}
	*( ${bop_par_0} + ${bop_par_1} + ${bop_par_2} )
	*${q_pb_design}; };

// Just UI indicator
equations{ 'csp.pt.par.calc.aux' } = define() {
	return ${aux_par}*${aux_par_f}
	*( ${aux_par_0} + ${aux_par_1} + ${aux_par_2} )
	*${q_pb_design}; };


equations{ '$MIMO$ Physical_Trough_System_Control_Equations' } = define() {
	data.is_dispatch = ${is_dispatch};
	data.disp_wlim_maxspec = ${disp_wlim_maxspec};
	data.constant = ${adjust}{'constant'};
	
	success = ssc_eqn("Physical_Trough_System_Control_Equations", data);
	if (!success) {
		${is_wlim_series} = -999;
		${disp_wlim_max} = -999;
		${wlim_series} = -999;
	}
	else {
		${is_wlim_series} = data.is_wlim_series;
		${disp_wlim_max} = data.disp_wlim_max;
		${wlim_series} = data.wlim_series;
	}
	
	return 0;
};

931
on_load{"Phys Trough System Control"} = define()
{
	on_change{"is_dispatch"}();
	enable("is_dispatch", 0); //disable dispatch opt.
	loss_adjustment_set();
};

on_change{"is_dispatch"} = define() {
     en = value("is_dispatch");
     
     enable("disp_horizon", en==1);
     enable("disp_frequency", en==1);
     enable("disp_max_iter", en==1);
     enable("disp_timeout", en==1);
     enable("disp_mip_gap", en==1);
     enable("disp_csu_cost_rel", en==1);
     enable("disp_rsu_cost_rel", en==1);
     enable("disp_pen_ramping", en==1);
     enable("disp_wlim_max", en==1);
     enable("disp_wlim_maxspec", en==1);
     enable("disp_time_weighting", en==1);
};

function loss_adjustment_set() 
{
	if (is_assigned('system_use_lifetime_output')) {
		if (value('system_use_lifetime_output') == 1) {
			property('adjust', 'AnalysisPeriod', value('analysis_period'));
		}
		else {
			property('adjust', 'AnalysisPeriod', 1);
		}
	}
}