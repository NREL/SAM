{
    "Name": "Marine Tidal Resource",
    "Width": 998.0,
    "Height": 866.0,
    "FormObjects": {
        "GroupBox": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 4"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 15.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 36.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 974.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 806.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Tidal Resource"
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Label": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "object 7"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 435.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 501.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 537.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 63.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Caption": {
                    "Type": 5.0,
                    "String": "Sum of values in the Probability Distribution column must be equal to ~1 (between 0.995 and 1.005)."
                },
                "TextColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "Bold": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "FontSize": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "WordWrap": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "AlignRight": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "AlignTop": {
                    "Type": 2.0,
                    "Boolean": 1.0
                }
            }
        },
        "Numeric": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "probability_sum"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 786.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 459.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 90.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "Value": {
                    "Type": 1.0,
                    "Double": 0.0
                },
                "Mode": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "Format": {
                    "Type": 3.0,
                    "Integer": 0.0
                },
                "Decimals": {
                    "Type": 3.0,
                    "Integer": 3.0
                },
                "Prefix": {
                    "Type": 5.0,
                    "String": ""
                },
                "Suffix": {
                    "Type": 5.0,
                    "String": ""
                },
                "ThousandsSep": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "Editable": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ForeColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 0.0,
                        "Green": 0.0,
                        "Blue": 0.0,
                        "Alpha": 255.0
                    }
                },
                "BackColour": {
                    "Type": 4.0,
                    "Color": {
                        "Red": 255.0,
                        "Green": 255.0,
                        "Blue": 255.0,
                        "Alpha": 255.0
                    }
                },
                "TabOrder": {
                    "Type": 3.0,
                    "Integer": -1.0
                }
            }
        },
        "DataMatrix": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "tidal_resource"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 24.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 57.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 400.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 775.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                },
                "PasteAppendRows": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "PasteAppendCols": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "ShowButtons": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ShowRows": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ShowRowLabels": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "RowLabels": {
                    "Type": 5.0,
                    "String": ""
                },
                "ShadeR0C0": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "VerticalLabel": {
                    "Type": 5.0,
                    "String": ""
                },
                "HorizontalLabel": {
                    "Type": 5.0,
                    "String": ""
                },
                "ShadeC0": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "ShowCols": {
                    "Type": 2.0,
                    "Boolean": 0.0
                },
                "ShowColLabels": {
                    "Type": 2.0,
                    "Boolean": 1.0
                },
                "ColLabels": {
                    "Type": 5.0,
                    "String": "Velocity (m/s),Probability Distribution"
                },
                "NumRowsLabel": {
                    "Type": 5.0,
                    "String": "Rows:"
                },
                "NumColsLabel": {
                    "Type": 5.0,
                    "String": "Cols:"
                },
                "Layout": {
                    "Type": 3.0,
                    "Integer": 1.0
                },
                "ChoiceColumn": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "Choices": {
                    "Type": 5.0,
                    "String": "Choice1,Choice2"
                },
                "HideColumn": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "ShowColumn": {
                    "Type": 3.0,
                    "Integer": -1.0
                },
                "ColorMap": {
                    "Type": 2.0,
                    "Boolean": 0.0
                }
            }
        },
        "Plot": {
            "Visible": 1.0,
            "ObjectProperties": {
                "Name": {
                    "Type": 5.0,
                    "String": "tidal_resource_curve_plot"
                },
                "X": {
                    "Type": 3.0,
                    "Integer": 432.0
                },
                "Y": {
                    "Type": 3.0,
                    "Integer": 60.0
                },
                "Width": {
                    "Type": 3.0,
                    "Integer": 540.0
                },
                "Height": {
                    "Type": 3.0,
                    "Integer": 380.0
                },
                "Tool Tip": {
                    "Type": 5.0,
                    "String": ""
                }
            }
        }
    },
    "VarDatabase": {
        "probability_sum": {
            "Version": 4.0,
            "Type": 1.0,
            "Label": "Sum of Probability Distribution Values",
            "Units": " ",
            "Group": "ME Tidal Resource",
            "IndexLabels": "",
            "Flags": 8.0,
            "DefaultValue": 0.0,
            "UIObject": "Default",
            "sscVariableName": "",
            "sscVariableValue": ""
        },
        "tidal_resource": {
            "Version": 4.0,
            "Type": 3.0,
            "Label": "Frequency distribution of resource as a function of stream speeds",
            "Units": " ",
            "Group": "ME Tidal Resource",
            "IndexLabels": "",
            "Flags": 3.0,
            "DefaultValue": [
                [
                    0.0,
                    0.009
                ],
                [
                    0.1,
                    0.031
                ],
                [
                    0.2,
                    0.042
                ],
                [
                    0.3,
                    0.044
                ],
                [
                    0.4,
                    0.048
                ],
                [
                    0.5,
                    0.049
                ],
                [
                    0.6,
                    0.053
                ],
                [
                    0.7,
                    0.051
                ],
                [
                    0.8,
                    0.052
                ],
                [
                    0.9,
                    0.056
                ],
                [
                    1.0,
                    0.05
                ],
                [
                    1.1,
                    0.052
                ],
                [
                    1.2,
                    0.05
                ],
                [
                    1.3,
                    0.048
                ],
                [
                    1.4,
                    0.047
                ],
                [
                    1.5,
                    0.043
                ],
                [
                    1.6,
                    0.042
                ],
                [
                    1.7,
                    0.04
                ],
                [
                    1.8,
                    0.034
                ],
                [
                    1.9,
                    0.031
                ],
                [
                    2.0,
                    0.026
                ],
                [
                    2.1,
                    0.023
                ],
                [
                    2.2,
                    0.02
                ],
                [
                    2.3,
                    0.016
                ],
                [
                    2.4,
                    0.013
                ],
                [
                    2.5,
                    0.011
                ],
                [
                    2.6,
                    0.007
                ],
                [
                    2.7,
                    0.005
                ],
                [
                    2.8,
                    0.004
                ],
                [
                    2.9,
                    0.002
                ],
                [
                    3.0,
                    0.001
                ],
                [
                    3.1,
                    0.0
                ],
                [
                    3.2,
                    0.0
                ],
                [
                    3.3,
                    0.0
                ]
            ],
            "UIObject": "DataMatrix",
            "sscVariableName": "",
            "sscVariableValue": ""
        }
    },
    "Equations": [
        "equations {'probability_sum'} = define() {",
        "",
        "\tresourceMatrix = ${tidal_resource};",
        "\tpsum = 0;",
        "\tfor (i=0; i<#resourceMatrix; i++)",
        "\t{",
        "\t\tpsum += resourceMatrix[i][1];",
        "\t}",
        "\treturn psum;",
        "};",
        "",
        "",
        ""
    ],
    "Callbacks": [
        "function plot_resource_curve()",
        "{",
        "\tsetplot('tidal_resource_curve_plot');",
        "\tclearplot('tidal_resource_curve_plot');",
        "\tplotopt( {'title'='Velocity Distribution','backcolor'=[255,255,255], 'popup'=true, 'legend'=false, 'legendpos'=[75,10]}  );",
        "\t",
        "//\tws_all = ${tidal_resource_definition};",
        "\tpc_all = ${tidal_resource};",
        "\tws=alloc(#pc_all);",
        "\tpc=alloc(#pc_all);",
        "\tfor (i=0;i<#pc_all;i++)",
        "\t{",
        "\t\tws[i] = pc_all[i][0];",
        "\t\tpc[i] = pc_all[i][1] *100;",
        "\t}",
        "\tplot( ws, pc, {'thick'=10, 'scale'=true,  'series'='Resource Probability', 'type'='bar', 'color'=[111,164,196]});",
        "\t",
        "\thigh = max( ws );",
        "\tlow = min( ws );",
        "\tpad = 0;",
        "\taxis( 'x1', {'label'='Velocity (m/s)', 'min'=low-pad, 'max'=high+pad });",
        "\t",
        "\thigh = max( pc );",
        "\tlow = min( pc );",
        "\tpad = 0;// (high - low) * 0.02;",
        "\taxis( 'y1', {'label'='Probability distribution (%)', 'min'=(low-pad), 'max'=(high+pad) });",
        "",
        "}",
        "",
        "on_change{'tidal_resource'}=define()",
        "{",
        "\tplot_resource_curve();",
        "};",
        "",
        "on_load{'Marine Tidal Resource'}=define()",
        "{",
        "\tplot_resource_curve();",
        "};",
        ""
    ]
}