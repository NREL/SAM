PTES System Design
869
420
27
Numeric

1
17
Name
5
17
T_CT_cold_htf_des
X
3
231
Y
3
375
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
9
Numeric

1
17
Name
5
16
T_CT_hot_htf_des
X
3
231
Y
3
351
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
8
Numeric

1
17
Name
5
17
T_HT_cold_htf_des
X
3
231
Y
3
327
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
7
Numeric

1
17
Name
5
16
T_HT_hot_htf_des
X
3
231
Y
3
303
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
6
Numeric

1
17
Name
5
22
W_dot_hp_in_thermo_des
X
3
231
Y
3
189
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
19
W_dot_pc_thermo_des
X
3
723
Y
3
93
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Button

1
8
Name
5
13
btn_design_pt
X
3
699
Y
3
369
Width
3
114
Height
3
28
Tool Tip
5
0
Caption
5
15
Design Point...
TabOrder
3
4294967295
Numeric

1
17
Name
5
15
charge_capacity
X
3
723
Y
3
303
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
17
cop_hp_thermo_des
X
3
231
Y
3
165
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
2
Numeric

1
17
Name
5
17
eta_pc_thermo_des
X
3
723
Y
3
117
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4
Numeric

1
17
Name
5
11
heater_mult
X
3
231
Y
3
93
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
1
Numeric

1
17
Name
5
9
nameplate
X
3
723
Y
3
279
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Divider

1
10
Name
5
9
object 21
X
3
15
Y
3
234
Width
3
349
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
22
Thermal Energy Storage
Bold
2
1
Divider

1
10
Name
5
11
object 2113
X
3
15
Y
3
72
Width
3
349
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
9
Heat Pump
Bold
2
1
Divider

1
10
Name
5
10
object 213
X
3
480
Y
3
72
Width
3
360
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
11
Power Cycle
Bold
2
1
Divider

1
10
Name
5
10
object 216
X
3
480
Y
3
234
Width
3
360
Height
3
16
Tool Tip
5
0
Orientation
3
0
Colour
4
120
120
120
255
Caption
5
14
System Metrics
Bold
2
1
GroupBox

1
8
Name
5
8
object 4
X
3
3
Y
3
9
Width
3
858
Height
3
405
Tool Tip
5
0
Caption
5
23
Design Point Parameters
Bold
2
1
Label

1
13
Name
5
8
object 7
X
3
21
Y
3
27
Width
3
828
Height
3
39
Tool Tip
5
0
Caption
5
231
The design point parameters determine the nominal ratings of each part of the power tower system. After specifying the design point parameters here, you can specify details of each component of the system its respective input page.
TextColour
4
0
0
0
255
Bold
2
0
FontSize
3
0
WordWrap
2
1
AlignRight
2
0
AlignTop
2
1
Numeric

1
17
Name
5
20
q_dot_hp_cold_in_des
X
3
231
Y
3
141
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
20
q_dot_hp_hot_out_des
X
3
231
Y
3
117
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
25
q_dot_pc_cold_to_CTES_des
X
3
723
Y
3
165
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
33
q_dot_pc_cold_to_surroundings_des
X
3
723
Y
3
189
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
19
q_dot_pc_hot_in_des
X
3
723
Y
3
141
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
7
rte_net
X
3
723
Y
3
327
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
10
rte_thermo
X
3
723
Y
3
255
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
7
tshours
X
3
231
Y
3
255
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Numeric

1
17
Name
5
14
tshours_heater
X
3
231
Y
3
279
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295

62
COP_net_des
3
1
 
 
PTES System Design
0
8
1
1
1
1
-999
Default
E_hp_su_des
3
1
 
MWt-hr
 
0
8
1
1
1
1
-999
Default
Q_CT_tes_des
3
1
 
MWt
 
0
8
1
1
1
1
-987
Default
Q_tes_des
3
1
 
MWt-hr
 
0
8
1
1
1
1
-999
Default
T_CT_cold_htf_des
3
1
Cold storage cold temperature
째C
 
0
2
1
1
1
1
-45
Default
T_CT_hot_htf_des
3
1
Cold storage hot temperature
째C
 
0
2
1
1
1
1
55
Default
T_HT_cold_htf_des
3
1
Hot storage cold temperature
째C
 
0
2
1
1
1
1
305
Default
T_HT_hot_htf_des
3
1
Hot storage hot temperature
째C
PTES Power Cycle
0
2
1
1
1
1
560
Default
V_CT_tes_htf_avail
3
1
 
 
 
0
0
1
1
1
1
0
Default
V_CT_tes_htf_total
3
1
 
 
 
0
0
1
1
1
1
0
Default
V_tes_htf_avail
3
1
 
m3
 
0
8
1
1
1
1
-999
Default
V_tes_htf_total
3
1
 
m3
 
0
8
1
1
1
1
-999
Default
W_dot_hp_CT_htf_pump_des
3
1
 
MWe
PTES System Design
0
8
1
1
1
1
-999
Default
W_dot_hp_HT_htf_pump_des
3
1
 
MWe
PTES System Design
0
8
1
1
1
1
-999
Default
W_dot_hp_elec_parasitic_des
3
1
 
MWe
 
0
8
1
1
1
1
-999
Default
W_dot_hp_in_net_des
3
1
Heat pump net power in
MWe
PTES System Design
0
8
1
1
1
1
-999
Default
W_dot_hp_in_thermo_des
3
1
Heat pump thermodynamic power
MWe
PTES System Design
0
8
1
1
1
1
-999
Default
W_dot_pc_CT_htf_pump_des
3
1
 
MWe
PTES System Design
0
8
1
1
1
1
-999
Default
W_dot_pc_HT_htf_pump_des
3
1
 
MWe
PTES System Design
0
8
1
1
1
1
-999
Default
W_dot_pc_elec_parasitic_des
3
1
 
MWe
PTES System Design
0
8
1
1
1
1
-999
Default
W_dot_pc_net_des
3
1
Cycle net power out
MWe
PTES System Design
0
8
1
1
1
1
-987
Default
W_dot_pc_thermo_des
3
1
Cycle thermodynamic power
MWe
PTES System Design
0
2
1
1
1
1
100
Default
cb_bop_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_contingency_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_ct_tes_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-987
Default
cb_cycle_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_direct_subtotal
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_epc_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_heater_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_installed_per_capacity_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_land_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_sales_tax_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_storage_cost_calc
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_total_direct_cost
3
1
 
$
 
0
8
1
1
1
1
-999
Default
cb_total_indirect_cost
3
1
 
$
 
0
8
1
1
1
1
-999
Default
charge_capacity
3
1
Total electricity consumption at design charge
MWe
PTES System Design
0
8
1
1
1
1
-999
Default
cop_hp_thermo_des
3
1
Heat pump coefficient of performance
 
 
0
2
1
1
1
1
1.5
Default
d_CT_tank_tes
3
1
 
m
 
0
8
1
1
1
1
-999
Default
d_tank_tes
3
1
 
m
 
0
8
1
1
1
1
-999
Default
eta_pc_net_des
3
1
 
 
PTES System Design
0
8
1
1
1
1
-999
Default
eta_pc_thermo_des
3
1
Cycle thermodynamic efficiency
 
 
0
2
1
1
1
1
0.5
Default
etes_bop_des_calc
3
1
 
$
 
0
8
1
1
1
1
0
Default
etes_financial_model
3
1
 
 
 
0
8
1
1
1
1
0
Default
heater_mult
3
1
Heater multiple
 
 
0
2
1
1
1
1
-987
Default
m_dot_hp_CT_htf_des
3
1
 
kg/s
PTES System Design
0
8
1
1
1
1
-999
Default
m_dot_hp_HT_htf_des
3
1
 
kg/s
 
0
8
1
1
1
1
-999
Default
m_dot_pc_CT_htf_des
3
1
 
kg/s
PTES System Design
0
8
1
1
1
1
-999
Default
m_dot_pc_HT_htf_des
3
1
 
kg/s
PTES System Design
0
8
1
1
1
1
-999
Default
nameplate
3
1
Net electricity output at design discharge 
MWe
 
0
8
1
1
1
1
-999
Default
q_dot_hp_cold_in_des
3
1
Heat pump heat in
MWt
PTES System Design
0
8
1
1
1
1
-999
Default
q_dot_hp_hot_out_des
3
1
Heat pump heat out
MWt
 
0
8
1
1
1
1
-999
Default
q_dot_loss_CT_tes_des
3
1
 
MWt
 
0
8
1
1
1
1
-999
Default
q_dot_loss_tes_des
3
1
 
MWt
 
0
8
1
1
1
1
-999
Default
q_dot_pc_cold_to_CTES_des
3
1
Cycle heat rejection to cold temperature TES
MWt
PTES System Design
0
8
1
1
1
1
-987
Default
q_dot_pc_cold_to_surroundings_des
3
1
Cycle heat rejection to surroundings
MWt
PTES System Design
0
8
1
1
1
1
-987
Default
q_dot_pc_hot_in_des
3
1
Cycle thermal input power
MWt
PTES System Design
0
8
1
1
1
1
-987
Default
rte_net
3
1
Net round-trip efficiency
 
PTES System Design
0
8
1
1
1
1
-999
Default
rte_thermo
3
1
Thermodynamic round-trip efficiency
 
PTES System Design
0
8
1
1
1
1
-999
Default
system_capacity
3
1
 
kWe
 
0
8
1
1
1
1
-999
Default
total_installed_cost
3
1
 
$
 
0
8
1
1
1
1
-999
Default
tshours
3
1
Hours of storage
hrs
 
0
2
1
1
1
1
10
Default
tshours_heater
3
1
Heater hours of storage
hrs
PTES System Design
0
8
1
1
1
1
0
Default

5448
equations{ 'etes_financial_model' } = define(){
	if(financing() == "Single Owner"){
		return 1;
	}
	else{
		return 1;
	}
};

equations{ '$MIMO$ ui_ptes_system_design__ptes_cmod' } = define()
{
	obj = ssc_create();
	
	//#ssc_auto_exec(obj, 'etes_ptes', 2);
		
	ret = ssc_exec(obj, 'etes_ptes');

	//ret_d = ssc_dump(obj, 'ptes_system_des_mimo_ssc_auto_exec.txt');
	
	if(ret==0) {
	
		${nameplate} = ssc_var(obj, "nameplate");
		${system_capacity} = ssc_var(obj, "system_capacity");
		${tshours_heater} = ssc_var(obj, "tshours_heater");
		${charge_capacity} = ssc_var(obj, "charge_capacity");
		${rte_net} = ssc_var(obj, "rte_net");
		${rte_thermo} = ssc_var(obj, "rte_thermo");
		${q_dot_hp_hot_out_des} = ssc_var(obj, "q_dot_hp_hot_out_des");
		${Q_tes_des} = ssc_var(obj, "Q_tes_des");
		${q_dot_pc_hot_in_des} = ssc_var(obj, "q_dot_pc_hot_in_des");
		${W_dot_pc_net_des} = ssc_var(obj, "W_dot_pc_net_des");
		${q_dot_pc_cold_to_CTES_des} = ssc_var(obj, "q_dot_pc_cold_to_CTES_des");
		${q_dot_pc_cold_to_surroundings_des} = ssc_var(obj, "q_dot_pc_cold_to_surroundings_des");
		${W_dot_hp_in_thermo_des} = ssc_var(obj, "W_dot_hp_in_thermo_des");
		${q_dot_hp_cold_in_des} = ssc_var(obj, "q_dot_hp_cold_in_des");
		${W_dot_hp_in_net_des} = ssc_var(obj, "W_dot_hp_in_net_des");
		
		// TES page
		${V_tes_htf_avail} = ssc_var(obj, "V_tes_htf_avail");
		${V_tes_htf_total} = ssc_var(obj, "V_tes_htf_total");
		${d_tank_tes} = ssc_var(obj, "d_tank_tes");
		${q_dot_loss_tes_des} = ssc_var(obj, "q_dot_loss_tes_des");
		${Q_CT_tes_des} = ssc_var(obj, "Q_CT_tes_des");
		${V_CT_tes_htf_avail} = ssc_var(obj, "V_CT_tes_htf_avail");
		${V_CT_tes_htf_total} = ssc_var(obj, "V_CT_tes_htf_total");
		${d_CT_tank_tes} = ssc_var(obj, "d_CT_tank_tes");
		${q_dot_loss_CT_tes_des} = ssc_var(obj, "q_dot_loss_CT_tes_des");

		// Heater page
		${W_dot_hp_elec_parasitic_des} = ssc_var(obj, "W_dot_hp_elec_parasitic_des");
		${m_dot_hp_HT_htf_des} = ssc_var(obj, "m_dot_hp_HT_htf_des");
		${W_dot_hp_HT_htf_pump_des} = ssc_var(obj, "W_dot_hp_HT_htf_pump_des");
		${m_dot_hp_CT_htf_des} = ssc_var(obj, "m_dot_hp_CT_htf_des");
		${W_dot_hp_CT_htf_pump_des} = ssc_var(obj, "W_dot_hp_CT_htf_pump_des");
		${COP_net_des} = ssc_var(obj, "COP_net_des");
		${E_hp_su_des} = ssc_var(obj, "E_hp_su_des");

		// Power cycle
		${W_dot_pc_elec_parasitic_des} = ssc_var(obj, "W_dot_pc_elec_parasitic_des");
		${m_dot_pc_HT_htf_des} = ssc_var(obj, "m_dot_pc_HT_htf_des");
		${W_dot_pc_HT_htf_pump_des} = ssc_var(obj, "W_dot_pc_HT_htf_pump_des");
		${m_dot_pc_CT_htf_des} = ssc_var(obj, "m_dot_pc_CT_htf_des");
		${W_dot_pc_CT_htf_pump_des} = ssc_var(obj, "W_dot_pc_CT_htf_pump_des");
		${eta_pc_net_des} = ssc_var(obj, "eta_pc_net_des");
		
		// System control page
		${etes_bop_des_calc} = ssc_var(obj, "W_dot_bop_design");
		
		// System cost page
		${cb_heater_cost_calc} = ssc_var(obj, "heater_cost_calc");
		${cb_storage_cost_calc} = ssc_var(obj, "tes_cost_calc");
		${cb_ct_tes_cost_calc} = ssc_var(obj, "CT_tes_cost_calc");
		${cb_bop_cost_calc} = ssc_var(obj, "bop_cost_calc");
		${cb_cycle_cost_calc} = ssc_var(obj, "cycle_cost_calc");
		${cb_direct_subtotal} = ssc_var(obj, "direct_subtotal_cost_calc");
		${cb_contingency_cost_calc} = ssc_var(obj, "contingency_cost_calc");
		${cb_total_direct_cost} = ssc_var(obj, "total_direct_cost_calc");
		${cb_epc_cost_calc} = ssc_var(obj, "epc_cost_calc");
		${cb_land_cost_calc} = ssc_var(obj, "land_cost_calc");
		${cb_sales_tax_cost_calc} = ssc_var(obj, "sales_tax_cost_calc");
		${cb_total_indirect_cost} = ssc_var(obj, "total_indirect_cost_calc");
		${total_installed_cost} = ssc_var(obj, "total_installed_cost");
		${cb_installed_per_capacity_cost_calc} = ssc_var(obj, "installed_per_cap_cost_calc");
	}
	else{
		vf = -789;
		
		${nameplate} = vf;
		${system_capacity} = vf;
		${tshours_heater} = vf;
		${charge_capacity} = vf;
		${rte_net} = vf;
		${rte_thermo} = vf;
		${q_dot_hp_hot_out_des} = vf;
		${Q_tes_des} = vf;
		${q_dot_pc_hot_in_des} = vf;
		${W_dot_pc_net_des} = vf;
		${q_dot_pc_cold_to_CTES_des} = vf;
		${q_dot_pc_cold_to_surroundings_des} = vf;
		${W_dot_hp_in_thermo_des} = vf;
		${q_dot_hp_cold_in_des} = vf;
		${W_dot_hp_in_net_des} = vf;
		
		// TES page
		${V_tes_htf_avail} = vf;
		${V_tes_htf_total} = vf;
		${d_tank_tes} = vf;
		${q_dot_loss_tes_des} = vf;
		${Q_CT_tes_des} = vf;
		${V_CT_tes_htf_avail} = vf;
		${V_CT_tes_htf_total} = vf;
		${d_CT_tank_tes} = vf;
		${q_dot_loss_CT_tes_des} = vf;
		
		// Heater page
		${W_dot_hp_elec_parasitic_des} = vf;
		${m_dot_hp_HT_htf_des} = vf;
		${W_dot_hp_HT_htf_pump_des} = vf;
		${m_dot_hp_CT_htf_des} = vf;
		${W_dot_hp_CT_htf_pump_des} = vf;
		${COP_net_des} = vf;
		${E_hp_su_des} = vf;
		
		// Power cycle page
		${W_dot_pc_elec_parasitic_des} = vf;
		${m_dot_pc_HT_htf_des} = vf;
		${W_dot_pc_HT_htf_pump_des} = vf;
		${m_dot_pc_CT_htf_des} = vf;
		${W_dot_pc_CT_htf_pump_des} = vf;
		${eta_pc_net_des} = vf;
		
		// System control page
		${etes_bop_des_calc} = vf;
		
		// System cost page
		${cb_heater_cost_calc} = vf;
		${cb_storage_cost_calc} = vf;
		${cb_bop_cost_calc} = vf;
		${cb_cycle_cost_calc} = vf;
		${cb_direct_subtotal} = vf;
		${cb_contingency_cost_calc} = vf;
		${cb_total_direct_cost} = vf;
		${cb_epc_cost_calc} = vf;
		${cb_land_cost_calc} = vf;
		${cb_sales_tax_cost_calc} = vf;
		${cb_total_indirect_cost} = vf;		
		${total_installed_cost} = vf;
		${cb_installed_per_capacity_cost_calc} = vf;
	}
		
	
	ssc_free( obj );
};
1129


on_change{'btn_design_pt'} = define() {
	launch_ptes_dialog();
};

function launch_ptes_dialog()
{

	hash = ptesdesignptquery(${nameplate}, 
							${tshours}, 
							${heater_mult}, 
							${elev}, 
							${hot_htf_code},
							${cold_htf_code},
							${ud_hot_htf_props},
							${ud_cold_htf_props});
	
	if ( hash != '' )
	{
		result = hash{'result_code'};	// 0=success, 1=error
		
		// Send Outputs to UI
		
		// System Design Page
		${cop_hp_thermo_des} = hash{'hp_COP'};
		${eta_pc_thermo_des} = hash{'cycle_eff'};
		${T_HT_hot_htf_des} = hash{'Th_hot'};
		${T_HT_cold_htf_des} = hash{'Th_cold'};
		${T_CT_hot_htf_des} = hash{'Tc_hot'};
		${T_CT_cold_htf_des} = hash{'Tc_cold'};
		
		// Heat Pump Page
		${f_hp_parasitic_des} = hash{'hp_parasitic_fraction'};
		${heat_pump_HT_HTF_pump_coef} = hash{'hp_hot_pump_power'};
		${heat_pump_CT_HTF_pump_coef} = hash{'hp_cold_pump_power'};
		
		// Power Cycle Page
		${f_pc_parasitic_des} = hash{'pc_parasitic_fraction'};
		${pb_pump_coef} = hash{'pc_hot_pump_power'};
		${CT_pb_pump_coef} = hash{'pc_cold_pump_power'};
		msgbox("PTES Inputs have been updated.");
	}
	
	
	
}