PTES Energy Stores
822
690
36
Numeric

1
17
Name
5
9
CT_h_tank
X
3
243
Y
3
546
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
10
Numeric

1
17
Name
5
13
CT_h_tank_min
X
3
243
Y
3
570
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
11
Numeric

1
17
Name
5
13
CT_tank_pairs
X
3
243
Y
3
618
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
12
Numeric

1
17
Name
5
9
CT_u_tank
X
3
624
Y
3
498
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
13
Numeric

1
17
Name
5
14
cold_tank_Thtr
X
3
624
Y
3
288
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
6
Numeric

1
17
Name
5
18
cold_tank_max_heat
X
3
624
Y
3
312
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
7
Numeric

1
17
Name
5
6
h_tank
X
3
243
Y
3
264
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
10
h_tank_min
X
3
243
Y
3
288
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
2
Numeric

1
17
Name
5
13
hot_tank_Thtr
X
3
624
Y
3
336
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
8
Numeric

1
17
Name
5
17
hot_tank_max_heat
X
3
624
Y
3
360
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
9
GroupBox

1
8
Name
5
8
object 4
X
3
18
Y
3
18
Width
3
789
Height
3
105
Tool Tip
5
0
Caption
5
24
System Design Parameters
Bold
2
1
GroupBox

1
8
Name
5
10
object 414
X
3
18
Y
3
417
Width
3
789
Height
3
258
Tool Tip
5
0
Caption
5
39
Cold Temperature Thermal Energy Storage
Bold
2
1
GroupBox

1
8
Name
5
9
object 45
X
3
18
Y
3
135
Width
3
789
Height
3
276
Tool Tip
5
0
Caption
5
38
Hot Temperature Thermal Energy Storage
Bold
2
1
Choice

1
9
Name
5
21
ptes_cold_htf_type_dd
X
3
405
Y
3
435
Width
3
200
Height
3
24
Tool Tip
5
0
Items
6
2
Water - Fixed Properties
User-defined...
Selection
3
4294967295
TabOrder
3
16
Choice

1
9
Name
5
20
ptes_hot_htf_type_dd
X
3
405
Y
3
153
Width
3
200
Height
3
24
Tool Tip
5
0
Items
6
3
Salt (60% NaNO3, 40% KNO3)
Salt (46.5% LiF, 11.5% NaF, 42% KF)
User-defined...
Selection
3
4294967295
TabOrder
3
14
Numeric

1
17
Name
5
10
tank_pairs
X
3
243
Y
3
336
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
24
tes_init_hot_htf_percent
X
3
624
Y
3
216
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4
Numeric

1
17
Name
5
6
u_tank
X
3
624
Y
3
240
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
MaterialProperties

1
7
Name
5
17
ud_cold_htf_props
X
3
525
Y
3
465
Width
3
123
Height
3
24
Tool Tip
5
0
TabOrder
3
17
MaterialProperties

1
7
Name
5
16
ud_hot_htf_props
X
3
525
Y
3
183
Width
3
123
Height
3
24
Tool Tip
5
0
TabOrder
3
15
Numeric

1
17
Name
5
20
ui_tes__Q_CT_tes_des
X
3
243
Y
3
498
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
17
ui_tes__Q_tes_des
X
3
243
Y
3
216
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
25
ui_tes__T_CT_htf_cold_des
X
3
624
Y
3
60
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
24
ui_tes__T_CT_htf_hot_des
X
3
624
Y
3
84
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
25
ui_tes__T_HT_htf_cold_des
X
3
240
Y
3
60
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
24
ui_tes__T_HT_htf_hot_des
X
3
240
Y
3
84
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
26
ui_tes__V_CT_tes_htf_avail
X
3
243
Y
3
522
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
26
ui_tes__V_CT_tes_htf_total
X
3
243
Y
3
594
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
23
ui_tes__V_tes_htf_avail
X
3
243
Y
3
240
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
23
ui_tes__V_tes_htf_total
X
3
243
Y
3
312
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
21
ui_tes__d_CT_tank_tes
X
3
243
Y
3
642
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
18
ui_tes__d_tank_tes
X
3
243
Y
3
360
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
29
ui_tes__q_dot_loss_CT_tes_des
X
3
624
Y
3
522
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
26
ui_tes__q_dot_loss_tes_des
X
3
624
Y
3
264
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
20
ui_tes__q_dot_pc_des
X
3
240
Y
3
36
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295
Numeric

1
17
Name
5
15
ui_tes__tshours
X
3
624
Y
3
36
Width
3
90
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4294967295

35
CT_h_tank
3
1
Tank height
m
 
0
2
1
1
1
1
12
Default
CT_h_tank_min
3
1
Tank fluid minimum height
m
 
0
2
1
1
1
1
1
Default
CT_tank_pairs
3
1
Parallel tank pairs
 
 
0
2
1
1
1
1
1
Default
CT_u_tank
3
1
Wetted loss coefficient
Wt/m²-K
 
0
2
1
1
1
1
0.4
Default
cold_htf_code
3
1
 
 
 
0
8
1
1
1
1
-987
Default
cold_tank_Thtr
3
1
Cold tank heater temperature set point
°C
 
0
2
1
1
1
1
280
Default
cold_tank_max_heat
3
1
Cold tank heater capacity
MWe
 
0
2
1
1
1
1
15
Default
h_tank
3
1
Tank height
m
 
0
2
1
1
1
1
12
Default
h_tank_min
3
1
Tank fluid minimum height
m
 
0
2
1
1
1
1
1
Default
hot_htf_code
3
1
 
 
 
0
8
1
1
1
1
-987
Default
hot_tank_Thtr
3
1
Hot tank heater temperature set point
°C
 
0
2
1
1
1
1
500
Default
hot_tank_max_heat
3
1
Hot tank heater capacity
MWe
 
0
2
1
1
1
1
30
Default
ptes_cold_htf_type_dd
3
1
Cold Storage Fluid
 
 
0
0
1
1
1
1
0
Default
ptes_hot_htf_type_dd
3
1
 Hot Storage Fluid
 
 
0
0
1
1
1
1
0
Numeric
tank_pairs
3
1
Parallel tank pairs
 
 
0
2
1
1
1
1
1
Default
tes_init_hot_htf_percent
3
1
Initial hot HTF percent
%
 
0
2
1
1
1
1
0
Default
u_tank
3
1
Wetted loss coefficient
Wt/m²-K
 
0
2
1
1
1
1
0.4
Default
ud_cold_htf_props
3
3
Property table for user-defined cold storage fluid
 
 
0
0
1
3
1
9
1 7 0 0 0 0 0 0 0 

MaterialProperties
ud_hot_htf_props
3
3
 Property table for user-defined hot storage fluid
 
 
0
0
1
3
1
9
1 7 0 0 0 0 0 0 0 

MaterialProperties
ui_tes__Q_CT_tes_des
3
1
TES thermal capacity
MWt-hr
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__Q_tes_des
3
1
TES thermal capacity
MWt-hr
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__T_CT_htf_cold_des
3
1
Cold storage cold temperature
°C
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__T_CT_htf_hot_des
3
1
Cold storage hot temperature
°C
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__T_HT_htf_cold_des
3
1
Hot storage cold temperature
°C
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__T_HT_htf_hot_des
3
1
Hot storage hot temperature
°C
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__V_CT_tes_htf_avail
3
1
Available HTF volume
m³
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__V_CT_tes_htf_total
3
1
Total HTF volume
m³
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__V_tes_htf_avail
3
1
Available HTF volume
m³
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__V_tes_htf_total
3
1
Total HTF volume
m³
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__d_CT_tank_tes
3
1
Tank diameter
m
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__d_tank_tes
3
1
Tank diameter
m
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__q_dot_loss_CT_tes_des
3
1
Estimated heat loss
MWt
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__q_dot_loss_tes_des
3
1
Estimated heat loss
MWt
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__q_dot_pc_des
3
1
Cycle thermal input power
MWt
PTES Energy Storage
0
8
1
1
1
1
-999
Default
ui_tes__tshours
3
1
Hours of storage
hrs
PTES Energy Storage
0
8
1
1
1
1
-999
Default

1747
equations{ 'hot_htf_code' } = define() {
	return ?${ptes_hot_htf_type_dd}
	[
		17, // 17.) Salt (60% NaNO3, 40% KNO3)
		10, // 10.) Salt (46.5% LiF 11.5% NaF 42% KF)
		50 // 36+) User specified (lookup tables)
   	];
};

equations{ 'cold_htf_code' } = define() {
	return ?${ptes_cold_htf_type_dd}
	[
		3,	// Water, constant props (will not freeze/boil)
		50 	// 36+) User specified (lookup tables)
   	];
};

equations{ 'ui_tes__Q_tes_des' } = define() {
	return ${Q_tes_des};
};

equations{ 'ui_tes__V_tes_htf_avail' } = define() {
	return ${V_tes_htf_avail};
};

equations{ 'ui_tes__V_tes_htf_total' } = define() {
	return ${V_tes_htf_total};
};

equations{ 'ui_tes__d_tank_tes' } = define() {
	return ${d_tank_tes};
};

equations{ 'ui_tes__q_dot_loss_tes_des' } = define() {
	return ${q_dot_loss_tes_des};
};

equations{ 'ui_tes__Q_CT_tes_des' } = define() {
	return ${Q_CT_tes_des};
};

equations{ 'ui_tes__V_CT_tes_htf_avail' } = define() {
	return ${V_CT_tes_htf_avail};
};

equations{ 'ui_tes__V_CT_tes_htf_total' } = define() {
	return ${V_CT_tes_htf_total};
};

equations{ 'ui_tes__d_CT_tank_tes' } = define() {
	return ${d_CT_tank_tes};
};

equations{ 'ui_tes__q_dot_loss_CT_tes_des' } = define() {
	return ${q_dot_loss_CT_tes_des};
};

equations{ 'ui_tes__q_dot_pc_des' } = define() {
	return ${q_dot_pc_hot_in_des};
};

equations{ 'ui_tes__tshours' } = define() {
	return ${tshours};
};

equations{ 'ui_tes__T_HT_htf_cold_des' } = define() {
	return ${T_HT_cold_htf_des};
};

equations{ 'ui_tes__T_HT_htf_hot_des' } = define() {
	return ${T_HT_hot_htf_des};
};

equations{ 'ui_tes__T_CT_htf_cold_des' } = define() {
	return ${T_CT_cold_htf_des};
};

equations{ 'ui_tes__T_CT_htf_hot_des' } = define() {
	return ${T_CT_hot_htf_des};
};

426
on_load{'PTES Energy Stores'} = define() {
	on_change{"ptes_hot_htf_type_dd"}();
	on_change{"ptes_cold_htf_type_dd"}();
};

on_change{"ptes_hot_htf_type_dd"}=define(){
	
    bUserDefined = (value("ptes_hot_htf_type_dd") == 2);
    enable("ud_hot_htf_props", bUserDefined);

};

on_change{"ptes_cold_htf_type_dd"}=define(){

	bUserDefined = (value("ptes_cold_htf_type_dd") == 1);
	enable("ud_cold_htf_props", bUserDefined);

};