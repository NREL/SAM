Empirical Trough Solar Field
844
671
49
Numeric

1
17
Name
5
8
DepAngle
X
3
255
Y
3
162
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
7
Numeric

1
17
Name
5
12
Distance_SCA
X
3
255
Y
3
90
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
4
GroupBox

1
8
Name
5
9
GroupBox1
X
3
6
Y
3
6
Width
3
407
Height
3
212
Tool Tip
5
0
Caption
5
12
Field Layout
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox2
X
3
6
Y
3
219
Width
3
407
Height
3
380
Tool Tip
5
0
Caption
5
19
Heat Transfer Fluid
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox3
X
3
423
Y
3
6
Width
3
413
Height
3
425
Tool Tip
5
0
Caption
5
29
Solar Multiple (Design Point)
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox4
X
3
432
Y
3
27
Width
3
395
Height
3
77
Tool Tip
5
0
Caption
5
17
Calculated Values
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox5
X
3
432
Y
3
108
Width
3
395
Height
3
101
Tool Tip
5
0
Caption
5
35
Solar Multiple Reference Conditions
Bold
2
1
GroupBox

1
8
Name
5
10
GroupBox51
X
3
423
Y
3
558
Width
3
413
Height
3
98
Tool Tip
5
0
Caption
5
9
Land Area
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox6
X
3
432
Y
3
213
Width
3
395
Height
3
80
Tool Tip
5
0
Caption
5
26
Reference Condition (SM=1)
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox7
X
3
432
Y
3
297
Width
3
395
Height
3
125
Tool Tip
5
0
Caption
5
23
Values From Other Pages
Bold
2
1
GroupBox

1
8
Name
5
9
GroupBox8
X
3
423
Y
3
435
Width
3
413
Height
3
119
Tool Tip
5
0
Caption
5
11
Orientation
Bold
2
1
Numeric

1
17
Name
5
10
HtfGalArea
X
3
255
Y
3
555
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
20
Label

1
13
Name
5
6
Label3
X
3
438
Y
3
525
Width
3
353
Height
3
21
Tool Tip
5
0
Caption
5
37
Azimuth: equator=0, west=90, east=-90
TextColour
4
255
128
64
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Label

1
13
Name
5
7
Label31
X
3
438
Y
3
504
Width
3
353
Height
3
21
Tool Tip
5
0
Caption
5
31
Tilt: horizontal=0, vertical=90
TextColour
4
255
128
64
255
Bold
2
0
FontSize
3
0
WordWrap
2
0
AlignRight
2
0
AlignTop
2
0
Numeric

1
17
Name
5
10
MinHtfTemp
X
3
255
Y
3
531
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
19
Numeric

1
17
Name
5
7
NumScas
X
3
255
Y
3
138
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
6
Numeric

1
17
Name
5
12
Row_Distance
X
3
255
Y
3
114
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
5
Numeric

1
17
Name
5
10
SFTempInit
X
3
255
Y
3
387
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
13
Numeric

1
17
Name
5
9
SfInTempD
X
3
255
Y
3
339
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
11
Numeric

1
17
Name
5
10
SfOutTempD
X
3
255
Y
3
363
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
12
Numeric

1
17
Name
5
9
SfPipeHl1
X
3
255
Y
3
435
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
15
Numeric

1
17
Name
5
9
SfPipeHl2
X
3
255
Y
3
459
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
16
Numeric

1
17
Name
5
9
SfPipeHl3
X
3
255
Y
3
483
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
17
Numeric

1
17
Name
5
11
SfPipeHl300
X
3
255
Y
3
411
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
14
Numeric

1
17
Name
5
16
Solar_Field_Area
X
3
663
Y
3
72
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
0
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
25
Numeric

1
17
Name
5
16
Solar_Field_Mult
X
3
663
Y
3
48
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
24
Numeric

1
17
Name
5
10
Stow_Angle
X
3
255
Y
3
186
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
8
Numeric

1
17
Name
5
7
azimuth
X
3
663
Y
3
480
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
36
Numeric

1
17
Name
5
4
tilt
X
3
663
Y
3
456
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
35
Numeric

1
17
Name
5
24
ui_aperture_area_per_SCA
X
3
663
Y
3
318
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
31
MaterialProperties

1
7
Name
5
13
ui_custom_htf
X
3
255
Y
3
261
Width
3
98
Height
3
27
Tool Tip
5
0
TabOrder
3
10
Numeric

1
17
Name
5
25
ui_design_exact_area_sm_1
X
3
663
Y
3
237
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
29
Numeric

1
17
Name
5
29
ui_design_exact_num_scas_sm_1
X
3
663
Y
3
261
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
2
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
30
Numeric

1
17
Name
5
31
ui_field_htf_max_operating_temp
X
3
255
Y
3
315
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
16
Numeric

1
17
Name
5
31
ui_field_htf_min_operating_temp
X
3
255
Y
3
291
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
16
Choice

1
9
Name
5
17
ui_field_htf_type
X
3
213
Y
3
237
Width
3
142
Height
3
23
Tool Tip
5
0
Items
6
9
Solar Salt
Caloria
Hitec XL
VP-1
Hitec
Dowtherm Q
Dowtherm RP
Therminol 59
Therminol 66
Selection
3
0
TabOrder
3
9
RadioChoice

1
11
Name
5
22
ui_field_layout_option
X
3
15
Y
3
30
Width
3
107
Height
3
44
Tool Tip
5
0
Selection
3
4294967295
Items
6
2
Option 1:
Option 2:
ShowCaptions
2
1
Horizontal
2
0
TabOrder
3
1
Numeric

1
17
Name
5
18
ui_fixed_land_area
X
3
663
Y
3
576
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
0
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
21
Numeric

1
17
Name
5
34
ui_hce_weighted_optical_efficiency
X
3
663
Y
3
366
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
33
Numeric

1
17
Name
5
30
ui_hce_weighted_thermal_losses
X
3
663
Y
3
342
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
32
Numeric

1
17
Name
5
18
ui_land_multiplier
X
3
663
Y
3
600
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
22
Numeric

1
17
Name
5
14
ui_pb_q_design
X
3
663
Y
3
390
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
34
Numeric

1
17
Name
5
19
ui_piping_heat_loss
X
3
255
Y
3
507
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
1
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
18
Numeric

1
17
Name
5
32
ui_reference_ambient_temperature
X
3
663
Y
3
129
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
26
Numeric

1
17
Name
5
37
ui_reference_direct_normal_irradiance
X
3
663
Y
3
153
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
27
Numeric

1
17
Name
5
23
ui_reference_wind_speed
X
3
663
Y
3
177
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
28
Numeric

1
17
Name
5
19
ui_solar_field_area
X
3
255
Y
3
51
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
3
Numeric

1
17
Name
5
17
ui_solar_multiple
X
3
255
Y
3
27
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
1
Decimals
3
3
Prefix
5
0
Suffix
5
0
ThousandsSep
2
0
Editable
2
1
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
2
Numeric

1
17
Name
5
18
ui_total_land_area
X
3
663
Y
3
624
Width
3
100
Height
3
21
Tool Tip
5
0
Value
1
0
Mode
3
1
Format
3
0
Decimals
3
0
Prefix
5
0
Suffix
5
0
ThousandsSep
2
1
Editable
2
0
ForeColour
4
0
0
0
255
BackColour
4
255
255
255
255
TabOrder
3
23

43
DepAngle
3
1
Deploy Angle
deg
Empirical Trough Solar Field
0
2
1
1
1
1
10
Numeric
Distance_SCA
3
1
Distance Between SCAs in Row
m
Empirical Trough Solar Field
0
2
1
1
1
1
1
Numeric
HTFFluid
3
1
 
 
 
0
8
1
1
1
1
0
Default
HtfGalArea
3
1
HTF Gallons per Area
gal/m2
Empirical Trough Solar Field
0
2
1
1
1
1
0.614
Numeric
MinHtfTemp
3
1
Minimum HTF Temp.
'C
Empirical Trough Solar Field
0
2
1
1
1
1
50
Numeric
NumScas
3
1
Number of SCAs per Row
 
Empirical Trough Solar Field
0
2
1
1
1
1
4
Numeric
Row_Distance
3
1
Row Spacing, Center to Center
m
Empirical Trough Solar Field
0
2
1
1
1
1
15
Numeric
SFTempInit
3
1
Solar Field Initial Temp.
'C
Empirical Trough Solar Field
0
2
1
1
1
1
100
Numeric
SfInTempD
3
1
Solar Field Inlet Temp.
'C
Empirical Trough Solar Field
0
2
1
1
1
1
293
Numeric
SfOutTempD
3
1
Solar Field Outlet Temp.
'C
Empirical Trough Solar Field
0
2
1
1
1
1
391
Numeric
SfPipeHl1
3
1
Piping Heat Loss Coefficient 1
 
Empirical Trough Solar Field
0
2
1
1
1
1
0.001693
Numeric
SfPipeHl2
3
1
Piping Heat Loss Coefficient 2
 
Empirical Trough Solar Field
0
2
1
1
1
1
-1.683e-05
Numeric
SfPipeHl3
3
1
Piping Heat Loss Coefficient 3
 
Empirical Trough Solar Field
0
2
1
1
1
1
6.78e-08
Numeric
SfPipeHl300
3
1
Piping Heat Loss at Design Temp.
W/m2
Empirical Trough Solar Field
0
2
1
1
1
1
10
Numeric
Solar_Field_Area
3
1
Aperture Reflective Area
m^2
Empirical Trough Solar Field
0
8
1
1
1
1
0
Numeric
Solar_Field_Mult
3
1
Solar Multiple
 
Empirical Trough Solar Field
0
8
1
1
1
1
0
Numeric
Stow_Angle
3
1
Stow Angle
deg
Empirical Trough Solar Field
0
2
1
1
1
1
170
Numeric
azimuth
3
1
Collector Azimuth
deg
Empirical Trough Solar
0
2
1
1
1
1
0
Numeric
calc_aperture_area_at_sm_1
3
1
none
 
 
0
0
1
1
1
1
0
Default
calc_field_htf_average_temp
3
1
none
 
 
0
0
1
1
1
1
0
Default
i_SfTi
3
1
 
 
 
0
8
1
1
1
1
0
Default
tilt
3
1
Collector Tilt
deg
Empirical Trough Solar Field
0
2
1
1
1
1
0
Numeric
track_mode
3
1
 
 
 
0
8
1
1
1
1
1
Default
ui_aperture_area_per_SCA
3
1
Aperture Area per SCA
m2/SCA
Empirical Trough Solar Field
0
8
1
1
1
1
470.3
Numeric
ui_custom_htf
3
3
Property table for user-defined HTF
 
Empirical Trough Solar Field
0
0
1
3
1
9
1 7 0 0 0 0 0 0 0 

MaterialProperties
ui_design_exact_area_sm_1
3
1
Exact Aperture Reflective Area
m2
Empirical Trough Solar Field
0
8
1
1
1
1
438591
Numeric
ui_design_exact_num_scas_sm_1
3
1
Exact Number of SCAs
 
Empirical Trough Solar Field
0
8
1
1
1
1
932.578
Numeric
ui_field_htf_max_operating_temp
3
1
Field HTF Max Operating Temp.
'C
Empirical Trough Solar Field
0
8
1
1
1
1
0
Numeric
ui_field_htf_min_operating_temp
3
1
Field HTF Min Operating Temp.
'C
Empirical Trough Solar Field
0
8
1
1
1
1
0
Numeric
ui_field_htf_type
3
1
Solar Field HTF Type
 
Empirical Trough Solar Field
109
Hitec Solar Salt|Caloria HT 43|Hitec XL|Therminol VP-1|Hitec|Dowtherm Q|Dowtherm RP|Therminol 59|Therminol 66
2
1
1
1
1
3
Choice
ui_field_layout_option
3
1
 
 
Empirical Trough Solar Field
0
0
1
1
1
1
0
RadioChoice
ui_fixed_land_area
3
1
Solar Field Land Area
acres
Empirical Trough Solar Field
0
8
1
1
1
1
0
Numeric
ui_hce_weighted_optical_efficiency
3
1
Optical Efficiency
 
Empirical Trough Solar Field
0
8
1
1
1
1
0.754473
Numeric
ui_hce_weighted_thermal_losses
3
1
HCE Thermal Losses
W/m2
Empirical Trough Solar Field
0
8
1
1
1
1
36.1005
Numeric
ui_land_multiplier
3
1
Non-Solar Field Land Area Multiplier
 
Empirical Trough Solar Field
0
2
1
1
1
1
1.4
Numeric
ui_pb_q_design
3
1
Design Turbine Thermal Input
MWt
Empirical Trough Solar Field
0
8
1
1
1
1
294.118
Numeric
ui_piping_heat_loss
3
1
Solar Field Piping Heat Losses
W/m2
Empirical Trough Solar Field
0
8
1
1
1
1
0
Numeric
ui_reference_ambient_temperature
3
1
Ambient Temp.
'C
Empirical Trough Solar Field
0
2
1
1
1
1
25
Numeric
ui_reference_direct_normal_irradiance
3
1
Direct Normal Radiation
W/m2
Empirical Trough Solar Field
0
2
1
1
1
1
950
Numeric
ui_reference_wind_speed
3
1
Wind Velocity
m/s
Empirical Trough Solar Field
0
2
1
1
1
1
5
Numeric
ui_solar_field_area
3
1
Solar Field Area
m2
Empirical Trough Solar Field
0
2
1
1
1
1
887875
Numeric
ui_solar_multiple
3
1
Solar Multiple
 
Empirical Trough Solar Field
0
2
1
1
1
1
2
Numeric
ui_total_land_area
3
1
Total Land Area
acres
Empirical Trough Solar Field
0
8
1
1
1
1
0
Numeric

4098
// FOR STEVE
//SSC variables not in UI
//equations { 'tilt' } = define() { return ${ColTilt}; };
//equations { 'azimuth' } = define() { return ${ColAz}; };
//equations {  'RefMirrAper' } = define() { 
//  a[0] = ${Solar_Field_Area};
//  a[1] = ${Solar_Field_Area};
//  a[2] = ${Solar_Field_Area};
//  a[3] = ${Solar_Field_Area}; 
//  return a; 
//};
 
 // FOR STEVE 
 //SSC constants (required but not used?)
// equations { 'Site_Lat' } = define() { return 32.11667; };
 //equations { 'Site_LongD' } = define() { return -110.933333f; };
 //equations { 'SHIFT' } = define() { return -7; };
 //equations { 'LU_Fl' } = define() { return 21.0; };
 //equations { 'LuFlEr' } = define() { return 0.0; };
 equations { 'i_SfTi' } = define() { return -999.0; };
 //equations { 'ColType' } = define() { return 1.0; };

// Calculated values
equations{ 'calc_field_htf_average_temp' } = define() 
{
	return 0.5
	* ( ${SfInTempD} + ${SfOutTempD} )
	- ${ui_reference_ambient_temperature}; 
};

equations{ 'ui_aperture_area_per_SCA' } = define() 
{
	return ${ui_sca_aperture_area};
};

equations{ 'ui_piping_heat_loss' } = define() 
{
	return 
	(   ${SfPipeHl3} * ${calc_field_htf_average_temp}^3 
	  + ${SfPipeHl2} * ${calc_field_htf_average_temp}^2
	  + ${SfPipeHl1} * ${calc_field_htf_average_temp} 
     ) * ${SfPipeHl300}; 
};

equations{ 'ui_fixed_land_area' } = define() 
{
	return (${Solar_Field_Mult}
    * ${ui_design_exact_area_sm_1}) 
    * ${Row_Distance} 
    / ${SCA_aper} * 0.0002471; 
};

equations{ 'ui_design_exact_area_sm_1' } = define() 
{
	return ${ui_pb_q_design}/
( (${ui_reference_direct_normal_irradiance}
   * ${ui_hce_weighted_optical_efficiency}
   - ${ui_hce_weighted_thermal_losses}
   - ${ui_piping_heat_loss} )
   / 1000000 ); 
};


equations{ 'ui_pb_q_design' } = define() 
{
	return ${ui_q_design};
};

equations{ 'ui_total_land_area' } = define() 
{
	return ${ui_fixed_land_area} 
	* ${ui_land_multiplier}; 
};

equations{ 'ui_design_exact_num_scas_sm_1' } = define() 
{
	return ${ui_design_exact_area_sm_1}
	/ ${ui_sca_aperture_area}; 
};

equations{ 'ui_hce_weighted_optical_efficiency' } = define() 
{
	return ${ui_hce_opt_eff_weighted};
};

equations{ 'ui_field_htf_min_operating_temp' } = define() 
{
	return ?${ui_field_htf_type}
    [
	  238, /* fluid num 18 */
	  -12, /* fluid num 19 */
	  120, /* fluid num 20 */
	  12,  /* fluid num 21 */
	  142, /* fluid num 22 */
	  -35, /* fluid num 23 */
	  0,   /* fluid num 24 */
	  -45, /* fluid num 30 */
	  0,   /* fluid num 29 */
	  0    /* user fluid */
   ]; 
};

equations{ 'ui_field_htf_max_operating_temp' } = define() 
{
	return ?${ui_field_htf_type}
    [
	  593, /* fluid num 18 */
	  315, /* fluid num 19 */
	  500, /* fluid num 20 */
	  400, /* fluid num 21 */
	  538, /* fluid num 22 */
	  330, /* fluid num 23 */
	  330, /* fluid num 24 */
	  315, /* fluid num 30 */
	  345, /* fluid num 29 */
	  0    /* user fluid */
    ]; 
};

equations{ 'ui_hce_weighted_thermal_losses' } = define() 
{
	return ${ui_hce_thermloss_weighted_m2};
};

equations{ 'calc_aperture_area_at_sm_1' } = define() 
{
	return ceil(${ui_design_exact_num_scas_sm_1})
	* ${ui_sca_aperture_area}; 
};

equations{ 'Solar_Field_Mult' } = define() 
{
	return ?${ui_field_layout_option}
	[
      ${ui_solar_multiple}, // solar multiple mode
      ${ui_solar_field_area} // solar field area mode
      / ${calc_aperture_area_at_sm_1}
    ]; 
 };

equations{ 'Solar_Field_Area' } = define() 
{
	return ?${ui_field_layout_option}
	[
      ${ui_solar_multiple} // solar multiple mode
      * ${calc_aperture_area_at_sm_1},
      ${ui_solar_field_area} // solar field area mode
    ];
};

equations{ 'HTFFluid' } = define() 
{
	return ?${ui_field_htf_type}
	[
		18, // Fluid Number 18: Nitrate Salt
		19, // Fluid Number 19: Caloria HT 43
		20, // Fluid Number 20: Hitec XL
		21, // Fluid Number 21: Therminol VP-1
		22, // Fluid Number 22: Hitec
		23, // Fluid Number 23: Dowtherm Q
		24, // Fluid Number 24: Dowtherm RP
		30, // Fluid Number 30: Therminol 59
		29, // Fluid Number 29: Therminol 66    
		36  // Fluid Number 36: user defined
	];
};

1539
on_load{'Empirical Trough Solar Field'} = define()
{
	on_change{'ui_field_htf_type'}();
	on_change{'ui_field_layout_option'}();

};

on_change{'ui_field_layout_option'} = define() 
{
  state = value('ui_field_layout_option');
  enable ('ui_solar_multiple', state == 0);
  enable ('ui_solar_field_area', state == 1);
};

on_change{'ui_field_htf_type'} = define()
{	
	// Option 9 was "User-defined" but removed
	// as per https://github.com/NREL/SAM/issues/316 
	// see also ui_tes_htf_type on 
	// Empirical Trough Thermal Storage page
	bCustomHTF = value('ui_field_htf_type') == 9;
	//enable( 'ui_custom_htf', bCustomHTF ); 
	show('ui_custom_htf',bCustomHTF);
	enable( 'ui_field_htf_min_operating_temp', !bCustomHTF );
	enable( 'ui_field_htf_max_operating_temp', !bCustomHTF );	
	
	// max operating temp
	max_temp = ?${ui_field_htf_type}
	[
		593, /* fluid num 18 */
		315, /* fluid num 19 */
		500, /* fluid num 20 */
		400, /* fluid num 21 */
		538, /* fluid num 22 */
		330, /* fluid num 23 */
		330, /* fluid num 24 */
		315, /* fluid num 30 */
		345, /* fluid num 29 */
		0    /* user fluid */
	];
	value('ui_field_htf_max_operating_temp', max_temp );
	
	// min operating temp
	min_temp = ?${ui_field_htf_type}
	[
		238, /* fluid num 18 */
		-12, /* fluid num 19 */
		120, /* fluid num 20 */
		12,  /* fluid num 21 */
		142, /* fluid num 22 */
		-35, /* fluid num 23 */
		0,   /* fluid num 24 */
		-45, /* fluid num 30 */
		0,   /* fluid num 29 */
		0    /* user fluid */
	];
	value( 'ui_field_htf_min_operating_temp', min_temp );
};
