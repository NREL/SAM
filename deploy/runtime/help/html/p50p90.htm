<!DOCTYPE html>
<html>
<head>
   <title>P50/P90 Analysis</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="A P90 value is a value that is expected to be met or exceeded 90% of the time. SAM can generate P50 and P90 values for a system's annual energy output and other metrics by..." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited { color: #999; }
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "advanced_topics.htm",
   prevP: "excel_exchange.htm",
   currP: "p50p90.htm",
   defP: "introduction.htm",
   titleP: "P50/P90 Analysis",
   mailsubject: "Feedback on: SAM Help - P50/P90 Analysis",
   simplesubject: "Documentation%20Feedback",
   mailid: "p50p90",
   mailpath: "Analysis Options &gt; P50/P90 Analysis /",
   mailbody: "Dear SAM Support,",
   mailrecipient: "SAM Support <sam.support@nrel.gov>",
   simplerecipient: "sam.support@nrel.gov",
   fbtype: false,
   header: true,
   background: "bg.png",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = false;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Contents",
   atoc_tip: "Jump to:&nbsp;",
   atoc_minHeaders: 2,
   atoc_btntip_off: "No contents entries on this page",
   atoc_btntip_on: "Display/hide topic directory",
   atoc_toptip: "Jump to top of page",
   atoc_top: "Scroll to Top of Page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click to sort on this column",
   umlauts: "false"
   }

</script>

<script type="text/javascript"> 
$(document).ready(function() {
var doc = document;  
try {
if (parent.hmWebHelp.navWidth != null) doc = parent.document;
doc.title = $("<div/>").html("SAM Help - P50/P90 Analysis").text();
window.onunload = function() {doc.title = $("<div/>").html("SAM Help").text();}
} catch(err) {}
});
</script>
<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "p50p90.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->
<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>P50/P90 Analysis</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs">
<b>Navigation:</b>
<a href="simulation_options.htm">Analysis Options</a>:</p> 
<h1 class="p_Heading1"><span class="f_Heading1">P50/P90 Analysis</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No contents entries on this page" title="No contents entries on this page" />
<br /><span>Contents</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>

<!--ZOOMRESTART-->
<p class="p_Text"><span class="f_Text">A P90 value is a value that is expected to be met or exceeded 90% of the time. SAM can generate P50 and P90 values for a system's annual energy output and other metrics by running hourly simulations over a multi-year period. </span></p>
<p class="p_Note"><span class="f_CHNote">Notes.</span><span class="f_Note"> </span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">Because a P50/P90 analysis involves running simulations for multiple years, depending on the type of system you are simulating, it may take several minutes to complete a P50/P90 simulation run.</span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">The </span><span class="f_CHInterfaceElement">year-to-year decline</span><span class="f_Note"> in output value on the <a href="fin_annual_performance.htm" class="topiclink">Performance Adjustment</a> page does not affect the Net Annual Energy values that SAM reports in the P50/P90 analysis results. However it does affect the LCOE value because SAM calculates the LCOE over the analysis period for each weather file year and applies the year-to-year decline value to calculate the annual system output over the analysis period.</span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">For a description of SAM's P50/P90 methodology, see Dobos, A. P.; Gilman, P.; Kasberg, M. (2012). P50/P90 Analysis for Solar Energy Systems Using the System Advisor Model: Preprint. 8 pp.; NREL Report No. CP-6A20-54488. (<a href="http://www.nrel.gov/docs/fy12osti/54488.pdf" target="_blank" class="weblink" title="http://www.nrel.gov/docs/fy12osti/54488.pdf">PDF 372 KB)</a></span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To display the P50/P90 analysis setup options:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">On the main window, click Configure Simulations to view the Configure Simulations page.</span></p><p class="p_ProcedureStepNoNumber"><img src="ss_mainwindow-configuresimulationsbutton.gif" width="247" height="86" alt="SS_MainWindow-ConfigureSimulationsButton" style="border:none" /></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">On the Configure Simulations page, click </span><span class="f_CHInterfaceElement">P50/P90 Analysis</span><span class="f_ProcedureStep"> to display the P50/P90 setup options.</span></p><p class="p_ProcedureStepNoNumber"><img src="ss_configuresimulations-p50p90.gif" width="647" height="64" alt="SS_ConfigureSimulations-P50P90" style="border:none" /></p>
<h4 class="p_Heading4"><span class="f_Heading4">P50/P90 Analysis</span></h4>
<p class="p_Text"><span class="f_Text">The P50/P90 Analysis setup options allow you to select your weather information database file, search for a location within that database, select your location, and enable or disable P50/P90 analysis simulation. SAM uses the .cbwfdb file format for P50/P90 analysis.</span></p>
<p class="p_VariableName"><span class="f_VariableName">Enable P50/P90 Analysis</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The P50/P90 analysis simulation will only run if this box is checked.</span></p>
<p class="p_VariableName"><span class="f_VariableName">Weather database file</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The full weather database file's name and path.</span></p>
<p class="p_VariableName"><span class="f_VariableName">Filter</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Type a few characters of a location name or station ID to find files from the database, and click the location to s</span><span class="f_Text">elect the location for which you want to run a P50/P90 analysis.</span></p>
<p class="p_VariableName"><span class="f_VariableName">&nbsp;</span></p>
<h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Downloading the Full Weather Database File</span></h3>
<p class="p_Text"><span class="f_Text">The P50/P90 analysis capability requires a special weather file containing multi-year solar irradiance and meteorological data. SAM comes with a few sample locations pre-installed. For more locations, you can download the full weather database file. The full weather database file contains data for many U.S. locations. </span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> You only need to download the full weather database file once.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To download the full weather database file:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Click the link on the P50/P90 analysis page, or go to <a href="http://en.openei.org/datasets/node/872" target="_blank" class="weblink">http://en.openei.org/datasets/node/872</a>.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">Download the database file (about 1.3 GB, with the .cbwfdb extension) and save it to a folder on your computer.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">Click the </span><span class="f_CHInterfaceElement">Weather database file</span><span class="f_ProcedureStep"> <img src="ss_button-ellipses.gif" width="30" height="19" alt="SS_Button-Ellipses" style="border:none" /> button and navigate to the folder containing the file.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStepLast">A list of locations in the database will appear in the box below the search filter.</span></p><h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Using Single Year Weather Files</span></h3>
<p class="p_Text"><span class="f_Text">If you have 15 or more single year weather files for a series of years, you can use them for P50/P90 analysis. The files must be in one of the <a href="weather_format.htm" class="topiclink">weather file formats</a> that SAM can read and use the naming convention described in the following procedure.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To prepare a series of single year weather files for P50/P90 analysis:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Rename each weather file using the following convention: </span><span class="f_Emphasis">&lt;place name&gt;_&lt;year&gt;.&lt;extension&gt;</span><span class="f_ProcedureStep">. For example, </span><span class="f_Emphasis">paris_1950.tm2</span><span class="f_ProcedureStep">, </span><span class="f_Emphasis">paris_1951.tm2</span><span class="f_ProcedureStep">, etc.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">Place all of the files in a single folder.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">Check </span><span class="f_CHInterfaceElement">Use standard weather files in folder to run P50/P90 analysis</span><span class="f_ProcedureStep">.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStepLast">For </span><span class="f_CHInterfaceElement">Path</span><span class="f_ProcedureStepLast">, navigate to the folder containing the files.</span></p><h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Setting up and running up a P50/P90 Analysis</span></h3>
<p class="p_Text"><span class="f_Text">After you have downloaded the full weather database file, you can set up and run a P50/P90 analysis.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To set up and run a P50/P90 Analysis:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Enable P50/P90 Analysis</span><span class="f_ProcedureStepLast">.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">Click the name of the location in the list of available locations. You can type a few letters of the location name or ID, or use the scroll bar to find your location.</span></p><p style="text-align: left; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 48px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStepNoNumber">Note the number of years displayed under the location list. This is the number of years for which there is a complete set of solar irradiance and meteorological data.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStepLast">After specifying the inputs for your analysis, click the Run button.</span></p><p class="p_ProcedureStepNoNumber"><img src="ss_mainwindow-runallsimulationsbutton.gif" width="160" height="75" alt="SS_MainWindow-RunAllSimulationsButton" style="border:none" /></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStepLast">After running simulations, SAM displays P90 values for each metric in the Metrics table on the Results page, and additional results in Tables and Graphs.</span></p><h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Viewing P50/P90 Analysis Results</span></h3>
<p class="p_Text"><span class="f_Text">SAM runs a simulation for between 15 and 45 years based on real hourly weather data for your selected location. The number of years simulated depends on the data weather data that is available for that location.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To view P50/P90 Analysis Results</span></p>
<p style="text-align: left; padding: 0px 0px 0px 15px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:15px;margin-left:-15px">1.</span><span class="f_List">After running simulations, on the <a href="results_page.htm" class="topiclink">Results page</a>, click </span><span class="f_CHInterfaceElement">Tables</span><span class="f_List">.</span></p><p style="text-align: left; padding: 0px 0px 0px 15px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:15px;margin-left:-15px">2.</span><span class="f_List">For </span><span class="f_CHInterfaceElement">Choose Simulation</span><span class="f_List">, click </span><span class="f_CHInterfaceElement">P50/P90 Analysis</span><span class="f_List">.</span></p><p style="text-align: left; padding: 0px 0px 0px 15px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:15px;margin-left:-15px">3.</span><span class="f_List">To view statistical summaries of the multiple-year data, Under </span><span class="f_CHInterfaceElement">Output Variables</span><span class="f_List">, click </span><span class="f_CHInterfaceElement">Single Values</span><span class="f_List">.</span></p><p style="text-align: left; padding: 0px 0px 0px 15px; margin: 0px 0px 6px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:15px;margin-left:-15px">4.</span><span class="f_ListLast">To view annual results for each year, click </span><span class="f_CHInterfaceElement">Data:45 values</span><span class="f_ListLast"> (the number of values, in this example, 45, depends on the number of years included in the database).</span></p><h4 class="p_Heading4"><span class="f_Heading4">Output Variables</span></h4>
<p class="p_Text"><span class="f_Text">When you run a P50/P90 simulation, SAM calculates and displays two forms of the P50 and P90 values (see description below), minimum, maximum, and standard deviation for each metric that appears in the <a href="metrics_table.htm" class="topiclink">Metrics table</a> on the Results page.</span></p>
<p class="p_Text"><span class="f_Text">SAM uses two methods to calculate these values: The normal distribution method (P50n and P90n) and the empirical (P50e and P90e) method:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">For the normal distribution method, SAM creates a normal distribution by calculating the mean and standard deviation of simulated results (annual energy, LCOE, etc.). SAM calculates the P50 and P90 values from that normal distribution. This method works well if the data is normally distributed. If the data is not normally distributed, this method may produce incorrect results, and the empirical P50 and P90 values should be used instead.</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">For the empirical method, SAM determines P50 and P90 values by sorting the empirical</span><span class="f_Text"> cumulative distribution function (CDF) into increasing order. This method does not make any assumptions about the distribution of the data, so it works well even if the data is not normally distributed. </span></p><h4 class="p_Heading4"><span class="f_Heading4">Graphs</span></h4>
<p class="p_Text"><span class="f_Text">When you run a P50/P90 simulation, SAM automatically generates the following <a href="graphs_and_charts.htm" class="topiclink">graphs</a>:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">Annual Energy (P50/P90 Analysis) shows the annual energy produced each year over the entire P50/P90 simulation, in temporal order.</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">Sorted Annual Energy (P50/P90 Analysis) shows the same data, but it is sorted by the annual energy produced.</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">Histogram/CDF (P50/P90 Analysis) shows you a histogram and CDF of the simulated annual energy data on the same plot surface. This plot is useful because it is a visual representation of the way the simulated data is distributed. </span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">Annual Energy (P50/P90 Analysis) shows the maximum and minimum simulated annual energy values, plotted alongside the P90 and P50 values. This graph lets you compare these values side-by-side.</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">LCOE (P50/P90 Analysis) shows the LCOE for each year that was simulated. This shows you how the LCOE might vary from year to year.</span></p>
<!--ZOOMSTOP--> 


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
