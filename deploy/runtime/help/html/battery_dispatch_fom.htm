<!DOCTYPE html>
<html>
<head>
   <title>Battery Dispatch FOM</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "battery_dispatch_fom.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#FFFFFF; color:#0072C6;">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1"><span class="f_Heading1">Battery Dispatch FOM</span></h1>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Charge Limits and Priority</span></h3>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Minimum state of charge, %</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Sets a limit on the quantity of energy that can be drained from the battery. Battery lifetime is highly dependent on depth of discharge, so this value should be set based on your battery chemistry and desired performance over time. For example a value of 15% would prevent the battery from discharging below a 15% state of charge.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Maximum state of charge, %</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Sets a limit on the quantity of energy that can be sent to the battery. Battery lifetime is dependent on depth of discharge and state of charge, so this value should be set based on your battery chemistry and desired performance over time. For example a value of 95% would prevent the battery from charging above 95% state of charge.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Initial state of charge, %</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The state of charge of the battery at the beginning of the simulation. A value of 100% would be for a fully charged battery, 0% would be for a fully discharged battery.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Minimum time at charge state, min</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">This setting only applies to subhourly simulations. You can ignore it for hourly simulations. For sub-hourly simulations, there may be periods of time where the photovoltaic output varies above and below the load causing rapid cycling of the battery. This kind of cycling, especially if the cycles are deep, may degrade battery performance over time. The minimum time at charge state prevents the battery to change between charging and discharging within the number of minutes that you specify.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Storage Dispatch Controller (Front of Meter)</span></h3>
<p class="p_Text"><span class="f_Text">The dispatch controller determines the timing of battery charges and discharges, and discharge limits. For front-of-meter systems (PPA, Merchant Plant financial models), you can either choose an automated dispatch model where SAM determines the timing automatically, input your own desired power signal for the battery, or define the timing manually using the monthly time-of-day matrices. </span></p>
<p class="p_Text"><span class="f_Text">The manual dispatch controller allows you to maximize the value of storage by matching storage dispatch to the to the time-of-delivery (TOD) factors on the <a href="revenue.htm" class="topiclink">Revenue</a> page for the Single Owner model, or the Time of Delivery factors page for the other PPA financial models.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Dispatch Options</span></h3>
<p class="p_Text"><span class="f_Text">Choose the automated dispatch model that most closely represents how you would like the battery to be charged and discharged, or choose the manual dispatch option to specify the timings manually.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Automated dispatch look ahead</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each day, look ahead to the next day's available power from the system and time-of-delivery (TOD) multipliers, and operate system to maximize revenue.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Automated dispatch one day look behind</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each day, look behind to the previous day's available power from the system time-of-delivery (TOD) multipliers, and operate system to maximize revenue.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Automated dispatch custom weather file</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Similar to the look ahead automated dispatch option, except, for the PV-battery configuration, use a different weather file for the solar resource forecast.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Dispatch to custom time series</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Choose this option to charge and discharge the battery according to a time-series dispatch signal.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Manual dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">No automation. You specify the timing of battery charges and discharges using up to six dispatch periods and a set of weekday and weekend hourly profiles by month under </span><span class="f_CHInterfaceElement">Manual Dispatch Model</span><span class="f_VariableDescription">.</span></p>
<p class="p_VariableDescription"><span class="f_Text">The manual dispatch controller always assumes that PV meets the electric load before charging the battery. The PV system will charge the battery with any excess if that option has been selected for the current time.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Charge Options</span></h4>
<p class="p_Text"><span class="f_Text">For non-manual dispatch options, choose the source of power for charging the battery.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Battery can charge from grid</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Allow the grid to charge the battery.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Battery can charge from system</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Allow the system to charge the battery.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Battery can charge from clipped system power</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Available for any of the three automated dispatch options for a PV system with DC-connected batteries only. This option will use any DC array power in excess of the inverter's nominal DC input power to charge the battery.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Automated Dispatch Options</span></h4>
<p class="p_Text"><span class="f_Text">When you choose an automated dispatch option, provide additional information.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Frequency to update dispatch</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For any of the three automated dispatch options, determines how often a new dispatch decision is made.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Look-ahead period</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For the automated look ahead and automated custom weather file option, the number of hours ahead of the current time step to use for the dispatch decision in the current time step.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Cycle degradation penalty option</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For any of the automated dispatch options, choose a method for estimating the cost of cycling the battery: Choose </span><span class="f_CHInterfaceElement">Calculate automatically</span><span class="f_VariableDescription"> if you want SAM to calculate the cost, or choose </span><span class="f_CHInterfaceElement">Enter penalty</span><span class="f_VariableDescription"> to enter a cost per cycle-kWh value.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Custom Weather File for Forecast</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For the automated dispatch custom weather file option, click </span><span class="f_CHInterfaceElement">Browse</span><span class="f_VariableDescription"> to choose a weather file in the SAM CSV format to use for the solar resource forecast that is different from the file used for the simulation.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Custom Time Series Dispatch</span></h4>
<p class="p_Text"><span class="f_Text">For the dispatch to custom time series option, provide a time series of battery power values. SAM will attempt to charge and discharge the battery to meet the battery power target values.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Time series battery power targets</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Click </span><span class="f_CHInterfaceElement">Edit array</span><span class="f_VariableDescription"> to enter time series battery power values. A negative power value for a time step indicates the battery controller should attempt to charge the battery at the given rate in that time step. A positive power value indicates the battery should discharge.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Manual Dispatch Model</span></h3>
<p class="p_Text"><span class="f_Text">The manual dispatch option allows you to manually specify the timing of battery charges and discharges. Choose the </span><span class="f_CHInterfaceElement">Manual dispatch</span><span class="f_Text"> option under </span><span class="f_CHInterfaceElement">Dispatch Options</span><span class="f_Text"> to make the manual dispatch inputs active.</span></p>
<p class="p_Text"><span class="f_Text">You can specify how you want to charge the battery (from grid or system), and whether to allow battery discharging for up to six periods. Use the weekday and weekend schedules to specify the hour of day and month of year that each period applies.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Charge from system</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each period that you want to allow the battery to be charged by power from the system, check the box in the </span><span class="f_CHInterfaceElement">Charge from system</span><span class="f_VariableDescription"> column. </span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Charge from grid</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each period that you want to allow the battery to be charged by power from the grid, check the box in the </span><span class="f_CHInterfaceElement">Allow</span><span class="f_VariableDescription"> column, and specify the percentage of the battery's state of charge that can be charged from the grid over the time step.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For example, for hourly simulations, a value of 25% would allow the grid to deliver 25% of the battery state of charge at the beginning of the hour over the hour. The purpose of the percentage is to prevent the battery from being charged too quickly. See the example below under </span><span class="f_CHInterfaceElement">Discharge</span><span class="f_VariableDescription"> for more details.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> For subhourly simulations, the charge and discharge percentages apply to the subhourly time step even though the periods are defined in hours.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For a behind-the-meter application, if </span><span class="f_CHInterfaceElement">Charge from grid</span><span class="f_VariableDescription"> and </span><span class="f_CHInterfaceElement">Charge from system</span><span class="f_VariableDescription"> are both checked for a given period, and if in a time step in that period the system power is greater than the <a href="electric_load.htm" class="topiclink">load</a>, power from the grid will supplement the system power to meet the battery charge requirement.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">If </span><span class="f_CHInterfaceElement">Charge from grid</span><span class="f_VariableDescription"> and </span><span class="f_CHInterfaceElement">Allow discharging</span><span class="f_VariableDescription"> are both checked for a given period, and if in a time step in that period the battery state of charge is above the minimum state of charge, the battery discharges until it reaches the minimum state of charge, at which point it starts charging from the grid, either until it reaches the maximum state of charge, or until the time period changes to one that does not allow charging from the grid.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Discharge</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For each period that you want to allow the battery to discharge, check the box in the </span><span class="f_CHInterfaceElement">Allow</span><span class="f_VariableDescription"> column, and specify the percentage of the battery's available charge that can be dispatched over the time step. The available charge is defined by the minimum and maximum state of charge values under </span><span class="f_CHInterfaceElement">Charge Limits and Priority</span><span class="f_VariableDescription">. </span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For example, if Period 3 is the four consecutive hours between 3 pm and 6 pm, the discharge capacity is 25%, and the charge limits are 30% and 96%, for an hourly simulation, that would allow up to 25% of the charge the battery holds at the beginning of the 3 pm hour to be discharged over the hour. For the 4 pm hour, 25% of the charge at the end of the 3 pm hour would be available, and so on until the end of Period 3. The 25% value would discharge the battery over the full four-hour period. (A 20% value would have the same effect for a 5-hour period, i.e., if Period 3 were between 3 pm and 7 pm.)</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">For a one-minute simulation, a capacity to discharge of 25% would allow up to 25% of the available charge to be dispatched </span><span class="f_Emphasis">every minute</span><span class="f_VariableDescription"> over Period 3, so a smaller percentage would be required to allow the battery to discharge over the full four-hour period.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Weekday and Weekend Schedules</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">To define the hour of day and month of year that each period applies, use your mouse to select a rectangle in the schedule matrix, and use your keyboard to type the period number (1-6). The number you type should appear in the rectangle.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">See <a href="weekday-schedule.htm" class="topiclink">Weekday-weekend Schedules</a> for a step-by-step description of how to use the schedule matrices</span>.</p>

</td></tr></table>

</body>
</html>
