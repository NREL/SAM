<!DOCTYPE html>
<html>
<head>
   <title>Edit Shading Data</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "edit_shading_data.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#FFFFFF; color:#0072C6;">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1"><span class="f_Heading1">Edit Shading Data</span></h1>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p class="p_Text"><span class="f_Text">The Edit Shading Data window is where you define beam and sky diffuse shading losses. To open the window, click </span><span class="f_CHInterfaceElement">Edit Shading</span><span class="f_Text"> from either the Detailed Photovoltaic Model's <a href="pv_shading.htm" class="topiclink">Shading and Layout</a> page, or from the PVWatts model <a href="pvwatts_system_design.htm" class="topiclink">System Design</a> page.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> For more information about the shading options, see <a href="pv_shading.htm" class="topiclink">Shading and Layout</a>.</span></p>
<p class="p_Text"><span class="f_Text">Each shading loss is a percentage that represents the portion of the solar radiation component (either beam or diffuse) that is prevented from reaching the array by a nearby shading object:</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">SAM reduces the plane-of-array beam irradiance (direct normal irradiance) in each hour by the beam shading loss for that hour. Beam irradiance is solar energy that reaches the array in a straight line from the sun.</span></p><p class="p_ListNoNumber"><span class="f_ListNoNumber">For example, for a beam shading loss of 10% for the 8 a.m. hour of December 20, SAM would reduce the beam radiation value in the weather file by 10% for that hour, and use that reduced value to calculate the total incident radiation on the array for that hour.</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">If you use the <a href="edit_shading_data.htm#timeseriesbeamshading" class="topiclink">time series beam shading loss table</a>, you can enable the partial shading model that will estimate the reduction in the subarray's DC output due to partial shading of the subarray. You should use this option only for subarrays with crystalline Silicon modules, and with up to 8 strings of modules.</span></p><p class="p_ListLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ListLast">SAM reduces the incident sky diffuse irradiance for each hour by the sky diffuse shading loss. Sky diffuse radiation is radiation that reaches the array from the sun indirectly after being reflected by clouds and particles in the atmosphere. Sky diffuse radiation does not include diffuse radiation reflected from the ground. Note that you can only specify a single constant value that applies to all hours of the year for the sky diffuse shading loss.</span></p><div style="text-align: left; text-indent: 0; border-color: #0072c6; border-style: solid; border-width: thin; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0 3px 0;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="importshadingdata" class="hmanchor"></a><img id="TOGGLE0186A1_ICON" class="dropdown-toggle-icon" alt="ico-minus-16x16" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="ico-minus-16x16.png"/></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','TOGGLE0186A1','TOGGLE0186A1_ICON')">Import Shading Files</a></span></td></tr></table></div><div id="TOGGLE0186A1" class="dropdown-toggle-body" style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 6px 0;"><table class="ToggleContentTable" >
<tr class="ToggleContentTable">
<td class="ToggleContentTable"><p class="p_Text"><span class="f_Text">SAM allows you to import shading data from the following software:</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">PVsyst, photovoltaic system design software, <a href="http://www.pvsyst.com" target="_blank" class="weblink">http://www.pvsyst.com</a></span></p><p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">Solmetric SunEye, shading analysis device, <a href="http://www.solmetric.com" target="_blank" class="weblink">http://www.solmetric.com</a></span></p><p class="p_ListLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ListLast">Solar Pathfinder, shading analysis device, <a href="http://www.solarpathfinder.com" target="_blank" class="weblink">http://www.solarpathfinder.com</a></span></p><h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Importing Data from PVsyst</span></h3>
<p class="p_Text"><span class="f_Text">You can import a &quot;Near Shadings&quot; table generated by PVsyst into SAM. SAM automatically imports data from the text file generated by PVsyst into the Solar Azimuth by Altitude Shading loss table and the diffuse shading loss value.</span></p>
<p class="p_Note"><span class="f_CHNote">Notes.</span><span class="f_Note"> We have tested the following procedure with Version 5 of PVsyst.</span></p>
<p class="p_Text"><span class="f_Text">The &quot;Near Shadings&quot; table in PVsyst looks like this:</span></p>
<p class="p_Text"><img alt="SS_PVShading-pvsyst-table" width="575" height="238" style="margin:0;width:575px;height:238px;border:none" src="ss_pvshading-pvsyst-table.png"/></p>
<p class="p_Text"><span class="f_Text">The &quot;Near Shadings&quot; data exported to a text file looks like this (in this example with semicolon delimiters):</span></p>
<p class="p_Text"><img alt="SS_PVShading-pvsyst-shadingtabletext" width="680" height="123" style="margin:0;width:680px;height:123px;border:none" src="ss_pvshading-pvsyst-shadingtabletext.png"/></p>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To import a &quot;Near Shadings&quot; table from PVsyst:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">In PVsyst, follow the procedure to create and export a &quot;Near Shadings&quot; table. The table in PVsyst should look similar to the one below. SAM will recognize any of the delimiter options: tab, comma, or semicolon.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the <a href="pv_losses.htm" class="topiclink">PV Shading and Layout</a> page or <a href="pvwatts_system_design.htm" class="topiclink">PVWatts System Design</a> page) to open the Edit Shading Data window, and click the </span><span class="f_CHInterfaceElement">PVsyst near shading</span><span class="f_ProcedureStep"> and navigate to the folder containing the shading file.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">When SAM imports data from the file, it displays the message &quot;Azimuth-Altitude Table and Diffuse loss update&quot; and populates the azimuth-altitude shading table, the sky diffuse shading loss, and enables both options.</span></p>
<p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStepLast">Disable any shading options that do not apply to your analysis.</span></p><h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Importing from Solmetric SunEye</span></h3>
<p class="p_Text"><span class="f_Text">The Solmetric SunEye software generates shading data in two formats: The obstruction table, which characterizes shading using an altitude-azimuth angle table to indicate solar positions that are blocked by nearby obstructions, and the hourly shading file, which lists hourly beam radiation shading factors. SAM can read data from both tables.</span></p>
<p class="p_Text"><span class="f_Text">Use the obstruction table if you plan to model the system for different locations (assuming the same shading obstructions). Use the hourly shading loss table if you plan to model the system for a single location.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> If you use the hourly shading loss table, be sure that the weather data specified on the <a href="pv_location_and_resource.htm" class="topiclink">Location and Resource</a> page is for the same location as the one where the SunEye measurements were made.</span></p>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To import a SunEye obstruction table:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">In the Solmetric SunEye software (not the PV Designer software), on the </span><span class="f_CHInterfaceElement">File</span><span class="f_ProcedureStep"> menu, click</span><span class="f_CHInterfaceElement"> Export Session Report and Data</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">The SunEye software creates a set of files, and assigns a default name like </span><span class="f_Emphasis">Sky01ObstructionElevations.csv</span><span class="f_ProcedureStepNoNumber"> to the obstruction data file. By default, the files are in a folder named </span><span class="f_Emphasis">ExportedFiles</span><span class="f_ProcedureStepNoNumber"> in the exported report folder.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the Detailed Photovoltaic model's <a href="pv_losses.htm" class="topiclink">Shading and Layout</a> page or the PVWatts <a href="pvwatts_system_design.htm" class="topiclink">System Design</a> page) to open the Edit Shading Data window, and click </span><span class="f_CHInterfaceElement">Suneye obstructions table</span><span class="f_ProcedureStep">, and navigate to the folder containing the file you want to import.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">Open the obstruction data file for any of the available skies (</span><span class="f_CHFileName">Sky01ObstructionElevations</span><span class="f_ProcedureStep">, </span><span class="f_CHFileName">Sky02ObstructionElevations</span><span class="f_ProcedureStep">, etc.). </span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">If the average or worst case obstruction data from multiple skylines will be used, then an extra step is required. In a spreadsheet program, open the </span><span class="f_CHFileName">ObstructionElevation</span><span class="f_ProcedureStepNoNumber"> file containing the average and maximum values as well as all skylines in the SunEye session. Make sure that the desired data (average or maximum) is in the third column, delete the other columns, and save the file as .csv with a name like </span><span class="f_CHFileName">ObstructionElevationsAVG.csv</span><span class="f_ProcedureStepNoNumber">. Use this file as the obstruction data file in SAM.</span></p>
<p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the message &quot;Azimuth-Altitude Table updated,&quot; populates the azimuth-altitude shading loss table, and enables the </span><span class="f_CHInterfaceElement">Enable solar azimuth by altitude beam irradiance shading loss</span><span class="f_ProcedureStepNoNumber"> option.</span></p>
<p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStepLast">Be sure to enable and disable the other shading options as appropriate.</span></p><p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To import a SunEye hourly shading file:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">In the Solmetric SunEye software (not the PV Designer software), on the </span><span class="f_CHInterfaceElement">File</span><span class="f_ProcedureStep"> menu, click</span><span class="f_CHInterfaceElement"> Export Session Report and Data</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">The SunEye software creates a set of files, and assigns a default name like </span><span class="f_Emphasis">Sky01Shading.csv</span><span class="f_ProcedureStepNoNumber"> to the hourly shading file. By default, the files are in a folder named </span><span class="f_Emphasis">ExportedFiles</span><span class="f_ProcedureStepNoNumber"> in the exported report folder.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the Detailed Photovoltaic model <a href="pv_losses.htm" class="topiclink">Shading and Layout</a> page or PVWatts <a href="pvwatts_system_design.htm" class="topiclink">System Design</a> page) to open the Edit Shading Data window, and click </span><span class="f_CHInterfaceElement">Suneye hourly shading</span><span class="f_ProcedureStep">, and navigate to the folder containing the shading file.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">Open the shading file for any of the available skies (</span><span class="f_CHFileName">Sky01Shading</span><span class="f_ProcedureStep">, </span><span class="f_CHFileName">Sky02Shading</span><span class="f_ProcedureStep">, etc.). To use average shading for multiple skylines, open </span><span class="f_CHFileName">AverageShading.csv</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the message &quot;Hourly Shading Factors for Beam Radiation updated,&quot; populates the hourly shading loss table, and enables the </span><span class="f_CHInterfaceElement">Enable Hourly Beam Shading Factors</span><span class="f_ProcedureStepNoNumber"> option.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStep">To see the hourly data, click </span><span class="f_CHInterfaceElement">Edit Data</span><span class="f_ProcedureStep"> under </span><span class="f_CHInterfaceElement">Hourly Shading Factors for Beam Radiation</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStep">Be sure to enable and disable the other shading options as appropriate.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">6.</span><span class="f_ProcedureStepLast">On the <a href="pv_location_and_resource.htm" class="topiclink">Location and Resource</a> page, choose a weather file for the same location represented by the SunEye shading data.</span></p><h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Importing from SolarPathfinder Assistant</span></h3>
<p class="p_Text"><span class="f_Text">The SolarPathfinder Assistant software generates shading data in two formats: The obstruction table, which characterizes shading using an altitude-azimuth angle table to indicate solar positions that are blocked by nearby obstructions, and the hourly shading file, which lists hourly beam radiation shading factors. SAM can read data from both tables.</span></p>
<p class="p_Text"><span class="f_Text">Use the obstruction table if you plan to model the system for different locations (assuming the same shading obstructions). Use the hourly shading loss table if you plan to model the system for a single location.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> If you use the month-by-hour shading loss table, be sure that the weather data specified on the Location and Resource page is for the same location as the one where the Solar Pathfinder measurements were made.</span></p>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To import a Solar Pathfinder obstruction table:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">In SolarPathfinder Assistant, on the File menu, click </span><span class="f_CHInterfaceElement">Export</span><span class="f_ProcedureStep">, </span><span class="f_CHInterfaceElement">Horizon Angles</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">In the Save window, </span><span class="f_ProcedureStepNoNumber">specify the location and name of the data file.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the Detailed Photovoltaic model <a href="pv_losses.htm" class="topiclink">Shading and Layout</a> page or PVWatts <a href="pvwatts_system_design.htm" class="topiclink">System Design</a> page) to open the Edit Shading Data window, and click </span><span class="f_CHInterfaceElement">Solar Pathfinder obstructions</span><span class="f_ProcedureStep">, and navigate to the folder containing the file you want to import.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStep">Open the obstruction data file you saved in Step 2. </span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the message &quot;Azimuth-Altitude Table updated,&quot; populates the azimuth-altitude shading loss table, and enables the Enable Azimuth-Altitude Shading Factors for Beam Radiation option.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStep">Be sure to enable and disable the other shading options as appropriate.</span></p><p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span style="font-family: Verdana,Geneva,Arial,sans-serif; font-weight: bold;">To import a Solar Pathfinder Month by Hour shading file:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">In SolarPathfinder Assistant, on the File menu, click </span><span class="f_CHInterfaceElement">Export</span><span class="f_ProcedureStep">, </span><span class="f_CHInterfaceElement">Shading Data</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">In the </span><span class="f_ProcedureStepNoNumber">Save window, specify the location and name of the data file.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the Detailed Photovoltaic model <a href="pv_losses.htm" class="topiclink">Shading and Layout</a> page or PVWatts <a href="pvwatts_system_design.htm" class="topiclink">System Design</a> page) to open the Edit Shading Data window, and click</span><span class="f_CHInterfaceElement"> Solar Pathfinder month by hour shading</span><span class="f_ProcedureStep">, and navigate to the folder containing the shading file.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStep">Open the shading file you saved in Step 2.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the message &quot;Hourly Shading Factors for Beam Radiation updated,&quot; populates the hourly shading loss table, and enables the Enable Hourly Beam Irradiance Shading Losses option.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStep">To see the hourly data, click </span><span class="f_CHInterfaceElement">Edit Data</span><span class="f_ProcedureStep"> under </span><span class="f_CHInterfaceElement">Enable hourly beam irradiance shading losses</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">6.</span><span class="f_ProcedureStep">Be sure to enable and disable the other shading options as appropriate.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">7.</span><span class="f_ProcedureStep">On the Location and Resource page, choose a weather file for the same location represented by the Solar Pathfinder shading data.</span></p></td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0; border-color: #0072c6; border-style: solid; border-width: thin; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0 3px 0;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="beamshadelosstables" class="hmanchor"></a><img id="TOGGLE0186A2_ICON" class="dropdown-toggle-icon" alt="Click to expand or collapse" title="Click to expand or collapse" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="ico-minus-16x16.png"/></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" title="Click to expand or collapse" href="javascript:HMToggle('toggle','TOGGLE0186A2','TOGGLE0186A2_ICON')">Beam Irradiance Shade Loss Tables</a></span></td></tr></table></div><div id="TOGGLE0186A2" class="dropdown-toggle-body" style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 6px 0;"><table class="ToggleContentTable" >
<tr class="ToggleContentTable">
<td class="ToggleContentTable"><p class="p_Text"><span class="f_Text">SAM provides the three options described below to specify beam irradiance shading loss: Time series, month by hour, and solar azimuth by solar altitude.</span></p>
<p class="p_Text"><span class="f_Text">Typically, you would enable only one of the three options. However, if you enable more than one option, SAM combines the losses you enabled for each hour to calculate a total shading loss.</span></p>
<p class="p_Note"><span class="f_CHNote">Tip.</span><span class="f_Note"> If you plan to import time series, month-by-hour, or azimuth-by-altitude shading data from text files, you can see the correct file format by exporting existing data (even if it is all zeros). You can use the exported file as an example for your data.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><a id="timeseriesbeamshading" class="hmanchor"></a><span class="f_Heading3_atocs_">Time Series Beam Irradiance Shade Loss Table</span></h3>
<p class="p_Text"><span class="f_Text">The time series option allows you define a beam shading loss for each simulation time step. The data's time convention should follow that of the weather file. For the standard TMY files, Hour 1 is the hour ending at 1 a.m. on Monday, January 1.</span></p>
<p class="p_Text"><span class="f_Text">For the Detailed Photovoltaic performance model, for subarrays with crystalline Silicon modules and up to eight strings of modules, SAM provides an option to model partial shading of the subarray. For more information about the partial shading model, see </span><span style="font-family: Arial,Helvetica,sans-serif; background-color: #ffffff;">MacAlpine, S.; Deline, C. (2015) Simplified Method for Modeling the Impact of Arbitrary Partial Shading Conditions on PV Array Performance. National Renewable Energy Laboratory. 8 pp.; NREL/CP-5J00-64570. (<a href="http://www.nrel.gov/docs/fy15osti/64570.pdf" target="_blank" class="weblink">PDF 699 KB</a>)</span></p>
<p class="p_Text"><span class="f_Text">You can use SAM's <a href="3d_shade_calculator.htm" class="topiclink">3D shade calculator</a> to generate loss values for the time series beam irradiance shade loss table.</span></p>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To specify time series beam shading factors:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Check </span><span class="f_CHInterfaceElement">Enable beam irradiance shading losses by time step</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">For </span><span class="f_CHInterfaceElement">Time step in minutes</span><span class="f_ProcedureStep">, enter the time step of the weather file. For hourly data, choose 60 minutes.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">If you are modeling a system with crystalline silicon modules, check </span><span class="f_CHInterfaceElement">Enable partial shading model (c-Si modules only)</span><span class="f_ProcedureStep"> to estimate the impact of partial shading on the subarray's DC output.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">If you have separate shading data for each string in the subarray, for </span><span class="f_CHInterfaceElement">Strings in Subarray [n]</span><span class="f_ProcedureStepNoNumber"> enter the number of strings in parallel from the <a href="pv_system_design.htm" class="topiclink">System Design</a> page. If the subarray has more than eight strings, or you do not have shading data for individual strings, enter a one to model losses for a single string.</span></p>
<p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">For thin-film modules, or to model the effect of partial shading as a linear relationship between the beam shading loss (size of shadow on subarray) and the subarray's DC output, do not enable the partial shading model.</span></p>
<p class="p_Text"><span class="f_Text">Once you define a table of hourly shading losses, you can clear the </span><span class="f_CHInterfaceElement">Enable hourly beam irradiance shading losses</span><span class="f_Text"> check box to run a simulation with no losses without losing the shading losses data.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Month by Hour Beam Irradiance Shade Loss Table</span></h3>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> You can use the <a href="3d_shade_calculator.htm" class="topiclink">3D shade calculator</a> to <a href="3dshad-generate-data.htm" class="topiclink">automatically generate month-by-hour shade factors</a> from a three-dimensional drawing of the array and nearby objects.</span></p>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To specify month by hour shading factors:</span></p>
<p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStepLast" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStepLast">Check </span><span class="f_CHInterfaceElement">Enable month by hour beam irradiance shading factors</span><span class="f_ProcedureStepLast">.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStepLast" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStepLast">Type shading data into the table, or import it from a text file.</span></p><p class="p_Text"><span class="f_Text">To the month-by-hour shading loss matrix is a 24-by-12 table containing a set of 24 hourly shading losses for each month of the year. The shading loss in a cell applies to a given hour for an entire month.</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">The data's time convention should follow that of the weather file. For the standard TMY files, the value in the first row and column is for the hour ending at 1 a.m. for all days in January.</span></p><p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">A red cell indicates a value of 100%, or full shading (beam radiation completely blocked).</span></p><p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">A white cell indicates a value of zero, or no shading.</span></p><p class="p_ListLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ListLast">A dark shade of red indicates more shading (less beam irradiance) than a light shade of red.</span></p><p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To define a shading loss for a single cell:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStep">Click the cell and type the shading loss percentage.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStep">To replace the value in a cell, click the cell and type a replacement value.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStepLast">To delete the value from a cell, double-click the cell and press the Delete key.</span></p><p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To define a single shading loss for multiple cells:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStep">Use your mouse to select the cells to which you want to apply the shading loss percentage.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStep">Type a value between zero and one.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStepLast">Press the Enter key or click </span><span class="f_CHInterfaceElement">Apply to selected cells</span><span class="f_ProcedureStepLast">.</span></p><p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To import or export month-by-hour beam shading factors:</span></p>
<p class="p_Text"><span class="f_Text">SAM allows you to import and export the shading loss matrix as a comma-delimited text file that contains 12 rows of 24 hourly shading factors separated by commas. The file should not have row or column headings.</span></p>
<p class="p_Text"><span class="f_Text">To see an example of the correct file format, export the default shading table to a text file and open it with a text editor.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStep">To export the shading matrix as a text file, click </span><span class="f_CHInterfaceElement">Export</span><span class="f_ProcedureStep">. SAM saves the file with the </span><span class="f_Emphasis">.csv</span><span class="f_ProcedureStep"> extension.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStep">To import a data from a comma-delimited text file, click </span><span class="f_CHInterfaceElement">Import</span><span class="f_ProcedureStep">. You can open a correctly formatted text file with any extension, although SAM expects a </span><span class="f_Emphasis">.csv</span><span class="f_ProcedureStep"> file by default.</span></p><h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Solar Azimuth by Altitude Beam Irradiance Shade Loss Table</span></h3>
<p class="p_Text"><span class="f_Text">The solar azimuth-by-altitude table is a two-dimensional look-up table of beam irradiance shading losses. For each hour in the simulation, SAM calculates the position of the sun as a pair of solar azimuth and altitude angles and looks up the shading loss to use for that hour based on the solar position. SAM uses linear interpolation to estimate the value of the shading loss for solar angles that fall between values in the table row and column headings.</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">Azimuth angle values use the following convention: 0 = north, 90 = east, 180 = south, 270 = west.</span></p><p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To define the azimuth-altitude shading loss table by hand:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Enable solar azimuth by altitude beam irradiance shading loss table</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">In </span><span class="f_CHInterfaceElement">Rows</span><span class="f_ProcedureStep"> and </span><span class="f_CHInterfaceElement">Cols</span><span class="f_ProcedureStep">, type the number of rows (solar altitude angle values) and number of columns (solar azimuth angle values) in the table.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">Specify a number of rows that is one greater than the number of altitude values: For example for a table with nine rows of altitude values, specify a </span><span class="f_CHInterfaceElement">Rows</span><span class="f_ProcedureStepNoNumber"> value of 10. Similarly, specify a </span><span class="f_CHInterfaceElement">Cols</span><span class="f_ProcedureStepNoNumber"> value that is one greater than the number of azimuth values.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">In the top row (highlighted in blue), type a set of solar azimuth angle values in degrees between zero and 360 and increasing monotonically from left to right.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStep">In the leftmost column (highlighted in blue), type a set of solar altitude values in degrees between zero and 90 and increasing monotonically from top to bottom.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStepLast">Type a beam shading loss percentage (between zero and 100%) in each cell of the table. A value of 100% indicates that beam irradiance is fully blocked by a shading object. A value of zero indicates that beam irradiance is not blocked.</span></p><p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To import or export azimuth-by-altitude beam shading factors:</span></p>
<p class="p_Text"><span class="f_Text">SAM allows you to import and export the azimuth-altitude lookup table as a comma-delimited text file that contains shading percentages separated by commas. The file should also include the row and column headings indicating the solar azimuth and altitude values.</span></p>
<p class="p_Text"><span class="f_Text">To see an example of the correct file format, export the default shading table to a text file and open it with a text editor.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStep">To export the shading table as a text file, click </span><span class="f_CHInterfaceElement">Export.</span><span class="f_ProcedureStep"> You can save the file with any file extension, including </span><span class="f_Emphasis">.txt</span><span class="f_ProcedureStep"> or </span><span class="f_Emphasis">.csv</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStepLast">To import data from a comma-delimited text file, click </span><span class="f_CHInterfaceElement">Import</span><span class="f_ProcedureStepLast">.</span></p></td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0; border-color: #0072c6; border-style: solid; border-width: thin; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0 3px 0;"><table style="border:none;border-spacing:0;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="skydiffuse" class="hmanchor"></a><img id="TOGGLE0186A3_ICON" class="dropdown-toggle-icon" alt="Click to expand or collapse" title="Click to expand or collapse" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="ico-minus-16x16.png"/></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" title="Click to expand or collapse" href="javascript:HMToggle('toggle','TOGGLE0186A3','TOGGLE0186A3_ICON')">Sky Diffuse Shade Loss</a></span></td></tr></table></div><div id="TOGGLE0186A3" class="dropdown-toggle-body" style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 6px 0;"><table class="ToggleContentTable" >
<tr class="ToggleContentTable">
<td class="ToggleContentTable"><p class="p_Text"><span class="f_Text">SAM provides a single input for a constant sky diffuse loss that it applies to every hour in the year. It represents portion of the sky that is obstructed. A value of zero is for no shading loss, a value of 100% completely blocks sky diffuse irradiance from the array.</span></p>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To define a sky diffuse shading loss:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Enable sky diffuse shading loss (constant)</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStepLast">Type a value for the shading loss as a percentage.</span></p></td>
</tr>
</table>
</div>

</td></tr></table>

<script type="text/javascript">
HMInitToggle('TOGGLE0186A1_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.png','hm.src1','ico-minus-16x16.png','onclick','HMToggle(\'toggle\',\'TOGGLE0186A1\',\'TOGGLE0186A1_ICON\')');
HMInitToggle('TOGGLE0186A1','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A2_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.png','hm.src1','ico-minus-16x16.png','onclick','HMToggle(\'toggle\',\'TOGGLE0186A2\',\'TOGGLE0186A2_ICON\')');
HMInitToggle('TOGGLE0186A2','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A3_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.png','hm.src1','ico-minus-16x16.png','onclick','HMToggle(\'toggle\',\'TOGGLE0186A3\',\'TOGGLE0186A3_ICON\')');
HMInitToggle('TOGGLE0186A3','hm.type','dropdown','hm.state','0');
</script>
</body>
</html>
