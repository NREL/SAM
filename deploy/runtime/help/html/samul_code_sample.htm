<!DOCTYPE HTML>
<html>
<head>
   <title>Code Sample: Latin Hypercube Sampling</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "samul_code_sample.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#FFFFFF; color:#0072C6;">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1"><span class="f_Heading1">Code Sample: Latin Hypercube Sampling</span></h1>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p class="p_Text"><span class="f_Text">SamUL's Latin Hypercube Sampling (LHS) functions are useful for statistical and uncertainty analyses. The LHS functions are available in the SAM Functions list. The following examples show some applications of the LHS functions.</span></p>
<h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Using LHS to generate random numbers</span></h3>
<p class="p_Text"><span class="f_Text">The following example illustrates how to use LHS functions to generate uniform and normal random numbers.</span></p>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_TextCode"><span class="f_TextCode">function getrand( distname, np, arg0, arg1 )</span></p>
<p class="p_TextCode"><span class="f_TextCode"> lhs = lhscreate()</span></p>
<p class="p_TextCode"><span class="f_TextCode"> lhsdist( lhs, distname, &quot;a&quot;, arg0, arg1 )</span></p>
<p class="p_TextCode"><span class="f_TextCode"> lhspoints( lhs, np )</span></p>
<p class="p_TextCode"><span class="f_TextCode"> lhsseed( lhs, 123 )</span></p>
<p class="p_TextCode"><span class="f_TextCode"> if (not lhsrun( lhs ))</span></p>
<p class="p_TextCode"><span class="f_TextCode"> &nbsp;outln( lhserror( lhs ))</span></p>
<p class="p_TextCode"><span class="f_TextCode"> &nbsp;lhsfree( lhs )</span></p>
<p class="p_TextCode"><span class="f_TextCode"> &nbsp;return false</span></p>
<p class="p_TextCode"><span class="f_TextCode"> else</span></p>
<p class="p_TextCode"><span class="f_TextCode"> &nbsp;x = lhsvector( lhs, &quot;a&quot; )</span></p>
<p class="p_TextCode"><span class="f_TextCode"> &nbsp;lhsfree( lhs )</span></p>
<p class="p_TextCode"><span class="f_TextCode"> &nbsp;return x</span></p>
<p class="p_TextCode"><span class="f_TextCode"> end</span></p>
<p class="p_TextCode"><span class="f_TextCode">end</span></p>
<p class="p_TextCode"><span class="f_TextCode">&nbsp;</span></p>
<p class="p_TextCode"><span class="f_TextCode">uu = getrand( &quot;uniform&quot;, 50, -1, 3 )</span></p>
<p class="p_TextCode"><span class="f_TextCode">nn = getrand( &quot;normal&quot;, 50, 4, 1 )</span></p>
<p style="margin: 0px 0px 13px 0px;"><span style="font-family: Arial; color: #000000;">&nbsp;</span></p>
<p style="margin: 0px 0px 13px 0px;"><span style="font-size: 9pt; font-family: consolas;">for (i=0;i&lt;50;i=i+1) outln( uu[i] + &quot;\t&quot; + nn[i] )</span></p>
<p class="p_Text"><span class="f_Text">Plots of uu and nn (sorted):</span></p>
<p class="p_Text"><img src="img_samul_lhs-random-number-uu.gif" width="357" height="215" alt="IMG_SamUL_lhs-random-number-uu" style="border:none" /></p>
<p class="p_Text"><img src="img_samul_lhs-random-number-nn.gif" width="350" height="210" alt="IMG_SamUL_lhs-random-number-nn" style="border:none" /></p>
<h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Using LHSCorr to establish a correlation between two LHS samples</span></h3>
<p class="p_Text"><span class="f_Text">The following code creates two LHS samples, </span><span class="f_CHCode">a</span><span class="f_Text"> and </span><span class="f_CHCode">b</span><span class="f_Text">. The </span><span class="f_CHCode">lhscorr</span><span class="f_Text"> function (commented out in this example) establishes a correlation between the two samples. The graphs below the code show results with and without the </span><span class="f_CHCode">lshcorr</span><span class="f_Text"> function.</span></p>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_TextCode"><span class="f_TextCode">lhs = lhscreate()</span></p>
<p class="p_TextCode"><span class="f_TextCode">&nbsp;</span></p>
<p class="p_TextCode"><span class="f_TextCode">lhsdist( lhs, &quot;normal&quot;, &quot;a&quot;, 0.77, 0.1155 )</span></p>
<p class="p_TextCode"><span class="f_TextCode">lhsdist( lhs, &quot;normal&quot;, &quot;b&quot;, 95, 1 )</span></p>
<p class="p_TextCode"><span class="f_TextCode">'lhscorr( lhs, &quot;a&quot;, &quot;b&quot;, 0.8 )</span></p>
<p class="p_TextCode"><span class="f_TextCode">np = 30</span></p>
<p class="p_TextCode"><span class="f_TextCode">lhspoints( lhs, np )</span></p>
<p class="p_TextCode"><span class="f_TextCode">lhsseed( lhs, 123 )</span></p>
<p class="p_TextCode"><span class="f_TextCode">&nbsp;</span></p>
<p class="p_TextCode"><span class="f_TextCode">if (not lhsrun( lhs ))</span></p>
<p class="p_TextCode"><span class="f_TextCode"> outln( lhserror( lhs ))</span></p>
<p class="p_TextCode"><span class="f_TextCode">else</span></p>
<p class="p_TextCode"><span class="f_TextCode"> a = lhsvector(lhs, &quot;a&quot;)</span></p>
<p class="p_TextCode"><span class="f_TextCode"> b = lhsvector(lhs, &quot;b&quot;)</span></p>
<p class="p_TextCode"><span class="f_TextCode"> outln(&quot;a\tb&quot;)</span></p>
<p class="p_TextCode"><span class="f_TextCode"> for (i=0;i&lt;np;i=i+1) outln( a[i] + &quot;\t&quot; + b[i] )</span></p>
<p class="p_TextCode"><span class="f_TextCode">end</span></p>
<p style="margin: 0px 0px 13px 0px;"><span style="font-family: Arial; color: #000000;">&nbsp;</span></p>
<p style="margin: 0px 0px 13px 0px;"><span style="font-size: 9pt; font-family: consolas;">lhsfree( lhs )</span></p>
<p class="p_Text"><span class="f_Text">Result when the line with the </span><span class="f_CHCode">lhscorr</span><span class="f_Text"> function is commented out (no correlation):</span></p>
<p class="p_Text"><img src="img_samul_lhscorr-no-correlation.gif" width="347" height="209" alt="IMG_SamUL_lhscorr-no-correlation" style="border:none" /></p>
<p class="p_Text"><span class="f_Text">Result when the line with the </span><span class="f_CHCode">lhscorr</span><span class="f_Text"> command is enabled and 0.8 correlation is set between the variables a and b:</span></p>
<p class="p_Text"><img src="img_samul_lhscorr-with-correlation.gif" width="338" height="195" alt="IMG_SamUL_lhscorr-with-correlation" style="border:none" /></p>

</td></tr></table>

</body>
</html>
