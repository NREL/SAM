<!DOCTYPE html>
<html>
<head>
   <title>Detailed Photovoltaic Model</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "detailed_photovoltaic_model.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#FFFFFF; color:#0072C6;">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1"><span class="f_Heading1">Detailed Photovoltaic Model</span></h1>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p class="p_Text"><span class="f_Text">The following overview is to help you get started modeling &nbsp;a photovoltaic system with the detailed photovoltaic model. For a description of the model, see <a href="technology_options.htm" class="topiclink">Performance Models</a>.</span></p>
<p class="p_Text"><span class="f_Text">For a complete technical description of SAM's photovoltaic model, see Gilman, P. (2015). SAM Photovoltaic Model Technical Reference. National Renewable Energy Laboratory. Â 59 pp.; NREL/TP-6A20-64102. (<a href="http://www.nrel.gov/docs/fy15osti/64102.pdf" class="weblink">PDF 840 KB</a>)</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Basic Steps</span></h3>
<h4 class="p_Heading4"><span class="f_Heading4">1. Choose a weather file</span></h4>
<p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStepLast" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStepLast">On the <a href="pv_location_and_resource.htm" class="topiclink">Location and Resource</a> page, choose a weather file to represent the solar resource at the project location.</span></p><h4 class="p_Heading4"><span class="f_Heading4">2. Specify the system's characteristics</span></h4>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">On the <a href="pv_module.htm" class="topiclink">Module</a> page, choose a model option and module.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">For most applications, use the CEC Performance Model with Module Database model unless your module is not in the list, in which case you can use the CEC Performance Model with User Specifications.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">On the <a href="pv_inverter.htm" class="topiclink">Inverter</a> page, choose a model option and inverter. </span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">Use the Inverter CEC Database option. For an inverter that is not in the list, if you have the manufacturer's data sheet, choose the Inverter Datasheet model.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">On the <a href="pv_system_design.htm" class="topiclink">System Design</a> page, specify the system's size and array tracking options.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">Use the specify desired array size option for preliminary analysis, and then use specify modules and inverters to refine the system design.</span></p>
<p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStepLast">If you want to account for shading losses, use the <a href="pv_shading.htm" class="topiclink">Shading and Snow</a> page for external shading by nearby objects, array self-shading, or to account for losses due to the array being covered by snow when your weather data includes snow depth data.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStepLast">Account for soiling losses, DC power losses, AC power losses, and losses due to curtailment or availability on the <a href="pv_losses.htm" class="topiclink">Losses</a> page. You can use the default values if you do not have detailed information about those losses for your system.</span></p><h4 class="p_Heading4"><span class="f_Heading4">5. Specify the project costs</span></h4>
<p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStepLast" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStepLast">On the <a href="pv_system_costs.htm" class="topiclink">System Costs</a> page, specify values for capital cost and operation and maintenance costs.</span></p><h4 class="p_Heading4"><span class="f_Heading4">6. Run a simulation and review results</span></h4>
<p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStep">Click Simulate, and review <a href="pv_results.htm" class="topiclink">results</a> on the <a href="results_page.htm" class="topiclink">Results Page</a>.</span></p><p class="p_ProcedureStepLast"><img alt="SS_MainWindow-RunAllSimulationsButton" width="264" height="117" style="margin:0;width:264px;height:117px;border:none" src="ss_mainwindow-runallsimulationsbutton.png"/></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Nameplate Capacity</span></h3>
<p class="p_Text"><span class="f_Text"> For photovoltaic systems, SAM considers the system nameplate capacity to be the photovoltaic array's nameplate capacity in DC kilowatts:</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">The system nameplate capacity is the module maximum power rating in DC kilowatts (at 1,000 W/m</span><span class="f_List" style="font-size: 7pt; vertical-align: super;">2</span><span class="f_List"> and 25°C cell temperature) from the <a href="pv_module.htm" class="topiclink">Module</a> page multiplied by the number of modules in the array from the <a href="pv_system_design.htm" class="topiclink">System Design</a> page:</span></p><p class="p_EquationExcel"><span class="f_EquationExcel">System Nameplate Capacity = Module Maximum Power (DC kW) × Number of Modules per String × Number of Strings in Parallel</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">The DC-to-AC ratio is the </span><span class="f_ListLast">system nameplate capacity in DC kilowatts divided by </span><span class="f_List">the product of the inverter maximum AC power rating in AC kilowatts from the <a href="pv_inverter.htm" class="topiclink">Inverter</a> page and the n</span><span class="f_ListLast">umber of inverters from the <a href="pv_system_design.htm" class="topiclink">System Design</a> page:</span></p><p class="p_EquationExcel"><span class="f_EquationExcel">DC-to-AC Ratio = System Nameplate Capacity (DC kW) ÷ ( Inverter Maximum AC Power (AC kW) × Number of Inverters )</span></p>
<p class="p_Text"><span class="f_Text">SAM uses the system nameplate capacity for capacity-related calculations such as costs that you specify in $/Wdc on the <a href="pv_system_costs.htm" class="topiclink">System Costs</a> page, and the capacity factor and system performance factor that SAM reports in the <a href="summary.htm" class="topiclink">Metrics table</a> after running a simulation.</span></p>
<h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><a id="sizing" class="hmanchor"></a><span class="f_Heading3_atocs_">Sizing the system</span></h3>
<p class="p_Text"><span class="f_Text">SAM provides two options for specifying the numbers of modules and inverters in the PV system on the <a href="pv_system_design.htm" class="topiclink">System Design</a> page:</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_CHInterfaceElement">Specify Desired Array Size</span><span class="f_List"> automatically sizes the system based on a desired array capacity in DC kilowatts and a DC-to-AC ratio..</span></p><p class="p_ListLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_CHInterfaceElement">Specify Numbers of Modules and Inverters</span><span class="f_ListLast"> allows you to specify the number of modules per string, strings and inverters explicitly.</span></p><p class="p_Text"><span class="f_Text">You might want to start your analysis using the Specify Desired Array Size mode for an initial array configuration, and then refine your design using the Specify Numbers of Modules and Inverters mode.</span></p>
<p class="p_Text"><span class="f_Text">For information about how SAM models inverter clipping losses, s</span><span class="f_Note">ee <a href="pv_inverter.htm#clipping" class="topiclink">Inverter Clipping Loss</a>. </span><span class="f_Text">You can run the </span><span class="f_CHInterfaceElement">Inverter Sizing Information</span><span class="f_Text"> <a href="macros.htm" class="topiclink">macro</a> to generate a detailed report about clipping losses and the inverter's MPPT performance.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Specify Desired Array Size</span></h4>
<p class="p_Text"><span class="f_Text">This option is appropriate for very preliminary analyses to get a rough idea of a system's annual output, or as a first step in determining the number of modules per string, strings in parallel, and number of inverters for your system.</span></p>
<p class="p_Text"><span class="f_Text">The array sizing calculator estimates the number of modules and inverters required for the array size and DC-to-AC ratio that you specify. It uses the nominal specifications of the modules and inverters from the <a href="pv_module.htm" class="topiclink">Module</a> and <a href="pv_inverter.htm" class="topiclink">Inverter</a> pages to calculate values for the numbers of modules per string, strings in parallel, and inverters. Because SAM makes the calculation before running a simulation, it has no information about the expected output of the array for these calculations. However, SAM does display <a href="notices.htm" class="topiclink">notices</a> based on the expected output of the photovoltaic array and inverter that you can use to refine the array size.</span></p>
<p class="p_Text"><span class="f_Text">A better sizing approach is to optimize the inverter capacity to match the array's DC output rather than its nameplate capacity, because in an actual system the array rarely operates at its nameplate capacity. See the instructions for this approach under <a href="detailed_photovoltaic_model.htm#pv_sizing_manual" class="topiclink">Size the System by Hand</a>.</span></p>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To size the photovoltaic array with the array sizing assistant:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Choose an inverter or specify its parameters on the <a href="pv_inverter.htm" class="topiclink">Inverter</a> page. (For microinverters, see <a href="pv_inverter.htm#microinverters" class="topiclink">Modeling Microinverters</a>.)</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">Choose a module or specify its parameters on the <a href="pv_module.htm" class="topiclink">Module</a> page.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">On the <a href="pv_system_design.htm" class="topiclink">System Design</a> page, choose </span><span class="f_CHInterfaceElement">Specify desired array size</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStep">Type the array DC capacity value in kilowatts for </span><span class="f_CHInterfaceElement">Desired Array Size</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStep">Type the ratio of DC array capacity to AC inverter capacity for </span><span class="f_CHInterfaceElement">DC / AC Ratio</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM calculates and displays values for </span><span class="f_CHInterfaceElement">Modules per String</span><span class="f_ProcedureStepNoNumber">, </span><span class="f_CHInterfaceElement">Strings in Parallel</span><span class="f_ProcedureStepNoNumber">, and </span><span class="f_CHInterfaceElement">Number of Inverters</span><span class="f_ProcedureStepNoNumber">.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">6.</span><span class="f_ProcedureStep">Verify that </span><span class="f_CHInterfaceElement">Nameplate Capacity</span><span class="f_ProcedureStep"> under </span><span class="f_CHInterfaceElement">Modules</span><span class="f_ProcedureStep"> and </span><span class="f_CHInterfaceElement">Total capacity</span><span class="f_ProcedureStep"> under </span><span class="f_CHInterfaceElement">Inverters</span><span class="f_ProcedureStep"> are acceptably close to the desired values, and check the sizing messages for any information to help you adjust your assumptions.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">If the capacity is not as close to the desired value, you can try choosing a slightly smaller or larger module or inverter to get closer to the desired capacity. Because these capacity values are based on a multiple of the module and inverter capacities, SAM will probably not be able to suggest a system with your exact nameplate capacity value.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">7.</span><span class="f_ProcedureStep">If the values for the inverter maximum DC voltage, or inverter minimum MPPT voltage and maximum MPPT voltage are zero, see the note below.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">8.</span><span class="f_ProcedureStep">Under </span><span class="f_CHInterfaceElement">Tracking &amp; Orientation</span><span class="f_ProcedureStep">, choose options to specify the module tracking, orientation and spacing options. For details see <a href="pv_system_design.htm#dcsubarrays" class="topiclink">DC Subarrays</a>.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">9.</span><span class="f_ProcedureStep">On the Losses page, specify any DC or AC losses. You can use default values if you do not have specific loss values for your system design.</span></p><p class="p_Note"><span class="f_CHNote">Note for inverters in the CEC database with missing voltage limit data.</span><span class="f_Note"> </span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">For some of the inverters in the CEC inverter database, the maximum DC voltage, minimum MPPT voltage, and maximum MPPT voltage are missing from the database, and SAM displays zeros for those variables on the <a href="pv_inverter.htm" class="topiclink">Inverter</a> and <a href="pv_system_design.htm" class="topiclink">System Design</a> pages. For those inverters, there is insufficient information for SAM to determine whether the array rated voltages are within the acceptable ranges for the inverter. To properly size the array, you should refer to the inverter manufacturer specifications outside of SAM. You can either manually size the array by choosing the </span><span class="f_CHInterfaceElement">Specify numbers of modules and inverters</span><span class="f_Note"> mode, or use the <a href="pv_inverter.htm#datasheet" class="topiclink">Inverter Datasheet</a> option on the Inverter page to enter the ratings from the datasheet.</span></p>
<h4 class="p_Heading4"><a id="sizingalgorithm" class="hmanchor"></a><span class="f_Heading4">PV Array Sizing Calculator Algorithm</span></h4>
<p class="p_Text"><span class="f_Text">The array sizing calculator uses the following algorithm to determine the number of modules and inverters in the array:</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-style:italic;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_List" style="font-style: italic;">Choose an initial number of modules per string that results in a string maximum power voltage close to the midpoint between the inverter minimum MPPT voltage and maximum MPPT voltage.</span></p><p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-style:italic;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_List" style="font-style: italic;">If the resulting string open circuit voltage exceeds the inverter maximum DC input voltage, reduce the number of modules per string by one until the string voltage is less than the inverter limit.</span></p><p class="p_ListLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-style:italic;display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ListLast" style="font-style: italic;">Calculate the number of strings in parallel required to meet the desired array capacity.</span></p><p class="p_ListLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-style:italic;display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ListLast" style="font-style: italic;">Calculate the number of inverters required to meet the DC-to-AC ratio you specify.</span></p><p class="p_Text"><span class="f_Text">The algorithm uses the following rules to size the array:</span></p>
<p class="p_VariableDescription" style="text-indent: 0; padding-left: 13px; margin-left: 24px;"><span class="f_VariableDescription" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_VariableDescription">The string open circuit voltage (Voc) is less than the inverter's maximum DC voltage.</span></p><p class="p_ListLast" style="text-indent: 0; padding-left: 13px; margin-left: 24px;"><span class="f_VariableDescription" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_ListLast">The ratio of the array's nameplate capacity in DC kW to the inverter total capacity in AC kW is close to the DC-to-AC ratio that you specify.</span></p><p class="p_Text"><span class="f_Text">For the inverters in the CEC database with missing voltage limits:</span></p>
<p class="p_ListLast" style="text-indent: 0; padding-left: 13px; margin-left: 24px;"><span class="f_VariableDescription" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_ListLast">If the inverter minimum MPPT voltage and maximum MPPT voltage values are not available, then the number of modules per string is one.</span></p><p class="p_ListLast" style="text-indent: 0; padding-left: 13px; margin-left: 24px;"><span class="f_VariableDescription" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_ListLast">If the inverter maximum DC voltage is not available, but the minimum and maximum MPPT voltage values are, then the number of modules in series is determined from the MPPT voltage limits and the module maximum power voltage (see flowchart for details).</span></p><p class="p_Text" style="text-align: center;"><img alt="IMG_PVArray-sizing-flowchart" width="450" height="375" style="margin:0 auto 0 auto;width:450px;height:375px;border:none" src="img_pvarray-sizing-flowchart.png"/></p>
<p class="p_TitleFigure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleFigure">Flowchart of the PV Array Sizing Calculator Algorithm</span></p>
<p class="p_Text"><span class="f_Text">Where:</span></p>
<div style="text-align: left; text-indent: 0; page-break-inside: avoid; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="Where Table" >
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Vdcmax</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">Inverter maximum DC voltage</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Vmppmin</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">Inverter minimum MPPT voltage</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Vmppmax</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">Inverter maximum MPPT voltage</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Vmid</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">Midpoint between inverter minimum and maximum MPPT voltages</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Pinverter</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">Inverter maximum AC power</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Fdc-ac</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">DC-to-AC ratio</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Voc</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">String open circuit voltage</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Vmp</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">String maximum power voltage</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Pmodule</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">Module maximum DC power</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Nseries</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">Number of modules in series</span></p>
</td>
</tr>
<tr>
<td style="width:17px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">&nbsp;</span></p>
</td>
<td style="width:98px;"><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_Emphasis">Nparallel</span></p>
</td>
<td><p class="p_TableTextLeft" style="page-break-inside: avoid;"><span class="f_TableTextLeft">Number of strings in parallel</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<h4 class="p_Heading4"><a id="pv_sizing_manual" class="hmanchor"></a><span class="f_Heading4">Size the System by Hand: Specify Numbers of Modules and Inverters</span></h4>
<p class="p_Text"><span class="f_Text">This option is appropriate when you know the array layout, or to determine the optimal combination of modules, strings, and inverters. The following instructions explain one approach for choosing optimal values for the numbers of modules and inverters based on the array's expected DC output instead of its nameplate capacity.</span></p>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To specify numbers of modules and inverters by hand:</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Choose an inverter for the system or specify its parameters on the <a href="pv_inverter.htm" class="topiclink">Inverter</a> page. (For microinverters, see <a href="pv_inverter.htm#microinverters" class="topiclink">Modeling Microinverters</a>.)</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">If you are using the Inverter CEC Database model, note that some inverters in the database do not have the values for the voltage limits that you will need to size the system (maximum DC voltage and minimum and maximum MPPT voltages). If you are using such an inverter, you may want to use the <a href="pv_inverter.htm#datasheet" class="topiclink">Inverter Datasheet</a> option so that you can specify all of the required parameters</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">Choose a module or specify its parameters on the <a href="pv_module.htm" class="topiclink">Module</a> page.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">On the <a href="pv_system_design.htm" class="topiclink">System Design</a> page, choose </span><span class="f_CHInterfaceElement">Specify numbers of modules and inverters</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStep">For</span><span class="f_CHInterfaceElement"> Modules per String</span><span class="f_ProcedureStep">, type a value that results in a string open circuit voltage less than but as close as possible to the inverter's maximum DC input voltage, and greater than the inverter's minimum MPPT voltage. </span><span class="f_ProcedureStepNoNumber">For an initial estimate, you can try an integer value less than:</span></p><p class="p_EquationExcel"><span class="f_EquationExcel">Modules per String = [ ( Minimum MPPT Voltage + Maximum MPPT Voltage ) ÷ 2 ] ÷ Module Maximum Power Voltage</span></p>
<p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">If the resulting string open circuit DC voltage (</span><span class="f_CHInterfaceElement">String Voc</span><span class="f_ProcedureStepNoNumber">) is greater than the inverter's maximum DC voltage, reduce the number of modules per string. You may also want to try a similar module or inverter with slightly lower or higher maximum power.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStep">For </span><span class="f_CHInterfaceElement">Strings in Parallel</span><span class="f_ProcedureStep">, type a value that results in an array nameplate capacity that is close to your desired system DC capacity. </span><span class="f_ProcedureStepNoNumber">You can choose an integer value close to the value:</span></p><p class="p_ProcedureStepNoNumber"><span class="f_Emphasis">Strings in Parallel = Array Nameplate Capacity (kWdc) × 1000 (W/kW) ÷ Module Maximum Power (Wdc) ÷ Modules Per String</span><span class="f_ProcedureStepNoNumber">.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">6.</span><span class="f_ProcedureStep">For </span><span class="f_CHInterfaceElement">Number of Inverters</span><span class="f_ProcedureStep">, type a value that results in a DC-to-AC ratio (shown in the message box) close to your desired value. To calculate the value, use the smallest integer greater than</span><span class="f_ProcedureStepNoNumber">:</span></p><p class="p_ProcedureStepNoNumber"><span class="f_Emphasis">Number of Inverters = ( Modules per String × Strings in Parallel × Module Maximum Power (Wdc) ) ÷ ( DC-to-AC Ratio × Inverter Maximum AC Power (Wac) )</span></p>
<p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">You may need to experiment with different sizes of modules and inverters within the same family to find a combination that works for your system.</span></p>
<p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">7.</span><span class="f_ProcedureStepLast">Under Tracking &amp; Orientation, specify the tracking and orientation and ground coverage ratio as appropriate.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">8.</span><span class="f_ProcedureStep">On the <a href="pv_losses.htm" class="topiclink">Losses</a> page, specify any losses.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">9.</span><span class="f_ProcedureStep"><a href="run_simulations.htm" class="topiclink">Run a simulation</a>. See below for details about any simulation <a href="notices.htm" class="topiclink">notices</a>.</span></p><p class="p_ProcedureStep" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">10.</span><span class="f_ProcedureStep">On the <a href="results_page.htm" class="topiclink">Results</a> page, check the capacity factor in the <a href="summary.htm" class="topiclink">Metrics table</a> to make sure it is a reasonable value. (For example, the capacity factor for the default system based on mono-crystalline modules in Phoenix, Arizona is about 17.5%.) If it seems too low, check that the total inverter capacity is not too low and limiting the system's AC output. If it is, you may want to try using a larger inverter, fewer modules, or a module from the same family with slightly lower capacity.</span></p><p class="p_ProcedureStepNoNumber" style="text-indent: 0; padding-left: 0; margin-left: 48px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">11.</span><span class="f_ProcedureStepNoNumber">Also on the Results page, click the <a href="timeseries.htm" class="topiclink">Time Series</a> tab, and display the Hourly Energy variable. This is the system's AC output in kWh/h. You can use this information to decide whether to reduce the inverter capacity. For example if you specified a 400 kW inverter capacity, but the time series data indicates the system rarely operates at that level, you could try reducing the number of inverters to model a system with 315 kW of inverter capacity to reduce the system's installation cost.</span></p><p class="p_ProcedureStepLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_ProcedureStep" style="display:inline-block;width:24px;margin-left:-24px">12.</span><span class="f_ProcedureStepLast">Adjust the numbers of inverters, modules per string, and strings in parallel, and run more simulations until you are satisfied with the cost and performance of the system.</span></p><h3 class="p_Heading3_atocs_" style="page-break-inside: avoid; page-break-after: avoid; border-top: none; border-right: none; border-left: none;"><a id="postsimulationwarnings" class="hmanchor"></a><span class="f_Heading3_atocs_">Post-simulation Notices</span></h3>
<p class="p_Text"><span class="f_Text">After completing a simulation, SAM checks to see whether the inverter appears to be over- or under-sized based on the actual DC output of the array. If it finds any problems, it displays <a href="notices.htm" class="topiclink">notices</a> after simulations are complete.</span></p>
<p class="p_Text"><span class="f_Note">Post-simulation checks include:</span></p>
<p class="p_List" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_Emphasis">Inverter undersized:</span><span class="f_List"> The array output is greater than inverter rated capacity for one or more of the 8,760 hours in one year. SAM reports the number of hours that the array's simulated DC output is greater than the inverter's AC rated capacity.</span></p><p class="p_ListNoNumber"><span class="f_ListNoNumber">If the number of hours is small compared to the 8,760 hours in a year, you may choose to ignore the message. Otherwise, you may want to try increasing the inverter capacity.</span></p>
<p class="p_ListNoNumber"><span class="f_ListNoNumber">For example, for a system with 400 kWdc array capacity and 150 kWac total inverter capacity, SAM displays the following warning message: &quot;pvsamv1: Inverter undersized: The array output exceeded the inverter rating 157.62 kWdc for 2128 hours.&quot;</span></p>
<p class="p_ListNoNumber"><span class="f_ListNoNumber">The following <a href="timeseries.htm" class="topiclink">time series graphs</a> show the array's DC output in red, and the system's AC output in blue, indicating that the inverter capacity is limiting the system's AC output:</span></p>
<p class="p_ListNoNumber"><img alt="IMG_PVError-time-series-inverter-undersized" width="400" height="300" style="margin:0;width:400px;height:300px;border:none" src="img_pverror-time-series-inverter-undersized.png"/><span class="f_ListNoNumber"> <img alt="IMG_PVError-days-inverter-undersized" width="400" height="300" style="margin:0;width:400px;height:300px;border:none" src="img_pverror-days-inverter-undersized.png"/></span></p>
<p class="p_ListLast" style="text-indent: 0; padding-left: 24px; margin-left: 24px;"><span class="f_List" style="font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_Emphasis">Inverter output less than 75 percent of inverter rated capacity</span><span class="f_ListLast">: SAM compares the inverter's maximum AC output to the total inverter AC capacity and displays a simulation warning if the inverter's maximum AC output is less than 75% of the total inverter rated AC capacity.</span></p><p class="p_ListNoNumber"><span class="f_ListNoNumber">For example, for a system with 400 kWdc array capacity and 750 kWac inverter capacity, SAM displays the following warning message: &quot;pvsamv1: Inverter oversized: The maximum inverter output was 43.13% of the rated value 750 kWac.&quot;</span></p>
<p class="p_ListNoNumber"><span class="f_ListNoNumber">In this case, the time series graph of gross AC output shows that the inverter output never reaches the 750 kWac capacity.</span></p>
<p class="p_ListNoNumber"><img alt="IMG_PVError-time-series-inverter-oversized" width="400" height="300" style="margin:0;width:400px;height:300px;border:none" src="img_pverror-time-series-inverter-oversized.png"/></p>

</td></tr></table>

</body>
</html>
