<!DOCTYPE HTML>
<html>
<head>
   <title>Shading and Snow</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "pv_shading.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#FFFFFF; color:#0072C6;">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1"><span class="f_Heading1">Shading and Snow</span></h1>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p class="p_Text"><span class="f_Text">The detailed photovoltaic model accounts for the following kinds of shading and snow losses:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">External shading affects each subarray uniformly. SAM models external shading as a set of hourly shading losses that reduce the solar radiation incident on the array. SAM's <a href="pv_shading.htm#shadecalculator" class="topiclink">3D shade calculator</a> can generate shading loss values from a three-dimensional representation of the subarrays and nearby objects. You can also characterize external shading of the array by entering a set of <a href="pv_shading.htm#externalshading" class="topiclink">shading losses</a> or <a href="pv_shading.htm#importshadingdata" class="topiclink">importing files</a> </span><span class="f_Text">created by PVSyst, Solmetric Suneye, Solar Pathfinder, and other software</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List"><a href="pv_shading.htm#selfshading" class="topiclink">Self shading</a> for fixed subarrays or one-axis tracking systems where neighboring modules within the subarray shade each other. SAM models self shading as a set of DC losses that reduce the array's DC output.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ListLast"><a href="pv_shading.htm#snow" class="topiclink">Snow Coverage</a> estimates losses caused by snow covering the modules.</span></td></tr></table></div><p class="p_Note"><span class="f_CHNote">Notes.</span><span class="f_Note"> </span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">The monthly soiling losses on the <a href="pv_losses.htm" class="topiclink">Losses</a> page also reduce the radiation incident on the array.</span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">The self-shading model does not work with the </span><span class="f_CHInterfaceElement">Simple Efficiency Module</span><span class="f_Note"> model on the <a href="pv_module.htm" class="topiclink">Module</a> page.</span></p>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: 1px; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="shadecalculator"></a><img id="TOGGLE0186A1_ICON" class="dropdown-toggle-icon" src="ico-minus-16x16.gif" width="16" height="16" alt="Click to expand or collapse" title="Click to expand or collapse" style="width:16px;height:16px;border:none" /></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" title="Click to expand or collapse" href="javascript:HMToggle('toggle','TOGGLE0186A1','TOGGLE0186A1_ICON')">3D Shade Calculator</a></span></td></tr></table></div><div id="TOGGLE0186A1" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="ToggleContentTable" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">The <a href="3d_shade_calculator.htm" class="topiclink">SAM Shade Calculator</a> uses a sun position algorithm and a three-dimensional drawing of a photovoltaic array and nearby shading objects to generate hour-by-month tables of beam irradiance shade loss percentages. It has the following features:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">Uses Bing Maps geocoding to automatically find latitude, longitude, and time zone for any street address.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">A three dimensional drawing, or shade scene, represents the photovoltaic array and nearby shading objects.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">The scene consists of active surfaces (photovoltaic subarrays) and shading objects.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">Four three-dimensional shapes are designed to represent most shading objects: Box, cylinder, tree, and roof.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">View and edit the shade scene in three-dimensional, bird's eye, and elevation views.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">Add an optional aerial photograph from Bing Maps or your own image as an underlay for the bird's eye view to help position objects on the scene.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">Drag the three-dimensional view to see shadows on active surfaces and the shade loss at different sun positions.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStepLast">Calculate diurnal and hourly beam irradiance shade loss for a single year based on the scene location and relative positions of each active surface and shading objects in the scene.</span></td></tr></table></div><div class="p_Video"><div style="margin:0px auto 0px auto;width:560px;height:315px;padding:0px 0px 0px 0px"><iframe width="560" height="315" src="https://www.youtube.com/embed/Fp505oNJSfw?list=PLjWUCCbi7ZQGaKWztGRLadL90Y0a75hyx" frameborder="0" allowfullscreen></iframe>
</div></div>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To use the SAM shade analysis calculator:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">On the <a href="pv_shading.htm" class="topiclink">Shading</a> page (detailed photovoltaic model) or <a href="pvwatts_system_design.htm" class="topiclink">System Design</a> page (PVWatts), click </span><span class="f_CHInterfaceElement">Open 3D shade calculator</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep"><a href="3dshad-define-location.htm" class="topiclink">Define the scene location</a> (latitude, longitude, time zone).</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStep"><a href="3dshad-shading-objects.htm" class="topiclink">Add shading objects</a> to the scene -- these are trees, buildings, and other structures near the array that may block direct solar irradiance from reaching the array.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">4.</span></td><td style="border:none"><span class="f_ProcedureStep"><a href="3dshad-active-surface.htm" class="topiclink">Add active surface</a> objects to the scene to represent the photovoltaic array or subarrays.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">5.</span></td><td style="border:none"><span class="f_ProcedureStep"><a href="3dshad-save-close.htm" class="topiclink">Save and close</a> the calculator to apply shading factor valuess to the SAM <a href="pv_shading.htm" class="topiclink">shading</a> inputs.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">6.</span></td><td style="border:none"><span class="f_ProcedureStep"><a href="3dshad-generate-data.htm" class="topiclink">Generate shade data</a>.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">7.</span></td><td style="border:none"><span class="f_ProcedureStepLast"><a href="3dshad-export.htm" class="topiclink">Export shade data</a> to use in SAM or other simulation software</span><span class="f_Step" style="font-family: Arial;">.</span></td></tr></table></div><p class="p_Text"><span class="f_Text">For more step-by-step instructions, see <a href="3dshad-how-to.htm" class="topiclink">How-To</a>.</span></p>
<p class="p_Text"><span class="f_Text">For a description of the 3D shade calculator's features, see <a href="3dshad-reference.htm" class="topiclink">Reference</a>.</span></p>
</td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: 1px; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="externalshading"></a><img id="TOGGLE0186A2_ICON" class="dropdown-toggle-icon" src="ico-minus-16x16.gif" width="16" height="16" alt="ico-minus-16x16" style="width:16px;height:16px;border:none" /></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','TOGGLE0186A2','TOGGLE0186A2_ICON')">External Shading Losses</a></span></td></tr></table></div><div id="TOGGLE0186A2" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="ToggleContentTable" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">The external shading model calculates the effect of a reduction of the solar radiation incident on the array due to shadows on the array created by nearby objects such as trees and buildings.</span></p>
<p class="p_Text"><span class="f_Text">The array shading model assumes that the entire array is uniformly shaded.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">External Shading in Results</span></h4>
<p class="p_Text"><span class="f_Text">To see the effect of shading losses on the radiation incident on each subarray, after running a simulation, you can compare values in the hourly <a href="data.htm" class="topiclink">Tables</a> on the <a href="results_page.htm" class="topiclink">Results</a> page for nominal POA irradiance with the &quot;after shading only&quot; and &quot;after shading and soiling&quot; values. The radiation incident on the subarray is the POA total irradiance after shading and soling value (W/m</span><span class="f_Text" style="font-size: 7pt; vertical-align: super;">2</span><span class="f_Text">).</span></p>
<h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Enabling and Disabling External Shading</span></h3>
<p class="p_Text"><span class="f_Text">The detailed photovoltaic model provides five options for importing shading data files, three options for specifying beam shading factors, and one option for specifying a sky diffuse loss:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">You must choose at least one option.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ListLast">SAM does not prevent you from enabling more than one option even if that results in an unrealistic shading model. Be sure to verify that you have enabled the set of options you intend before running a simulation.</span></td></tr></table></div><p class="p_TitleProcedure"><span class="f_TitleProcedure">To enable the external shading:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Edit Shading</span><span class="f_ProcedureStep"> for the subarray for which you want to enable external shading. For a system with a single array, only Subarray 1 is available.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">If you are working with a shading file from PVsyst, Solmetric Suneye, or Solar Pathfinder software, </span><span class="f_ProcedureStepNoNumber">click the appropriate button under</span><span class="f_CHInterfaceElement"> Import shading data from external tools</span><span class="f_ProcedureStepNoNumber"> to import the file. See <a href="pv_shading.htm#importshadingdata" class="topiclink">Import Shading Files</a> for details.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStep">If you are using a table to specify shading factors (you can type, import, or paste values into the table), check the appropriate </span><span class="f_CHInterfaceElement">Enable</span><span class="f_ProcedureStep"> box. Checking each box causes a table to expand. See <a href="pv_shading.htm#beamfactors" class="topiclink">Beam Radiation Factors</a> for details.</span></td></tr></table></div><p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_Text"><img src="img_pvshading-enabledisable.gif" width="936" height="171" alt="IMG_PVShading-EnableDisable" style="width:936px;height:171px;border:none" /></p>
<h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Beam and Sky Diffuse Shading Factors</span></h3>
<p class="p_Text"><span class="f_Text">Each shading loss is a value between zero and one that represents the fraction of the solar radiation component (either beam or diffuse) allowed to reach the array. A shading loss of 0 represents no shading. A shading loss of 100% represents complete blockage of either the beam or sky diffuse radiation from the array.</span></p>
<p class="p_Text"><span class="f_Text">The value of the shading loss in each hour depends on the method you use to specify the values.</span></p>
<p class="p_Text"><span class="f_Text">To calculate the effect of shading on the array, SAM adjusts the incident beam and diffuse radiation value that it calculates from the data in the weather file and solar angles in each hour as appropriate:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">SAM reduces the incident normal radiation in each hour by the beam shading loss for that hour. The incident normal radiation is the solar radiation that reaches the array in a straight line from the sun. </span></td></tr></table></div><p class="p_ListNoNumber"><span class="f_ListNoNumber">For example, for a beam shading loss of 10% for the 8 a.m. hour of December 20, SAM would reduce the beam radiation value in the weather file by 10% for that hour, and use that reduced value to calculate the total incident radiation on the array for that hour.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ListLast">SAM reduces the incident sky diffuse radiation for each hour by the sky diffuse shading loss. Sky diffuse radiation is radiation that reaches the array from the sun indirectly after being reflected by clouds and particles in the atmosphere. Sky diffuse radiation does not include diffuse radiation reflected from the ground. Note that you can only specify a single value that applies to all hours of the year for the sky diffuse shading loss.</span></td></tr></table></div><h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><a id="beamfactors"></a><span class="f_Heading3_atocs_">Beam Radiation Shading Factors</span></h3>
<p class="p_Text"><span class="f_Text">The detailed photovoltaic model provides three options for specifying beam shading factors: Hourly 8760, Month by Hour, and Solar Azimuth by Altitude angle.</span></p>
<p class="p_Text"><span class="f_Text">Typically, you would enable only one of the three options. However, if you enable more than one option, SAM combines the losses you enabled for each hour to calculate a total shading loss.</span></p>
<p class="p_Note"><span class="f_CHNote">Tip.</span><span class="f_Note"> If you plan to import hourly, month-by-hour, or azimuth-by-altitude shading data from text files, you can see the correct file format by exporting dummy data. SAM will create a text file in the correct format that you can use as an example for your data.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Hourly 8760</span></h4>
<p class="p_Text"><span class="f_Text">The Hourly 8760 option allows you to use a set of hourly (8,760 hours/year) beam shading factors for the project location.</span></p>
<p class="p_Text"><span class="f_Text">The data's time convention should follow that of the weather file. For the standard TMY files, Hour 1 is the hour ending at 1 a.m. on Monday, January 1.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To specify hourly beam shading factors:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> on the <a href="pv_shading.htm" class="topiclink">Shading</a> page.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">Check </span><span class="f_CHInterfaceElement">Enable hourly beam irradiance shading factors</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Edit Data</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">4.</span></td><td style="border:none"><span class="f_ProcedureStep">To copy data from a spreadsheet, select and copy a column of 8,760 beam shading factors in the spreadsheet and click </span><span class="f_CHInterfaceElement">Paste</span><span class="f_ProcedureStep"> in the Edit Data window.</span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">To import data from a text file, click </span><span class="f_CHInterfaceElement">Import</span><span class="f_ProcedureStepNoNumber"> and navigate to the file. The file must contain a single column of 8,761 rows: A header in the first row followed by 8,760 beam radiation values.</span></p>
<p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">To see an example of the correct file format, click </span><span class="f_CHInterfaceElement">Export</span><span class="f_ProcedureStepNoNumber"> to export the default shading table to a text file and open it with a text editor.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Month by Hour</span></h4>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> You can use the <a href="pv_shading.htm#shadecalculator" class="topiclink">3D shade calculator</a> to <a href="3dshad-generate-data.htm" class="topiclink">automatically generate month-by-hour shade factors</a> from a three-dimensional drawing of the array and nearby objects.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To specify month by hour shading factors:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> on the <a href="pv_shading.htm" class="topiclink">Shading</a> page.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStepLast">Check </span><span class="f_CHInterfaceElement">Enable month by hour beam irradiance shading factors</span><span class="f_ProcedureStepLast">.</span></td></tr></table></div><p class="p_Text"><span class="f_Text">To the month-by-hour shading loss matrix is a 24-by-12 table containing a set of 24 hourly shading loss percentages for each month of the year. The shading loss in a cell applies to a given hour for an entire month.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">The data's time convention should follow that of the weather file. For the standard TMY files, the value in the first row and column is for the hour ending at 1 a.m. for all days in January.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">A red cell indicates a value of zero, or full shading (beam radiation completely blocked).</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">A white cell indicates a value of one, or no shading.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ListLast">A dark shade of red indicates more shading (more beam radiation) than a light shade of red.</span></td></tr></table></div><p class="p_TitleProcedure"><span class="f_TitleProcedure">To define a shading loss for a single cell:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStep">Click the cell and type the shading loss percentage.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStep">To replace the value in a cell, click the cell and type a replacement value.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStepLast">To delete the value from a cell, double-click the cell and press the Delete key.</span></td></tr></table></div><p class="p_TitleProcedure"><span class="f_TitleProcedure">To define a single shading loss for multiple cells:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStep">Use your mouse to select the cells to which you want to apply the shading loss percentage.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStep">Type a value between zero and one.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStepLast">Press the Enter key or click </span><span class="f_CHInterfaceElement">Apply to selected cells</span><span class="f_ProcedureStepLast">.</span></td></tr></table></div><p class="p_TitleProcedure"><span class="f_TitleProcedure">To import or export month-by-hour beam shading factors:</span></p>
<p class="p_Text"><span class="f_Text">SAM allows you to import and export the shading loss matrix as a comma-delimited text file that contains 12 rows of 24 hourly shading factors separated by commas. The file should not have row or column headings.</span></p>
<p class="p_Text"><span class="f_Text">To see an example of the correct file format, export the default shading table to a text file and open it with a text editor.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStep">To export the shading matrix as a text file, click </span><span class="f_CHInterfaceElement">Export</span><span class="f_ProcedureStep">. SAM saves the file with the </span><span class="f_Emphasis">.csv</span><span class="f_ProcedureStep"> extension.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStep">To import a data from a comma-delimited text file, click </span><span class="f_CHInterfaceElement">Import</span><span class="f_ProcedureStep">. You can open a correctly formatted text file with any extension, although SAM expects a </span><span class="f_Emphasis">.csv</span><span class="f_ProcedureStep"> file by default.</span></td></tr></table></div><h4 class="p_Heading4"><a id="azxalt"></a><span class="f_Heading4">Solar Azimuth by Altitude</span></h4>
<p class="p_Text"><span class="f_Text">The solar azimuth-by-altitude table is a two-dimensional look-up table of beam irradiance shading factors. For each hour in the simulation, SAM calculates the position of the sun as a set of solar azimuth and altitude angles and looks up the shading loss to use for that hour based on the solar position. SAM uses linear interpolation to estimate the value of the shading loss for solar angles that fall between values in the table row and column headings.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> Azimuth values use the following convention: 0 = north, 90 = east, 180 = south, 270 = west.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To define the azimuth-altitude shading loss table by hand:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> on the <a href="pv_shading.htm" class="topiclink">Shading</a> page.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Enable solar azimuth by altitude beam irradiance shading loss table</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStep">In </span><span class="f_CHInterfaceElement">Rows</span><span class="f_ProcedureStep"> and </span><span class="f_CHInterfaceElement">Cols</span><span class="f_ProcedureStep">, type the number of rows and columns in the table.</span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">Specify a number of rows that is one greater than the number of azimuth values: For example for a table with ten rows of solar azimuth values, specify a </span><span class="f_CHInterfaceElement">Rows</span><span class="f_ProcedureStepNoNumber"> value of 11. Similarly, specify a </span><span class="f_CHInterfaceElement">Cols</span><span class="f_ProcedureStepNoNumber"> value that is one greater than the number of altitude values.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">4.</span></td><td style="border:none"><span class="f_ProcedureStep">In the top row (highlighted in blue), type a set of solar azimuth values between zero and 360 and increasing monotonically from left to right.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">5.</span></td><td style="border:none"><span class="f_ProcedureStep">In the leftmost column (highlighted in blue), type a set of solar altitude between zero and 90 and increasing monotonically from top to bottom.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">6.</span></td><td style="border:none"><span class="f_ProcedureStepLast">Type a beam shading loss value (between zero and 100%) in each cell of the table. A value of 100% indicates that beam irradiance is fully blocked by a shading object. A value of zero indicates that beam irradiance is not blocked.</span></td></tr></table></div><p class="p_TitleProcedure"><span class="f_TitleProcedure">To import or export azimuth-by-altitude beam shading factors:</span></p>
<p class="p_Text"><span class="f_Text">SAM allows you to import and export the azimuth-altitude lookup table as a comma-delimited text file that contains shading factors separated by commas. The file should include the row and column headings.</span></p>
<p class="p_Text"><span class="f_Text">To see an example of the correct file format, export the default shading table to a text file and open it with a text editor.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStep">To export the shading matrix as a text file, click </span><span class="f_CHInterfaceElement">Export.</span><span class="f_ProcedureStep"> You can save the file with any file extension, including </span><span class="f_Emphasis">.txt</span><span class="f_ProcedureStep"> or </span><span class="f_Emphasis">.csv</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ProcedureStepLast">To import data from a comma-delimited text file, click </span><span class="f_CHInterfaceElement">Import</span><span class="f_ProcedureStepLast">.</span></td></tr></table></div><h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Sky Diffuse Shading Loss</span></h3>
<p class="p_Text"><span class="f_Text">SAM provides a single input for a sky diffuse loss that it applies to every hour in the year. It represents fraction of the sky that is obstructed, and is therefore constant.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To define a sky diffuse shading loss:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> on the <a href="pv_shading.htm" class="topiclink">Shading</a> page.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Enable sky diffuse shading loss (constant)</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStepLast">Type a value for the shading loss.</span></td></tr></table></div></td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: 1px; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="importshadingdata"></a><img id="TOGGLE0186A3_ICON" class="dropdown-toggle-icon" src="ico-minus-16x16.gif" width="16" height="16" alt="ico-minus-16x16" style="width:16px;height:16px;border:none" /></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','TOGGLE0186A3','TOGGLE0186A3_ICON')">Import Shading Files</a></span></td></tr></table></div><div id="TOGGLE0186A3" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="ToggleContentTable" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">SAM allows you to import shading data from the following software:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">PVsyst, photovoltaic system design software, <a href="http://www.pvsyst.com" target="_blank" class="weblink">http://www.pvsyst.com</a></span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">Solmetric SunEye, shading analysis device, <a href="http://www.solmetric.com" target="_blank" class="weblink">http://www.solmetric.com</a></span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ListLast">Solar Pathfinder, shading analysis device, <a href="http://www.solarpathfinder.com" target="_blank" class="weblink">http://www.solarpathfinder.com</a></span></td></tr></table></div><h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Importing Data from PVsyst</span></h3>
<p class="p_Text"><span class="f_Text">You can import a &quot;Near Shadings&quot; table generated by PVsyst into SAM. SAM automatically imports data from the text file generated by PVsyst into the Solar Azimuth by Altitude Shading loss table and the diffuse shading loss value.</span></p>
<p class="p_Note"><span class="f_CHNote">Notes.</span><span class="f_Note"> We have tested the following procedure with Version 5 of PVsyst.</span></p>
<p class="p_Text"><span class="f_Text">The &quot;Near Shadings&quot; table in PVsyst looks like this:</span></p>
<p class="p_Text"><img src="ss_pvshading-pvsyst-table.gif" width="575" height="238" alt="SS_PVShading-pvsyst-table" style="width:575px;height:238px;border:none" /></p>
<p class="p_Text"><span class="f_Text">The &quot;Near Shadings&quot; data exported to a text file looks like this (in this example with semicolon delimiters):</span></p>
<p class="p_Text"><img src="ss_pvshading-pvsyst-shadingtabletext.gif" width="680" height="123" alt="SS_PVShading-pvsyst-shadingtabletext" style="width:680px;height:123px;border:none" /></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To import a &quot;Near Shadings&quot; table from PVsyst:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">In PVsyst, follow the procedure to create and export a &quot;Near Shadings&quot; table. The table in PVsyst should look similar to the one below. SAM will recognize any of the delimiter options: tab, comma, or semicolon.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the <a href="pv_losses.htm" class="topiclink">PV Subarrays</a> page or <a href="pvwatts_system_design.htm" class="topiclink">PVWatts Solar Array</a> page) to open the Edit Shading Data window, and click the </span><span class="f_CHInterfaceElement">PVsyst near shading</span><span class="f_ProcedureStep"> and navigate to the folder containing the shading file.</span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">When SAM imports data from the file, it displays the message &quot;Azimuth-Altitude Table and Diffuse loss update&quot; and populates the azimuth-altitude shading table, the sky diffuse shading loss, and enables both options.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStepLast">Disable any shading options that do not apply to your analysis.</span></td></tr></table></div><h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Importing from Solmetric SunEye</span></h3>
<p class="p_Text"><span class="f_Text">The Solmetric SunEye software generates shading data in two formats: The obstruction table, which characterizes shading using an altitude-azimuth angle table to indicate solar positions that are blocked by nearby obstructions, and the hourly shading file, which lists hourly beam radiation shading factors. SAM can read data from both tables.</span></p>
<p class="p_Text"><span class="f_Text">Use the obstruction table if you plan to model the system for different locations (assuming the same shading obstructions). Use the hourly shading loss table if you plan to model the system for a single location.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> If you use the hourly shading loss table, be sure that the weather data specified on the <a href="pv_location_and_resource.htm" class="topiclink">Location and Resource</a> page is for the same location as the one where the SunEye measurements were made.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To import a SunEye obstruction table:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">In the Solmetric SunEye software (not the PV Designer software), on the </span><span class="f_CHInterfaceElement">File</span><span class="f_ProcedureStep"> menu, click</span><span class="f_CHInterfaceElement"> Export Session Report and Data</span><span class="f_ProcedureStep">.</span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">The SunEye software creates a set of files, and assigns a default name like </span><span class="f_Emphasis">Sky01ObstructionElevations.csv</span><span class="f_ProcedureStepNoNumber"> to the obstruction data file. By default, the files are in a folder named </span><span class="f_Emphasis">ExportedFiles</span><span class="f_ProcedureStepNoNumber"> in the exported report folder.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the <a href="pv_losses.htm" class="topiclink">PV Subarrays</a> page or <a href="pvwatts_system_design.htm" class="topiclink">PVWatts Solar Array</a> page) to open the Edit Shading Data window, and click </span><span class="f_CHInterfaceElement">Suneye obstructions table</span><span class="f_ProcedureStep">, and navigate to the folder containing the file you want to import.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStep">Open the obstruction data file for any of the available skies (</span><span class="f_CHFileName">Sky01ObstructionElevations</span><span class="f_ProcedureStep">, </span><span class="f_CHFileName">Sky02ObstructionElevations</span><span class="f_ProcedureStep">, etc.). </span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">If the average or worst case obstruction data from multiple skylines will be used, then an extra step is required. In a spreadsheet program, open the </span><span class="f_CHFileName">ObstructionElevation</span><span class="f_ProcedureStepNoNumber"> file containing the average and maximum values as well as all skylines in the SunEye session. Make sure that the desired data (average or maximum) is in the third column, delete the other columns, and save the file as .csv with a name like </span><span class="f_CHFileName">ObstructionElevationsAVG.csv</span><span class="f_ProcedureStepNoNumber">. Use this file as the obstruction data file in SAM.</span></p>
<p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the message &quot;Azimuth-Altitude Table updated,&quot; populates the azimuth-altitude shading loss table, and enables the </span><span class="f_CHInterfaceElement">Enable solar azimuth by altitude beam irradiance shading loss</span><span class="f_ProcedureStepNoNumber"> option.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">4.</span></td><td style="border:none"><span class="f_ProcedureStepLast">Be sure to enable and disable the other shading options as appropriate.</span></td></tr></table></div><p class="p_TitleProcedure"><span class="f_TitleProcedure">To import a SunEye hourly shading file:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">In the Solmetric SunEye software (not the PV Designer software), on the </span><span class="f_CHInterfaceElement">File</span><span class="f_ProcedureStep"> menu, click</span><span class="f_CHInterfaceElement"> Export Session Report and Data</span><span class="f_ProcedureStep">.</span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">The SunEye software creates a set of files, and assigns a default name like </span><span class="f_Emphasis">Sky01Shading.csv</span><span class="f_ProcedureStepNoNumber"> to the hourly shading file. By default, the files are in a folder named </span><span class="f_Emphasis">ExportedFiles</span><span class="f_ProcedureStepNoNumber"> in the exported report folder.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the <a href="pv_losses.htm" class="topiclink">PV Subarrays</a> page or <a href="pvwatts_system_design.htm" class="topiclink">PVWatts Solar Array</a> page) to open the Edit Shading Data window, and click </span><span class="f_CHInterfaceElement">Suneye hourly shading</span><span class="f_ProcedureStep">, and navigate to the folder containing the shading file.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStep">Open the shading file for any of the available skies (</span><span class="f_CHFileName">Sky01Shading</span><span class="f_ProcedureStep">, </span><span class="f_CHFileName">Sky02Shading</span><span class="f_ProcedureStep">, etc.). To use average shading for multiple skylines, open </span><span class="f_CHFileName">AverageShading.csv</span><span class="f_ProcedureStep">.</span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the message &quot;Hourly Shading Factors for Beam Radiation updated,&quot; populates the hourly shading loss table, and enables the </span><span class="f_CHInterfaceElement">Enable Hourly Beam Shading Factors</span><span class="f_ProcedureStepNoNumber"> option.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">4.</span></td><td style="border:none"><span class="f_ProcedureStep">To see the hourly data, click </span><span class="f_CHInterfaceElement">Edit Data</span><span class="f_ProcedureStep"> under </span><span class="f_CHInterfaceElement">Hourly Shading Factors for Beam Radiation</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">5.</span></td><td style="border:none"><span class="f_ProcedureStep">Be sure to enable and disable the other shading options as appropriate.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">6.</span></td><td style="border:none"><span class="f_ProcedureStepLast">On the <a href="pv_location_and_resource.htm" class="topiclink">Location and Resource</a> page, choose a weather file for the same location represented by the SunEye shading data.</span></td></tr></table></div><h3 class="p_Heading3_atocs_" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading3_atocs_">Importing from SolarPathfinder Assistant</span></h3>
<p class="p_Text"><span class="f_Text">The SolarPathfinder Assistant software generates shading data in two formats: The obstruction table, which characterizes shading using an altitude-azimuth angle table to indicate solar positions that are blocked by nearby obstructions, and the hourly shading file, which lists hourly beam radiation shading factors. SAM can read data from both tables.</span></p>
<p class="p_Text"><span class="f_Text">Use the obstruction table if you plan to model the system for different locations (assuming the same shading obstructions). Use the hourly shading loss table if you plan to model the system for a single location.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> If you use the month-by-hour shading loss table, be sure that the weather data specified on the Location and Resource page is for the same location as the one where the Solar Pathfinder measurements were made.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To import a Solar Pathfinder obstruction table:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">In SolarPathfinder Assistant, on the File menu, click </span><span class="f_CHInterfaceElement">Export</span><span class="f_ProcedureStep">, </span><span class="f_CHInterfaceElement">Horizon Angles</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">In the Save window, </span><span class="f_ProcedureStepNoNumber">specify the location and name of the data file.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the <a href="pv_losses.htm" class="topiclink">PV Subarrays</a> page or <a href="pvwatts_system_design.htm" class="topiclink">PVWatts Solar Array</a> page) to open the Edit Shading Data window, and click </span><span class="f_CHInterfaceElement">Solar Pathfinder obstructions</span><span class="f_ProcedureStep">, and navigate to the folder containing the file you want to import.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">4.</span></td><td style="border:none"><span class="f_ProcedureStep">Open the obstruction data file you saved in Step 2. </span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the message &quot;Azimuth-Altitude Table updated,&quot; populates the azimuth-altitude shading loss table, and enables the Enable Azimuth-Altitude Shading Factors for Beam Radiation option.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">5.</span></td><td style="border:none"><span class="f_ProcedureStep">Be sure to enable and disable the other shading options as appropriate.</span></td></tr></table></div><p class="p_TitleProcedure"><span style="font-family: verdana; font-weight: bold;">To import a Solar Pathfinder Month by Hour shading file:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_ProcedureStep">In SolarPathfinder Assistant, on the File menu, click </span><span class="f_CHInterfaceElement">Export</span><span class="f_ProcedureStep">, </span><span class="f_CHInterfaceElement">Shading Data</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_ProcedureStep">In the </span><span class="f_ProcedureStepNoNumber">Save window, specify the location and name of the data file.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_ProcedureStep">In SAM, click </span><span class="f_CHInterfaceElement">Edit shading</span><span class="f_ProcedureStep"> (on the <a href="pv_losses.htm" class="topiclink">PV Subarrays</a> page or <a href="pvwatts_system_design.htm" class="topiclink">PVWatts Solar Array</a> page) to open the Edit Shading Data window, and click</span><span class="f_CHInterfaceElement"> Solar Pathfinder month by hour shading</span><span class="f_ProcedureStep">, and navigate to the folder containing the shading file.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">4.</span></td><td style="border:none"><span class="f_ProcedureStep">Open the shading file you saved in Step 2.</span></td></tr></table></div><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the message &quot;Hourly Shading Factors for Beam Radiation updated,&quot; populates the hourly shading loss table, and enables the Enable Hourly Beam Irradiance Shading Losses option.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">5.</span></td><td style="border:none"><span class="f_ProcedureStep">To see the hourly data, click </span><span class="f_CHInterfaceElement">Edit Data</span><span class="f_ProcedureStep"> under </span><span class="f_CHInterfaceElement">Enable hourly beam irradiance shading losses</span><span class="f_ProcedureStep">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">6.</span></td><td style="border:none"><span class="f_ProcedureStep">Be sure to enable and disable the other shading options as appropriate.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">7.</span></td><td style="border:none"><span class="f_ProcedureStep">On the Location and Resource page, choose a weather file for the same location represented by the Solar Pathfinder shading data.</span></td></tr></table></div></td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: 1px; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="selfshading"></a><img id="TOGGLE0186A4_ICON" class="dropdown-toggle-icon" src="ico-minus-16x16.gif" width="16" height="16" alt="Click to expand or collapse" title="Click to expand or collapse" style="width:16px;height:16px;border:none" /></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" title="Click to expand or collapse" href="javascript:HMToggle('toggle','TOGGLE0186A4','TOGGLE0186A4_ICON')">Self Shading</a></span></td></tr></table></div><div id="TOGGLE0186A4" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="ToggleContentTable" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">The self-shading model e</span><span class="f_VariableDescription">stimates the reduction in the array's DC output due to row-to-row shading of modules within the subarray</span><span class="f_Text">, where shadows from modules in neighboring rows of the array block sunlight from parts of other modules in the array during certain times of day.</span></p>
<p class="p_Text"><span class="f_Text">The response of a real photovoltaic module to shading is complex, and depends on several factors including the cell material, shape and layout of cells in the module, and configuration of bypass diodes in the module.</span></p>
<p class="p_Text"><span class="f_Text">For a description of the self-shading model implemented in SAM, see the draft pre-print Deline, C.; Dobos, A.; Janzou, S.; Meydbrey, J.; Donoval, M. (2013) A Simplified Model of Uniform Shading in Large Photovoltaic Arrays. Solar Energy Vol 96, October 2013, pp 274-282. Draft Preprint &nbsp;(<a href="https://sam.nrel.gov/sites/sam.nrel.gov/files/content/documents/pdf/deline-self-shading-model-draft-2013.pdf" target="_blank" class="weblink" title="https://sam.nrel.gov/sites/sam.nrel.gov/files/content/documents/pdf/deline-self-shading-model-draft-2013.pdf">PDF 1.3 MB</a>).</span></p>
<p class="p_Text"><span class="f_Text">SAM's self-shading model has several limitations, and only works under the following conditions:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">The cell material is crystalline silicon, either mono-crystalline or poly-crystalline. The self-shading model does not work for modules with thin film cells. SAM indicates the cell material on the <a href="pv_module.htm" class="topiclink">Module</a> page under Physical Characteristics.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">The self-shading model does not work with the <a href="pv_module.htm#simpleefficiency" class="topiclink">Simple Efficiency Module Model</a>.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_ListLast">Each module in the array consists of square cells arranged in a rectangular grid with one or more bypass diodes and can be described using the input variables described below. The self-shading model does not work for modules with rectangular, circular, or triangular shaped cells.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_List">The array uses the fixed or one-axis tracking option on the <a href="pv_system_design.htm" class="topiclink">Array</a> page. The self-shading model does not work for two-axis or azimuth-axis tracking.</span></td></tr></table></div><p class="p_Text"><span class="f_Text">SAM's module performance models assume that modules operate at the maximum power point for the level of incident radiation in each hour. The self-shading model calculates a single DC loss that estimates the total effect of shading on the subarray's output. The self-shading model calculates and applies the hourly DC loss using the following algorithm:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">1.</span></td><td style="border:none"><span class="f_List">Calculate the array's DC output (without shading) at the maximum power point based on the inputs you specify on the Module page and Array page.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">2.</span></td><td style="border:none"><span class="f_List">Calculate the size and position of rectangles of shade on the array using information about the relative positions of the sun and modules in the array.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">3.</span></td><td style="border:none"><span class="f_List">Determine the reduction in output of each module in the array based on the number of shaded cells and bypass diodes.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 3px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">4.</span></td><td style="border:none"><span class="f_List">Calculate an overall loss to apply to the array's maximum power point DC output that represents the reduction of output caused by the shadows.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:24px"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;">5.</span></td><td style="border:none"><span class="f_ListLast">Recalculate the array's DC output.</span></td></tr></table></div><p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> To simplify inputs for the self-shading model, SAM assumes that the module length is 1.7 times its width.</span></p>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_Text"><span class="f_ImageCaption">  <img src="img_selfshad-definitions.png" width="403" height="153" alt="IMG_SelfShad-definitions" style="width:403px;height:153px;border:none" /></span></p>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_VariableName"><span class="f_VariableName">Shading mode</span></p>
<p class="p_VariableDescription"><span class="f_CHInterfaceElement">Self-shaded</span><span class="f_VariableDescription"> estimates losses from self-shading caused by shading of modules in one row by modules in neighboring rows based on the GCR value you specify.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> You specify whether the tracking algorithm uses backtracking on the <a href="pv_system_design.htm#backtracking" class="topiclink">System Design</a> page.</span></p>
<p class="p_VariableDescription"><span class="f_CHInterfaceElement">None</span><span class="f_VariableDescription"> uses the approach of versions of SAM before SAM 2014.1.14. Because this option does not account for any self-shading, it tends to overestimate the array's production. We included this option to allow for comparison between the different options to see the effect of the self-shaded and backtracking options, and for comparison between results from this version and older versions of SAM.</span></p>
<p class="p_VariableName"><span class="f_VariableName">Module Orientation</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The module orientation determines whether the short or long side of the module is parallel to the ground, assuming that all modules in the array are mounted at a fixed angle from the horizontal equal to the tilt angle specified on the <a href="pv_system_design.htm" class="topiclink">Array</a> page.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Portrait orientation means the short end of the module is parallel to the ground, or at the bottom of the module.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Landscape orientation means the long end of the module is parallel to the ground, or at the bottom of the module.</span></p>
<p class="p_VariableName"><span class="f_VariableName">Modules in subarray</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The number of modules in the subarray, from the <a href="pv_system_design.htm" class="topiclink">System Design</a> page.</span></p>
<p class="p_VariableName"><span class="f_VariableName">GCR</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Ground coverage ratio, defined as the length of the side of one row divided by the distance between the bottom of one row and the bottom of its neighboring row.</span></p>
<p class="p_VariableName"><span class="f_VariableName">Number of modules along side of row</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The number of modules along the edge of the subarray array perpendicular to the bottom of the array as defined below.</span></p>
<p class="p_VariableName"><span class="f_VariableName">Number of modules along bottom of row</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The number of modules along the bottom of a row, which is the edge of the row nearest to the ground.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> SAM generates a simulation message if the number of modules along the side and bottom of the row you specify is inconsistent with the number of modules in the subarray, but does calculate and apply the self-shading loss factors based on the numbers you specify.</span></p>
</td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: 1px; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="snow"></a><img id="TOGGLE0186A5_ICON" class="dropdown-toggle-icon" src="ico-minus-16x16.gif" width="16" height="16" alt="Click to expand or collapse" title="Click to expand or collapse" style="width:16px;height:16px;border:none" /></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" title="Click to expand or collapse" href="javascript:HMToggle('toggle','TOGGLE0186A5','TOGGLE0186A5_ICON')">Snow Coverage</a></span></td></tr></table></div><div id="TOGGLE0186A5" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="ToggleContentTable" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">SAM's snow model for photovoltaic systems estimates the loss in system output during time steps when the array is covered in snow. It uses snow depth data from the weather file, and for time steps with snow, estimates the percentage of the photovoltaic array that is covered with snow based on the array's tilt angle, plane-of-array irradiance, and ambient temperature. The model assumes that the array is completely covered with snow when the snow depth data indicates a snowfall, and that snow slides off the array as the ambient temperature increases.</span></p>
<p class="p_Text"><span class="f_Text">For a complete description of the model, see Ryberg, D.; Freeman, J. (2015). Integration, Validation, and Application of a PV Snow Coverage Model in SAM. National Renewable Energy Laboratory. NREL/TP-6A20-64260. (forthcoming, will be posted on <a href="https://sam.nrel.gov/performance" target="_blank" class="weblink" title="https://sam.nrel.gov/performance">SAM website</a> when available)</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> Only the NSRDB 1961-1990 TMY2 weather files from the National Solar Radiation Database contain snow depth data. To test the model, you should choose a file with &quot;TMY2&quot; in its name from the library on the Location and Resource page. The SAM CSV format supports snow depth data, so you should use that format to create a file with data from another source. If you run the snow model with a weather file that does not contain snow depth data, the simulation will fail, and SAM will display a notice saying something like &quot;The maximum acceptable number of bad snow depth values (500) has been reached.&quot;</span></p>
<p class="p_VariableName"><span class="f_VariableName">Estimate losses due to snow</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Check this option to model snow losses if the weather file on the <a href="pv_location_and_resource.htm" class="topiclink">Location and Resource</a> page includes snow depth data.</span></p>
<p class="p_Text"><span class="f_Text">SAM shows the total estimated snow loss in the loss diagram under <a href="losses.htm" class="topiclink">Losses</a> on the Results page, and in the Energy Loss table under <a href="summary.htm" class="topiclink">Summary</a>. You can see the power loss due to snow by displaying the Power loss due to snow in the <a href="timeseries.htm" class="topiclink">time series</a> or hourly and subourly <a href="data.htm" class="topiclink">data</a>.</span></p>
</td>
</tr>
</table>
</div>

</td></tr></table>

<script type="text/javascript">
HMInitToggle('TOGGLE0186A1_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A1\',\'TOGGLE0186A1_ICON\')');
HMInitToggle('TOGGLE0186A1','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A2_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A2\',\'TOGGLE0186A2_ICON\')');
HMInitToggle('TOGGLE0186A2','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A3_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A3\',\'TOGGLE0186A3_ICON\')');
HMInitToggle('TOGGLE0186A3','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A4_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A4\',\'TOGGLE0186A4_ICON\')');
HMInitToggle('TOGGLE0186A4','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A5_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A5\',\'TOGGLE0186A5_ICON\')');
HMInitToggle('TOGGLE0186A5','hm.type','dropdown','hm.state','0');
</script>
</body>
</html>
