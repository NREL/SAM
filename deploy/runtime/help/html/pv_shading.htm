<!DOCTYPE HTML>
<html>
<head>
   <title>Shading and Snow</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "pv_shading.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#FFFFFF; color:#0072C6;">
  <tr style="vertical-align:middle">
    <td style="text-align:left">
      <h1 class="p_Heading1"><span class="f_Heading1">Shading and Snow</span></h1>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p class="p_Text"><span class="f_Text">The detailed photovoltaic model accounts for the following kinds of shading and snow losses:</span></p>
<p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">External shading, which SAM assumes affects each subarray uniformly. SAM models </span><span class="f_CHInterfaceElement">external shading</span><span class="f_List"> as a set of hourly shading losses that reduce the plane-of-array beam solar irradiance, and a single sky diffuse loss. SAM's </span><span class="f_CHInterfaceElement">3D shade calculator</span><span class="f_List"> can generate shading loss values from a three-dimensional representation of the subarrays and nearby objects. You can also characterize external shading of the array by entering a set of external shading losses or importing files </span><span class="f_Text">created by PVSyst, Solmetric Suneye, Solar Pathfinder, and other software</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_CHInterfaceElement">Self shading</span><span class="f_List"> for fixed subarrays or one-axis tracking systems where neighboring modules within the subarray shade each other. SAM models self shading as a set of DC losses that reduce the array's DC output.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_CHInterfaceElement">Snow Coverage</span><span class="f_ListLast"> estimates losses caused by snow covering the modules.</span></p><p class="p_Note"><span class="f_CHNote">Notes.</span><span class="f_Note"> </span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">The monthly soiling losses on the <a href="pv_losses.htm" class="topiclink">Losses</a> page also reduce the radiation incident on the array.</span><br />
<span class="f_Note">&nbsp;</span><br />
<span class="f_Note">The self-shading model does not work with the </span><span class="f_CHInterfaceElement">Simple Efficiency Module</span><span class="f_Note"> model on the <a href="pv_module.htm" class="topiclink">Module</a> page.</span></p>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: thin; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="shadecalculator"></a><img id="TOGGLE0186A1_ICON" class="dropdown-toggle-icon" alt="Click to expand or collapse" title="Click to expand or collapse" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="ico-minus-16x16.gif"/></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" title="Click to expand or collapse" href="javascript:HMToggle('toggle','TOGGLE0186A1','TOGGLE0186A1_ICON')">3D Shade Calculator</a></span></td></tr></table></div><div id="TOGGLE0186A1" class="dropdown-toggle-body" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="Toggle Content Table" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">The <a href="3d_shade_calculator.htm" class="topiclink">SAM 3D Shade Calculator</a> uses a sun position algorithm and a three-dimensional drawing of a photovoltaic array and nearby shading objects to generate hour-by-month tables of beam irradiance shade loss percentages, and a sky diffuse loss percentage. It has the following features:</span></p>
<p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">Uses Bing Maps geocoding to automatically find latitude, longitude, and time zone for any street address.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">A three dimensional drawing, or shade scene, represents the photovoltaic array and nearby shading objects.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">The scene consists of active surfaces (photovoltaic subarrays) and shading objects.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">Four three-dimensional shapes are designed to represent most shading objects: Box, cylinder, tree, and roof.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">View and edit the shade scene in three-dimensional, bird's eye, and elevation views.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">Add an optional aerial photograph from Bing Maps or your own image as an underlay for the bird's eye view to help position objects on the scene.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">Drag the three-dimensional view to see shadows on active surfaces and the shade loss at different sun positions.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ProcedureStepLast">Calculate diurnal and hourly beam irradiance shade loss for a single year based on the scene location and relative positions of each active surface and shading objects in the scene.</span></p><div class="p_Video"><div style="margin:0px auto 0px auto;width:560px;height:auto"><div style="position:relative;overflow:hidden;width:560px;height:315px;padding:0;cursor:pointer;text-align:center;background:#000 url(vid_pv_shading.jpg) center no-repeat;background-size:100% 100%" onclick="javascript:this.innerHTML='&lt;iframe width=&quot;560&quot; height=&quot;315&quot; style=&quot;top:0;left:0;width:100%;height:100%;position:absolute&quot; src=&quot;https://www.youtube.com/embed/Fp505oNJSfw?showinfo=0&amp;autoplay=1&amp;controls=0&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;'"><img src="cicon_video_playbutton.png" style="position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;max-width:102px;max-height:104px;border:none" /></div></div></div>
<p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To use the SAM shade analysis calculator:</span></p>
<p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">On the <a href="pv_shading.htm" class="topiclink">Shading</a> page (detailed photovoltaic model) or <a href="pvwatts_system_design.htm" class="topiclink">System Design</a> page (PVWatts), click </span><span class="f_CHInterfaceElement">Open 3D shade calculator</span><span class="f_ProcedureStep">.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep"><a href="3dshad-define-location.htm" class="topiclink">Define the scene location</a> (latitude, longitude, time zone).</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep"><a href="3dshad-shading-objects.htm" class="topiclink">Add shading objects</a> to the scene -- these are trees, buildings, and other structures near the array that may block direct solar irradiance from reaching the array.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStep"><a href="3dshad-active-surface.htm" class="topiclink">Add active surface</a> objects to the scene to represent the photovoltaic array or subarrays.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStep"><a href="3dshad-save-close.htm" class="topiclink">Save and close</a> the calculator to apply shading factor valuess to the SAM <a href="pv_shading.htm" class="topiclink">shading</a> inputs.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">6.</span><span class="f_ProcedureStep"><a href="3dshad-generate-data.htm" class="topiclink">Generate shade data</a>.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">7.</span><span class="f_ProcedureStepLast"><a href="3dshad-export.htm" class="topiclink">Export shade data</a> to use in SAM or other simulation software</span><span class="f_Step" style="font-family: Arial,Helvetica,sans-serif;">.</span></p><p class="p_Text"><span class="f_Text">For more step-by-step instructions, see <a href="3dshad-how-to.htm" class="topiclink">How-To</a>.</span></p>
<p class="p_Text"><span class="f_Text">For a description of the 3D shade calculator's features, see <a href="3dshad-reference.htm" class="topiclink">Reference</a>.</span></p>
</td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: thin; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="externalshading"></a><img id="TOGGLE0186A2_ICON" class="dropdown-toggle-icon" alt="ico-minus-16x16" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="ico-minus-16x16.gif"/></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','TOGGLE0186A2','TOGGLE0186A2_ICON')">External Shading Losses</a></span></td></tr></table></div><div id="TOGGLE0186A2" class="dropdown-toggle-body" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="Toggle Content Table" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">The external shading losses represent a reduction of the solar radiation incident on the array due to shadows on the array created by nearby objects such as trees and buildings. SAM assumes that the entire array is uniformly shaded.</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">External Shading in Results</span></h4>
<p class="p_Text"><span class="f_Text">To see the effect of shading losses on the radiation incident on each subarray, after running a simulation, you can compare values in the hourly <a href="data.htm" class="topiclink">Tables</a> on the <a href="results_page.htm" class="topiclink">Results</a> page for nominal POA irradiance with the &quot;after shading only&quot; and &quot;after shading and soiling&quot; values. The radiation incident on the subarray is the POA total irradiance after shading and soling value (W/m</span><span class="f_Text" style="font-size: 7pt; vertical-align: super;">2</span><span class="f_Text">).</span></p>
<h4 class="p_Heading4"><span class="f_Heading4">Enabling and Disabling External Shading</span></h4>
<p class="p_Text"><span class="f_Text">SAM offers several options for specifying shading losses.</span></p>
<p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">You must choose at least one option.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ListLast">SAM does not prevent you from enabling more than one option even if that results in an unrealistic shading model. Be sure to verify that you have enabled the set of options you intend before running a simulation.</span></p><p class="p_TitleProcedure" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_TitleProcedure">To enable the external shading:</span></p>
<p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Edit Shading</span><span class="f_ProcedureStep"> for the subarray for which you want to enable external shading. For a system with a single array, only Subarray 1 is available.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">If you are working with a shading file from PVsyst, Solmetric Suneye, or Solar Pathfinder software, in the Edit Shading window, </span><span class="f_ProcedureStepNoNumber">click the appropriate button under</span><span class="f_CHInterfaceElement"> Import shading data from external tools</span><span class="f_ProcedureStepNoNumber"> to import the file.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">If you are using a table to specify shading factors (you can type, import, or paste values into the table), check the appropriate </span><span class="f_CHInterfaceElement">Enable</span><span class="f_ProcedureStep"> box in the Edit Shading window.</span></p><p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> For detailed instructions on specifying shading losses, click </span><span class="f_CHInterfaceElement">Help</span><span class="f_Note"> in the Edit Shading Data window.</span></p>
<p class="p_Text"><img alt="IMG_PVShading-EnableDisable" width="731" height="142" style="margin:0;width:731px;height:142px;border:none" src="img_pvshading-enabledisable.gif"/></p>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
</td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: thin; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="selfshading"></a><img id="TOGGLE0186A3_ICON" class="dropdown-toggle-icon" alt="Click to expand or collapse" title="Click to expand or collapse" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="ico-minus-16x16.gif"/></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" title="Click to expand or collapse" href="javascript:HMToggle('toggle','TOGGLE0186A3','TOGGLE0186A3_ICON')">Self Shading</a></span></td></tr></table></div><div id="TOGGLE0186A3" class="dropdown-toggle-body" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="Toggle Content Table" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">The self-shading model e</span><span class="f_VariableDescription">stimates the reduction in the array's DC output due to row-to-row shading of modules within the subarray</span><span class="f_Text">, where shadows from modules in neighboring rows of the array block sunlight from parts of other modules in the array during certain times of day.</span></p>
<p class="p_Text"><span class="f_Text">The response of a real photovoltaic module to shading is complex, and depends on several factors including the cell material, shape and layout of cells in the module, and configuration of bypass diodes in the module.</span></p>
<p class="p_Text"><span class="f_Text">For a description of the self-shading model implemented in SAM, see the draft pre-print Deline, C.; Dobos, A.; Janzou, S.; Meydbrey, J.; Donoval, M. (2013) A Simplified Model of Uniform Shading in Large Photovoltaic Arrays. Solar Energy Vol 96, October 2013, pp 274-282. Draft Preprint &nbsp;(<a href="https://sam.nrel.gov/sites/sam.nrel.gov/files/content/documents/pdf/deline-self-shading-model-draft-2013.pdf" target="_blank" class="weblink" title="https://sam.nrel.gov/sites/sam.nrel.gov/files/content/documents/pdf/deline-self-shading-model-draft-2013.pdf">PDF 1.3 MB</a>).</span></p>
<p class="p_Text"><span class="f_Text">SAM's self-shading model has several limitations, and only works under the following conditions:</span></p>
<p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">The cell material is crystalline silicon, either mono-crystalline or poly-crystalline. The self-shading model does not work for modules with thin film cells. SAM indicates the cell material on the <a href="pv_module.htm" class="topiclink">Module</a> page under Physical Characteristics.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">The self-shading model does not work with the <a href="pv_module.htm#simpleefficiency" class="topiclink">Simple Efficiency Module Model</a>.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_ListLast">Each module in the array consists of square cells arranged in a rectangular grid with one or more bypass diodes and can be described using the input variables described below. The self-shading model does not work for modules with rectangular, circular, or triangular shaped cells.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:24px;margin-left:-24px">&#8226;</span><span class="f_List">The array uses the fixed or one-axis tracking option on the <a href="pv_system_design.htm" class="topiclink">Array</a> page. The self-shading model does not work for two-axis or azimuth-axis tracking.</span></p><p class="p_Text"><span class="f_Text">SAM's module performance models assume that modules operate at the maximum power point for the level of incident radiation in each hour. The self-shading model calculates a single DC loss that estimates the total effect of shading on the subarray's output. The self-shading model calculates and applies the hourly DC loss using the following algorithm:</span></p>
<p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_List">Calculate the array's DC output (without shading) at the maximum power point based on the inputs you specify on the Module page and Array page.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_List">Calculate the size and position of rectangles of shade on the array using information about the relative positions of the sun and modules in the array.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_List">Determine the reduction in output of each module in the array based on the number of shaded cells and bypass diodes.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_List">Calculate an overall loss to apply to the array's maximum power point DC output that represents the reduction of output caused by the shadows.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 24px; margin: 0px 0px 6px 24px;"><span style="font-size:10pt; font-family: 'Segoe UI';color:#000000;display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ListLast">Recalculate the array's DC output.</span></p><p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> To simplify inputs for the self-shading model, SAM assumes that the module length is 1.7 times its width.</span></p>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_Text"><span class="f_ImageCaption">  <img alt="IMG_SelfShad-definitions" width="403" height="153" style="margin:0;width:403px;height:153px;border:none" src="img_selfshad-definitions.png"/></span></p>
<p class="p_Text"><span class="f_Text">&nbsp;</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Shading mode</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> The shading mode is only active for fixed subarrays, or for subarrays with 1-axis tracking </span><span class="f_Emphasis">without backtracking</span><span class="f_Note">. Those parameters are on the <a href="pv_system_design.htm" class="topiclink">System Design</a> page.</span></p>
<p class="p_VariableDescription"><span class="f_CHInterfaceElement">Self-shaded</span><span class="f_VariableDescription"> estimates losses from self-shading caused by shading of modules in one row by modules in neighboring rows based on the GCR value you specify. Self shading is not active for 1-axis trackers with backtracking because backtracking avoids any self shading.</span></p>
<p class="p_VariableDescription"><span class="f_CHInterfaceElement">None</span><span class="f_VariableDescription"> uses the approach of versions of SAM before SAM 2014.1.14. Because this option does not account for any self-shading, it tends to overestimate the array's production. We included this option to allow for comparison between the different options to see the effect of the self-shaded and backtracking options, and for comparison between results from this version and older versions of SAM.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Module Orientation</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The module orientation determines whether the short or long side of the module is parallel to the ground, assuming that all modules in the array are mounted at a fixed angle from the horizontal equal to the tilt angle specified on the <a href="pv_system_design.htm" class="topiclink">Array</a> page.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Portrait orientation means the short end of the module is parallel to the ground, or at the bottom of the module.</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Landscape orientation means the long end of the module is parallel to the ground, or at the bottom of the module.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Modules in subarray</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The number of modules in the subarray, from the <a href="pv_system_design.htm" class="topiclink">System Design</a> page.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">GCR</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Ground coverage ratio, defined as the length of the side of one row divided by the distance between the bottom of one row and the bottom of its neighboring row.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Number of modules along side of row</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The number of modules along the edge of the subarray array perpendicular to the bottom of the array as defined below.</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Number of modules along bottom of row</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">The number of modules along the bottom of a row, which is the edge of the row nearest to the ground.</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> SAM generates a simulation message if the number of modules along the side and bottom of the row you specify is inconsistent with the number of modules in the subarray, but does calculate and apply the self-shading loss factors based on the numbers you specify.</span></p>
</td>
</tr>
</table>
</div>
<div style="text-align: left; text-indent: 0px; border-color: #0072c6; border-style: solid; border-width: thin; background: #ebebeb; padding: 2px 2px 2px 2px; margin: 3px 0px 3px 0px;"><table style="border:none;border-spacing:0px;padding:0;line-height: normal;"><tr style="vertical-align:baseline"><td style="border:none;padding:0;width:19px"><a id="snow"></a><img id="TOGGLE0186A4_ICON" class="dropdown-toggle-icon" alt="Click to expand or collapse" title="Click to expand or collapse" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="ico-minus-16x16.gif"/></td><td style="border:none;padding:0"><span class="f_Heading2_atoc_"><a class="dropdown-toggle" style="font-style: normal; font-weight: bold; color: #0072c6; background-color: transparent; text-decoration: none;" title="Click to expand or collapse" href="javascript:HMToggle('toggle','TOGGLE0186A4','TOGGLE0186A4_ICON')">Snow Coverage</a></span></td></tr></table></div><div id="TOGGLE0186A4" class="dropdown-toggle-body" style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 6px 0px;"><table class="Toggle Content Table" style="width:100%; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:0px;"><p class="p_Text"><span class="f_Text">SAM's snow model for photovoltaic systems estimates the loss in system output during time steps when the array is covered in snow. It uses snow depth data from the weather file, and for time steps with snow, estimates the percentage of the photovoltaic array that is covered with snow based on the array's tilt angle, plane-of-array irradiance, and ambient temperature. The model assumes that the array is completely covered with snow when the snow depth data indicates a snowfall, and that snow slides off the array as the ambient temperature increases.</span></p>
<div class="p_Text" style="text-align: center;"><div style="margin:0px auto 0px auto;width:640px;height:auto"><div style="position:relative;overflow:hidden;width:640px;height:360px;padding:0;cursor:pointer;text-align:center;background:#000 url(vid_pv_snow_model.jpg) center no-repeat;background-size:100% 100%" onclick="javascript:this.innerHTML='&lt;iframe width=&quot;640&quot; height=&quot;360&quot; style=&quot;top:0;left:0;width:100%;height:100%;position:absolute&quot; src=&quot;https://www.youtube.com/embed/nGae5uycBwU?showinfo=0&amp;autoplay=1&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;'"></div><p style="text-align:center"><span class="f_ImageCaption">PV Snow Model, Severin Ryberg</span></p></div></div>
<p class="p_Text"><span class="f_Text">For a complete description of the model, see Ryberg, D.; Freeman, J. (2015). Integration, Validation, and Application of a PV Snow Coverage Model in SAM. National Renewable Energy Laboratory. NREL/TP-6A20-64260. (forthcoming, will be posted on <a href="https://sam.nrel.gov/performance" target="_blank" class="weblink" title="https://sam.nrel.gov/performance">SAM website</a> when available)</span></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> Only the NSRDB 1961-1990 TMY2 weather files from the National Solar Radiation Database contain snow depth data. To test the model, you should choose a file with &quot;TMY2&quot; in its name from the library on the Location and Resource page. The SAM CSV format supports snow depth data, so you should use that format to create a file with data from another source. If you run the snow model with a weather file that does not contain snow depth data, the simulation will fail, and SAM will display a notice saying something like &quot;The maximum acceptable number of bad snow depth values (500) has been reached.&quot;</span></p>
<p class="p_VariableName" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_VariableName">Estimate losses due to snow</span></p>
<p class="p_VariableDescription"><span class="f_VariableDescription">Check this option to model snow losses if the weather file on the <a href="pv_location_and_resource.htm" class="topiclink">Location and Resource</a> page includes snow depth data.</span></p>
<p class="p_Text"><span class="f_Text">SAM shows the total estimated snow loss in the loss diagram under <a href="losses.htm" class="topiclink">Losses</a> on the Results page, and in the Energy Loss table under <a href="summary.htm" class="topiclink">Summary</a>. You can see the power loss due to snow by displaying the Power loss due to snow in the <a href="timeseries.htm" class="topiclink">time series</a> or hourly and subourly <a href="data.htm" class="topiclink">data</a>.</span></p>
</td>
</tr>
</table>
</div>

</td></tr></table>

<script type="text/javascript">
HMInitToggle('TOGGLE0186A1_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A1\',\'TOGGLE0186A1_ICON\')');
HMInitToggle('TOGGLE0186A1','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A2_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A2\',\'TOGGLE0186A2_ICON\')');
HMInitToggle('TOGGLE0186A2','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A3_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A3\',\'TOGGLE0186A3_ICON\')');
HMInitToggle('TOGGLE0186A3','hm.type','dropdown','hm.state','0');
HMInitToggle('TOGGLE0186A4_ICON','hm.type','dropdown','hm.state','0','hm.src0','ico-plus-16x16.gif','hm.src1','ico-minus-16x16.gif','onclick','HMToggle(\'toggle\',\'TOGGLE0186A4\',\'TOGGLE0186A4_ICON\')');
HMInitToggle('TOGGLE0186A4','hm.type','dropdown','hm.state','0');
</script>
</body>
</html>
