<!DOCTYPE html>
<html>
<head>
   <title>Writing and Running SamUL Scripts</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="A SamUL script is code that you write in a SAM file. SAM stores the script in the file along with cases representing the power projects you are modeling." />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited { color: #999; }
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "samul_overview.htm",
   prevP: "samul.htm",
   currP: "samul_write_a_simple_script.htm",
   defP: "introduction.htm",
   titleP: "Writing and Running SamUL Scripts",
   mailsubject: "Feedback on: SAM Help - Writing and Running SamUL Scripts",
   simplesubject: "Documentation%20Feedback",
   mailid: "SamUL_Write_a_Simple_Script",
   mailpath: "SamUL Scripting Language &gt; Writing and Running SamUL Scripts /",
   mailbody: "Dear SAM Support,",
   mailrecipient: "SAM Support <sam.support@nrel.gov>",
   simplerecipient: "sam.support@nrel.gov",
   fbtype: false,
   header: true,
   background: "bg.png",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = false;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Contents",
   atoc_tip: "Jump to:&nbsp;",
   atoc_minHeaders: 2,
   atoc_btntip_off: "No contents entries on this page",
   atoc_btntip_on: "Display/hide topic directory",
   atoc_toptip: "Jump to top of page",
   atoc_top: "Scroll to Top of Page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click to sort on this column",
   umlauts: "false"
   }

</script>

<script type="text/javascript"> 
$(document).ready(function() {
var doc = document;  
try {
if (parent.hmWebHelp.navWidth != null) doc = parent.document;
doc.title = $("<div/>").html("SAM Help - Writing and Running SamUL Scripts").text();
window.onunload = function() {doc.title = $("<div/>").html("SAM Help").text();}
} catch(err) {}
});
</script>
<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "samul_write_a_simple_script.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->
<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Writing and Running SamUL Scripts</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
<p id="breadcrumbs">
<b>Navigation:</b>
<a href="samul.htm">SamUL Scripting Language</a>:</p> 
<h1 class="p_Heading1"><span class="f_Heading1">Writing and Running SamUL Scripts</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No contents entries on this page" title="No contents entries on this page" />
<br /><span>Contents</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>

<!--ZOOMRESTART-->
<p class="p_Text"><span class="f_Text">A SamUL script is code that you write in a SAM file. SAM stores the script in the file along with cases representing the power projects you are modeling.</span></p>
<p class="p_Text"><span class="f_Text">For examples of SamUL scripts, see the following sample files. &nbsp;On the File menu, click </span><span class="f_CHInterfaceElement">Open Sample File</span><span class="f_Text"> and choose one of the following the files from the list:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">SamUL Samples</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">SamUL Weather Data Case Study</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">SamUL Weather Uncertainty Analysis</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 6px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_ListLast">Power Tower Field Optimization with SamUL</span></p><p class="p_TitleProcedure"><span class="f_TitleProcedure">To create a SamUL script:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Create or open a SAM file with at least one case.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">On the </span><span class="f_CHInterfaceElement">Script</span><span class="f_ProcedureStep"> menu, click </span><span class="f_CHInterfaceElement">New SamUL Script</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM creates a new tab for the SamUL development environment where you write, edit, and run the script.</span></p>
<p class="p_Text"><span class="f_Text">The SamUL development environment consists of a toolbar, editor, and console:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">The toolbar at the top of the window provides controls for running and saving scripts, adding commands and variables, and for finding text in the script.</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_List">The editor is where you write and edit the script.</span></p><p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 6px 10px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span class="f_ListLast">The console at the bottom of the window displays script outputs and error messages when you run the script.</span></p><p class="p_Text"><span class="f_Text">SAM recognizes the file extension .sul as a text file containing a SamUL script. Use the toolbar buttons to save and open .sul files:</span></p>
<p class="p_Text"><img src="ss_samul-toolbarsaveopen.gif" width="351" height="31" alt="SS_SamUL-ToolbarSaveOpen" style="border:none" /></p>
<p class="p_Note"><span class="f_CHNote">Note.</span><span class="f_Note"> SAM saves the SamUL script in the .zsam file where you created the script. You do not need to save the script to an .sul file unless you want to use it in a different .zsam file.</span></p>
<p class="p_Text"><span class="f_Text">To run a script in a SAM file, there must be at least one case the file. In the script, you specify the name of a case with the </span><span class="f_CHCode">SetActiveCase</span><span class="f_Text"> function, and write code to change values of inputs variables in the case, configure and run simulations, and write simulation outputs to the console or a text file.</span></p>
<p class="p_Text"><span class="f_Text">The following simple script displays the total annual output and levelized cost of energy of a PV system for a range of five array tilt values. The script uses an input prompt to get a latitude value.</span></p>
<p class="p_TitleProcedure"><span class="f_TitleProcedure">To write and run a simple SamUL script:</span></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">1.</span><span class="f_ProcedureStep">Start SAM and create a case using the Photovoltaics, PVWatts option with Residential financing. Use the default case name &quot;New PVWatts Case 1.&quot;</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">2.</span><span class="f_ProcedureStep">On the </span><span class="f_CHInterfaceElement">Developer</span><span class="f_ProcedureStep"> menu, click </span><span class="f_CHInterfaceElement">New SamUL Script</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM adds a script and creates a tab for your script with the label Script1.</span></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">3.</span><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Script Functions</span><span class="f_ProcedureStep"> to open the function browser and choose </span><span class="f_CHInterfaceElement">Set Active Case</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">The function library is a list of the SamUL functions.</span></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">4.</span><span class="f_ProcedureStep">Type an open parentheses immediately after the </span><span class="f_CHCode">SetActiveCase</span><span class="f_ProcedureStep"> function to display the function syntax and a brief description.</span></p><p class="p_ProcedureStepNoNumber"><img src="ss_samul-functionhelp.gif" width="477" height="65" alt="SS_SamUL-FunctionHelp" style="border:none" /></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">5.</span><span class="f_ProcedureStep">Type the name of the case in quotations </span><span class="f_CHCode">&quot;New PVWatts Case&quot;</span><span class="f_ProcedureStep"> and close the parentheses.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">6.</span><span class="f_ProcedureStep">On the next line, use the function browser to add the </span><span class="f_CHCode">GetInput</span><span class="f_ProcedureStep"> function to the script.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">7.</span><span class="f_ProcedureStep">Type an open parenthesis, and click </span><span class="f_CHInterfaceElement">Input variables</span><span class="f_ProcedureStep"> to open the input variable browser to find the </span><span class="f_CHCode">climate.location</span><span class="f_ProcedureStep"> variable.</span></p><p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">8.</span><span class="f_ProcedureStep">Use the toolbar to find the functions and variables and to write the rest of the script shown below.</span></p><p class="p_ProcedureStepNoNumber"><img src="ss_samul-samplescript.gif" width="643" height="368" alt="SS_SamUL-SampleScript" style="border:none" /></p>
<p style="text-align: left; padding: 0px 0px 0px 24px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:24px;margin-left:-24px">9.</span><span class="f_ProcedureStep">Click </span><span class="f_CHInterfaceElement">Run Script</span><span class="f_ProcedureStep">.</span></p><p class="p_ProcedureStepNoNumber"><span class="f_ProcedureStepNoNumber">SAM displays the script output in the console, and a message in the status bar at the bottom of the window.</span></p>
<p class="p_ProcedureStepNoNumber"><img src="ss_samul-console.gif" width="388" height="158" alt="SS_SamUL-Console" style="border:none" /></p>

<!--ZOOMSTOP--> 


</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
