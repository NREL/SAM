<!DOCTYPE html>
<html>
<head>
   <title>Shade data description</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="description" content="The shade loss at a given time is the ratio of the shaded area of the active surface to its total area expressed as a percentage. The beam shade factor is one minus the shade..." />
   <meta name="picture" content="" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <style type="text/css">
     body { margin: 0px; background: #FFFFFF; }
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "shade_data_description.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<table style="width:100%; border:none; border-spacing:0px; padding:5px; background:#FFFFFF">
  <tr style="vertical-align:middle">
    <td style="text-align:left; color:#0072C6; font-family:segoe ui">
      <h1 class="p_Heading1" style="page-break-inside: avoid; page-break-after: avoid;"><span class="f_Heading1">Shade data description</span></h1>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table style="width:100%;border:none;border-spacing:0px"><tr style="vertical-align:top"><td style="text-align:left;padding:5px">
<p class="p_Text"><span class="f_Text">The shade loss at a given time is the ratio of the shaded area of the <a href="3dshad-create.htm" class="topiclink">active surface</a> to its total area expressed as a percentage. The beam shade factor is one minus the shade loss expressed as a fraction.</span></p>
<p class="p_Text"><span class="f_Text">The shade loss represents a reduction in beam solar irradiance incident on the active surface. The shade loss algorithm does not estimate the reduction in diffuse solar irradiance due to reduction of the view factor caused by shade objects.</span></p>
<p class="p_Text"><span class="f_Text">If there is more than one active surface in the scene, you can <a href="3dshad-generate-data.htm" class="topiclink">generate</a> a diurnal table for groups of one or more surfaces, or for groups of active surfaces. You can only generate a single hourly table for the active surfaces combined into a single array -- you cannot generate multiple hourly tables.</span></p>
<p class="p_Text"><span class="f_Text">The basic shade loss algorithm is:</span></p>
<p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 20px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:20px;margin-left:-20px">1.</span><span class="f_List">Calculate the sun position given the scene's latitude, longitude, and timezone</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_ListNoNumber">For the diurnal table, the sun position is at the midpoint of each hour on the 14th day of each month.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 13px; margin: 0px 0px 3px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#8226;</span><span class="f_ListNoNumber">For the hourly table, the sun position is at the midpoint of each hour of the year.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 20px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:20px;margin-left:-20px">2.</span><span class="f_List">Transform the 3D scene so that the view is aligned to the perspective of the sun.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 20px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:20px;margin-left:-20px">3.</span><span class="f_List">Calculate coordinates of polygons representing the scene.</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 20px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:20px;margin-left:-20px">4.</span><span class="f_List">Cull and sort the polygons in order along the vector from the scene to the sun and projected onto a 2D plane. (This step assumes parallel sun rays, so it uses a parallel projection rather than a perspective projection).</span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 20px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:20px;margin-left:-20px">5.</span><span class="f_List">For each active surface, calculate coordinates of shade polygons, which are polygons that intersect the active surface and shade object polygons. </span></p><p style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 20px; margin: 0px 0px 3px 10px;"><span style="font-size:10pt; font-family: 'Verdana';color:#000000;display:inline-block;width:20px;margin-left:-20px">6.</span><span class="f_List">Calculate the shade loss as the ratio of shade polygon area to the active surface area expressed as a percentage.</span></p>
</td></tr></table>

</body>
</html>
